"use strict";(self.webpackChunk_alfalab_core_components=self.webpackChunk_alfalab_core_components||[]).push([[2633],{"./packages/calendar/src/Component.responsive.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{t:function(){return CalendarResponsive}});var _home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_alfalab_core_components_mq__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/mq/modern/index.js"),_components_calendar_mobile__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/calendar/src/components/calendar-mobile/index.ts"),_desktop__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/calendar/src/desktop/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["breakpoint"],CalendarResponsive=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(_ref,ref){var _ref$breakpoint=_ref.breakpoint,breakpoint=void 0===_ref$breakpoint?1024:_ref$breakpoint,restProps=(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_ref,_excluded),_useMatchMedia=(0,_alfalab_core_components_mq__WEBPACK_IMPORTED_MODULE_1__.useMatchMedia)("(min-width: ".concat(breakpoint,"px)"));return(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__.Z)(_useMatchMedia,1)[0]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_desktop__WEBPACK_IMPORTED_MODULE_3__.CalendarDesktop,(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},restProps),{},{ref:ref})):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_components_calendar_mobile__WEBPACK_IMPORTED_MODULE_2__.S,(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},restProps),{},{ref:ref}))}));try{CalendarResponsive.displayName="CalendarResponsive",CalendarResponsive.__docgenInfo={description:"",displayName:"CalendarResponsive",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},headerClassName:{defaultValue:null,description:"Дополнительный класс шапки десктопного календаря",name:"headerClassName",required:!1,type:{name:"string"}},contentClassName:{defaultValue:null,description:"Дополнительный класс контента десктопного календаря",name:"contentClassName",required:!1,type:{name:"string"}},defaultView:{defaultValue:null,description:"Вид по умолчанию (выбор дней, месяцев, лет)",name:"defaultView",required:!1,type:{name:"enum",value:[{value:'"years"'},{value:'"months"'},{value:'"days"'}]}},selectorView:{defaultValue:null,description:"Вид шапки — месяц и год или только месяц",name:"selectorView",required:!1,type:{name:"enum",value:[{value:'"month-only"'},{value:'"full"'}]}},value:{defaultValue:null,description:"Выбранная дата (timestamp)",name:"value",required:!1,type:{name:"number"}},month:{defaultValue:null,description:"Открытый месяц (timestamp)",name:"month",required:!1,type:{name:"number"}},defaultMonth:{defaultValue:null,description:"Месяц, открытый по умолчанию (timestamp)",name:"defaultMonth",required:!1,type:{name:"number"}},minDate:{defaultValue:null,description:"Минимальная дата, доступная для выбора (timestamp)",name:"minDate",required:!1,type:{name:"number"}},maxDate:{defaultValue:null,description:"Максимальная дата, доступная для выбора (timestamp)",name:"maxDate",required:!1,type:{name:"number"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода (timestamp)",name:"selectedFrom",required:!1,type:{name:"number"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода (timestamp)",name:"selectedTo",required:!1,type:{name:"number"}},rangeComplete:{defaultValue:null,description:"Индикатор, что выбран полный период",name:"rangeComplete",required:!1,type:{name:"boolean"}},events:{defaultValue:null,description:"Список событий",name:"events",required:!1,type:{name:"(number | Date)[]"}},offDays:{defaultValue:null,description:"Список отключенных для выбора дней.",name:"offDays",required:!1,type:{name:"(number | Date)[]"}},holidays:{defaultValue:null,description:"Список выходных",name:"holidays",required:!1,type:{name:"(number | Date)[]"}},onMonthChange:{defaultValue:null,description:"Обработчик изменения месяца (или года)",name:"onMonthChange",required:!1,type:{name:"((month: number) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора даты",name:"onChange",required:!1,type:{name:"((date?: number) => void)"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на кнопку года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onPeriodClick:{defaultValue:null,description:"Обработчик нажатия на период",name:"onPeriodClick",required:!1,type:{name:"((event: MouseEvent<HTMLAnchorElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},hasHeader:{defaultValue:null,description:"Нужно ли рендерить шапку календаря\nНужно ли рендерить шапку",name:"hasHeader",required:!1,type:{name:"boolean"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},shape:{defaultValue:null,description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},showCurrentYearSelector:{defaultValue:{value:"false"},description:"Отображать ли текущий год, если selectorView 'month-only'",name:"showCurrentYearSelector",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Управление видимостью модалки",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"Заголовок календаря",name:"title",required:!1,type:{name:"string"}},onClose:{defaultValue:null,description:"Обработчик закрытия модалки",name:"onClose",required:!1,type:{name:"(() => void)"}},onMonthTitleClick:{defaultValue:null,description:"Обработчик клика на название месяца в мобильном календаре",name:"onMonthTitleClick",required:!1,type:{name:"((event: MouseEvent<HTMLSpanElement, MouseEvent>) => void)"}},yearsAmount:{defaultValue:null,description:"Количество лет для генерации в обе стороны от текущего года",name:"yearsAmount",required:!1,type:{name:"number"}},allowSelectionFromEmptyRange:{defaultValue:null,description:"Разрешить выбор из недозаполненного диапазона дат.",name:"allowSelectionFromEmptyRange",required:!1,type:{name:"boolean"}},breakpoint:{defaultValue:{value:"1024"},description:"Контрольная точка, с нее начинается desktop версия",name:"breakpoint",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/Component.responsive.tsx#CalendarResponsive"]={docgenInfo:CalendarResponsive.__docgenInfo,name:"CalendarResponsive",path:"packages/calendar/src/Component.responsive.tsx#CalendarResponsive"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/components/calendar-mobile/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S:function(){return CalendarMobile}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),index_m=__webpack_require__("./node_modules/react-virtuoso/dist/index.m.js"),resize_observer=__webpack_require__("./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),endOfDay=__webpack_require__("./node_modules/date-fns/esm/endOfDay/index.js"),isSameMonth=__webpack_require__("./node_modules/date-fns/esm/isSameMonth/index.js"),startOfDay=__webpack_require__("./node_modules/date-fns/esm/startOfDay/index.js"),startOfMonth=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),mobile=__webpack_require__("./dist/button/modern/mobile/index.js"),modern_mobile=__webpack_require__("./dist/modal/modern/mobile/index.js"),desktop=__webpack_require__("./packages/calendar/src/desktop/index.ts"),useCalendar=__webpack_require__("./packages/calendar/src/useCalendar.ts"),utils=__webpack_require__("./packages/calendar/src/utils.ts"),days_table=__webpack_require__("./packages/calendar/src/components/days-table/index.ts"),backdrop_transitions_module={appear:"appear_vqxO3",enter:"enter_Yty67",appearActive:"appearActive_kNVsU",enterActive:"enterActive_x0nrN",appearDone:"appearDone_CyZLM",enterDone:"enterDone_V5dn0",exit:"exit_zWPLg",exitActive:"exitActive_G7L_e",exitDone:"exitDone_Yj28t"},index_module_wrapper="wrapper_tvQrj",index_module_withZIndex="withZIndex_K0qU1",index_module_calendar="calendar_UA1ux",index_module_dayNames="dayNames_ACwpt",index_module_month="month_jeO5O",index_module_daysTable="daysTable_VVzAa",index_module_dayName="dayName_f8CKS",index_module_header="header_iW6PN",index_module_content="content_dhMN3",transitions_module={appear:"appear_fazPA",enter:"enter_QeO1l",appearActive:"appearActive__velO",enterActive:"enterActive_D_AiS",exit:"exit_xeIlG",exitActive:"exitActive_aeW_G",exitDone:"exitDone_b6UaT"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["hasHeader","allowSelectionFromEmptyRange","className","defaultView","selectorView","value","selectedFrom","selectedTo","onChange","onMonthTitleClick","dataTestId","open","onClose","title","yearsAmount"];"undefined"==typeof window||window.ResizeObserver||(window.ResizeObserver=resize_observer.do);var CalendarMonthOnlyView=function CalendarMonthOnlyView(_ref){var value=_ref.value,defaultView=_ref.defaultView,monthTimestamp=_ref.month,minDateTimestamp=_ref.minDate,maxDateTimestamp=_ref.maxDate,defaultMonthTimestamp=_ref.defaultMonth,offDays=_ref.offDays,events=_ref.events,holidays=_ref.holidays,onChange=_ref.onChange,onMonthTitleClick=_ref.onMonthTitleClick,selectedFrom=_ref.selectedFrom,selectedTo=_ref.selectedTo,rangeComplete=_ref.rangeComplete,onMonthChange=_ref.onMonthChange,_ref$yearsAmount=_ref.yearsAmount,yearsAmount=void 0===_ref$yearsAmount?3:_ref$yearsAmount,dayAddons=_ref.dayAddons,_ref$shape=_ref.shape,shape=void 0===_ref$shape?"rounded":_ref$shape,scrollableContainer=_ref.scrollableContainer,month=(0,react.useMemo)((function(){return monthTimestamp?new Date(monthTimestamp):void 0}),[monthTimestamp]),minDate=(0,react.useMemo)((function(){return minDateTimestamp?(0,startOfDay.Z)(minDateTimestamp):void 0}),[minDateTimestamp]),maxDate=(0,react.useMemo)((function(){return maxDateTimestamp?(0,endOfDay.Z)(maxDateTimestamp):void 0}),[maxDateTimestamp]),selected=(0,react.useMemo)((function(){return value?new Date(value):void 0}),[value]),defaultMonth=(0,react.useMemo)((function(){return(0,startOfMonth.Z)(selected||(0,utils.zi)(defaultMonthTimestamp||Date.now(),minDateTimestamp,maxDateTimestamp))}),[defaultMonthTimestamp,maxDateTimestamp,minDateTimestamp,selected]),_useCalendar=(0,useCalendar.G)({month:month,defaultMonth:defaultMonth,view:defaultView,minDate:minDate,maxDate:maxDate,selected:selected,offDays:offDays,events:events,onChange:onChange,onMonthChange:onMonthChange,dayAddons:dayAddons}),activeMonth=_useCalendar.activeMonth,highlighted=_useCalendar.highlighted,getDayProps=_useCalendar.getDayProps,activeMonths=(0,react.useMemo)((function(){for(var eventsMap=(0,utils.LT)(events||[]),offDaysMap=(0,utils.LT)(offDays||[]),holidaysMap=(0,utils.LT)(holidays||[]),dayAddonsMap=(0,utils.j1)(dayAddons||[]),prevMonths=[],nextMonths=[],date=new Date,currentYear=date.getFullYear(),currYearMonths=(0,utils.NB)(date,{}),i=0;i<yearsAmount;i++){var prevYear=date.setFullYear(currentYear-(i+1)),nextYear=date.setFullYear(currentYear+(i+1)),prevYearMonths=(0,utils.NB)(new Date(prevYear),{}),nextYearMonths=(0,utils.NB)(new Date(nextYear),{});prevMonths.unshift.apply(prevMonths,(0,toConsumableArray.Z)(prevYearMonths)),nextMonths.push.apply(nextMonths,(0,toConsumableArray.Z)(nextYearMonths))}return[].concat(prevMonths,(0,toConsumableArray.Z)(currYearMonths),nextMonths).map((function(item){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},item),{},{weeks:(0,utils.zK)(item.date,{minDate:minDate,maxDate:maxDate,selected:selected,eventsMap:eventsMap,offDaysMap:offDaysMap,holidaysMap:holidaysMap,dayAddonsMap:dayAddonsMap}),title:"".concat((0,utils.oz)(item.date)," ").concat(item.date.getFullYear())})}))}),[events,offDays,holidays,dayAddons,yearsAmount,minDate,maxDate,selected]),initialMonthIndex=(0,react.useMemo)((function(){var date=value||selectedFrom||Date.now();return activeMonths.findIndex((function(m){return(0,isSameMonth.Z)(date,m.date)}))}),[activeMonths,selectedFrom,value]);return(0,jsx_runtime.jsx)(index_m.OO,{totalCount:activeMonths.length,itemContent:function renderMonth(index){return(0,jsx_runtime.jsxs)("div",{className:index_module_daysTable,id:"month-".concat(index),children:[onMonthTitleClick?(0,jsx_runtime.jsx)("span",{className:index_module_month,onClick:onMonthTitleClick,tabIndex:0,role:"button",children:activeMonths[index].title}):(0,jsx_runtime.jsxs)("span",{className:index_module_month,children:[" ",activeMonths[index].title," "]}),(0,jsx_runtime.jsx)(days_table.n,{withTransition:!1,weeks:activeMonths[index].weeks,activeMonth:activeMonth,selectedFrom:selectedFrom,selectedTo:selectedTo,getDayProps:getDayProps,highlighted:highlighted,rangeComplete:rangeComplete,hasHeader:!1,responsive:!0,shape:shape})]})},initialTopMostItemIndex:{index:null!=initialMonthIndex?initialMonthIndex:0,align:"center"},increaseViewportBy:500,itemSize:function itemSize(el){return el.getBoundingClientRect().height+32},customScrollParent:scrollableContainer,useWindowScroll:!0})},CalendarMobile=(0,react.forwardRef)((function(_ref2,ref){var _ref2$hasHeader=_ref2.hasHeader,hasHeader=void 0===_ref2$hasHeader||_ref2$hasHeader,_ref2$allowSelectionF=_ref2.allowSelectionFromEmptyRange,allowSelectionFromEmptyRange=void 0!==_ref2$allowSelectionF&&_ref2$allowSelectionF,className=_ref2.className,_ref2$defaultView=_ref2.defaultView,defaultView=void 0===_ref2$defaultView?"days":_ref2$defaultView,_ref2$selectorView=_ref2.selectorView,selectorView=void 0===_ref2$selectorView?"full":_ref2$selectorView,value=_ref2.value,selectedFrom=_ref2.selectedFrom,selectedTo=_ref2.selectedTo,onChange=_ref2.onChange,onMonthTitleClick=_ref2.onMonthTitleClick,open=(_ref2.dataTestId,_ref2.open),onClose=_ref2.onClose,_ref2$title=_ref2.title,title=void 0===_ref2$title?"Календарь":_ref2$title,_ref2$yearsAmount=_ref2.yearsAmount,yearsAmount=void 0===_ref2$yearsAmount?3:_ref2$yearsAmount,restProps=(0,objectWithoutProperties.Z)(_ref2,_excluded),_useState=(0,react.useState)(),_useState2=(0,slicedToArray.Z)(_useState,2),modalRef=_useState2[0],setModalRef=_useState2[1],monthOnlyView="month-only"===selectorView,handleClose=function handleClose(){onClose&&onClose()},handleClear=function handleClear(){onChange&&onChange()};return(0,jsx_runtime.jsxs)(modern_mobile.ModalMobile,{open:open,onClose:handleClose,ref:(0,react_merge_refs_esm.Z)([function(node){return setModalRef(node)},ref]),className:className,wrapperClassName:index_module_wrapper,transitionProps:{timeout:360,classNames:transitions_module},backdropProps:{transitionClassNames:backdrop_transitions_module,timeout:360},children:[hasHeader&&(0,jsx_runtime.jsx)(modern_mobile.ModalMobile.Header,{hasCloser:!0,title:title,sticky:!0,bottomAddons:function renderDayNames(){return monthOnlyView?(0,jsx_runtime.jsx)("table",{className:index_module_dayNames,children:(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsx)("tr",{children:utils.c8.map((function(dayName){return(0,jsx_runtime.jsx)("th",{className:index_module_dayName,children:dayName},dayName)}))})})}):null}(),className:classnames_default()((0,defineProperty.Z)({},index_module_withZIndex,"full"===selectorView))}),(0,jsx_runtime.jsx)(modern_mobile.ModalMobile.Content,{flex:!0,children:function renderContent(){var commonProps={value:value,onChange:onChange,defaultView:defaultView,selectorView:selectorView,selectedFrom:selectedFrom,selectedTo:selectedTo};return monthOnlyView?(0,jsx_runtime.jsx)(CalendarMonthOnlyView,(0,objectSpread2.Z)((0,objectSpread2.Z)({open:open,yearsAmount:yearsAmount,scrollableContainer:modalRef,onMonthTitleClick:onMonthTitleClick},commonProps),restProps)):(0,jsx_runtime.jsx)(desktop.CalendarDesktop,(0,objectSpread2.Z)((0,objectSpread2.Z)({responsive:!0,className:classnames_default()(className,index_module_calendar),headerClassName:index_module_header,contentClassName:index_module_content},commonProps),restProps))}()}),(0,jsx_runtime.jsx)(modern_mobile.ModalMobile.Footer,{sticky:!0,className:classnames_default()((0,defineProperty.Z)({},index_module_withZIndex,"full"===selectorView)),children:function renderFooter(){if(selectedFrom||selectedTo){var selectButtonDisabled=!selectedFrom||!selectedTo;return allowSelectionFromEmptyRange&&(selectButtonDisabled=!selectedFrom),(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(mobile.ButtonMobile,{view:"secondary",size:"m",block:!0,onClick:handleClear,children:"Сбросить"}),(0,jsx_runtime.jsx)(mobile.ButtonMobile,{view:"primary",size:"m",block:!0,onClick:handleClose,disabled:selectButtonDisabled,children:"Выбрать"})]})}return value?(0,jsx_runtime.jsx)(mobile.ButtonMobile,{view:"primary",size:"m",block:!0,onClick:handleClose,children:"Выбрать"}):(0,jsx_runtime.jsx)(mobile.ButtonMobile,{view:"secondary",size:"m",block:!0,onClick:handleClose,children:"Отмена"})}()})]})}));try{CalendarMobile.displayName="CalendarMobile",CalendarMobile.__docgenInfo={description:"",displayName:"CalendarMobile",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},headerClassName:{defaultValue:null,description:"Дополнительный класс шапки десктопного календаря",name:"headerClassName",required:!1,type:{name:"string"}},contentClassName:{defaultValue:null,description:"Дополнительный класс контента десктопного календаря",name:"contentClassName",required:!1,type:{name:"string"}},defaultView:{defaultValue:{value:"days"},description:"Вид по умолчанию (выбор дней, месяцев, лет)",name:"defaultView",required:!1,type:{name:"enum",value:[{value:'"years"'},{value:'"months"'},{value:'"days"'}]}},selectorView:{defaultValue:{value:"full"},description:"Вид шапки — месяц и год или только месяц",name:"selectorView",required:!1,type:{name:"enum",value:[{value:'"month-only"'},{value:'"full"'}]}},value:{defaultValue:null,description:"Выбранная дата (timestamp)",name:"value",required:!1,type:{name:"number"}},month:{defaultValue:null,description:"Открытый месяц (timestamp)",name:"month",required:!1,type:{name:"number"}},defaultMonth:{defaultValue:null,description:"Месяц, открытый по умолчанию (timestamp)",name:"defaultMonth",required:!1,type:{name:"number"}},minDate:{defaultValue:null,description:"Минимальная дата, доступная для выбора (timestamp)",name:"minDate",required:!1,type:{name:"number"}},maxDate:{defaultValue:null,description:"Максимальная дата, доступная для выбора (timestamp)",name:"maxDate",required:!1,type:{name:"number"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода (timestamp)",name:"selectedFrom",required:!1,type:{name:"number"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода (timestamp)",name:"selectedTo",required:!1,type:{name:"number"}},rangeComplete:{defaultValue:null,description:"Индикатор, что выбран полный период",name:"rangeComplete",required:!1,type:{name:"boolean"}},events:{defaultValue:null,description:"Список событий",name:"events",required:!1,type:{name:"(number | Date)[]"}},offDays:{defaultValue:null,description:"Список отключенных для выбора дней.",name:"offDays",required:!1,type:{name:"(number | Date)[]"}},holidays:{defaultValue:null,description:"Список выходных",name:"holidays",required:!1,type:{name:"(number | Date)[]"}},onMonthChange:{defaultValue:null,description:"Обработчик изменения месяца (или года)",name:"onMonthChange",required:!1,type:{name:"((month: number) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора даты",name:"onChange",required:!1,type:{name:"((date?: number) => void)"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на кнопку года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onPeriodClick:{defaultValue:null,description:"Обработчик нажатия на период",name:"onPeriodClick",required:!1,type:{name:"((event: MouseEvent<HTMLAnchorElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},hasHeader:{defaultValue:{value:"true"},description:"Нужно ли рендерить шапку календаря\nНужно ли рендерить шапку",name:"hasHeader",required:!1,type:{name:"boolean"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},shape:{defaultValue:{value:"rounded"},description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},showCurrentYearSelector:{defaultValue:{value:"false"},description:"Отображать ли текущий год, если selectorView 'month-only'",name:"showCurrentYearSelector",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Управление видимостью модалки",name:"open",required:!0,type:{name:"boolean"}},title:{defaultValue:{value:"Календарь"},description:"Заголовок календаря",name:"title",required:!1,type:{name:"string"}},onClose:{defaultValue:null,description:"Обработчик закрытия модалки",name:"onClose",required:!1,type:{name:"(() => void)"}},onMonthTitleClick:{defaultValue:null,description:"Обработчик клика на название месяца в мобильном календаре",name:"onMonthTitleClick",required:!1,type:{name:"((event: MouseEvent<HTMLSpanElement, MouseEvent>) => void)"}},yearsAmount:{defaultValue:{value:"3"},description:"Количество лет для генерации в обе стороны от текущего года",name:"yearsAmount",required:!1,type:{name:"number"}},allowSelectionFromEmptyRange:{defaultValue:{value:"false"},description:"Разрешить выбор из недозаполненного диапазона дат.",name:"allowSelectionFromEmptyRange",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/calendar-mobile/Component.tsx#CalendarMobile"]={docgenInfo:CalendarMobile.__docgenInfo,name:"CalendarMobile",path:"packages/calendar/src/components/calendar-mobile/Component.tsx#CalendarMobile"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/components/days-table/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{n:function(){return DaysTable}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),TransitionGroup=__webpack_require__("./node_modules/react-transition-group/esm/TransitionGroup.js"),CSSTransition=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),isEqual=__webpack_require__("./node_modules/date-fns/esm/isEqual/index.js"),isLastDayOfMonth=__webpack_require__("./node_modules/date-fns/esm/isLastDayOfMonth/index.js"),isSameDay=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),isToday=__webpack_require__("./node_modules/date-fns/esm/isToday/index.js"),isWithinInterval=__webpack_require__("./node_modules/date-fns/esm/isWithinInterval/index.js"),startOfMonth=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),desktop=__webpack_require__("./dist/button/modern/desktop/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),utils=__webpack_require__("./packages/calendar/src/utils.ts"),index_module={daysTable:"daysTable_ienHc",responsive:"responsive_hox6R",dayName:"dayName_YMtAm",day:"day_k4E_o",rounded:"rounded_ACnj8",rectangular:"rectangular__Jdtd",highlighted:"highlighted_LI5WC",range:"range_EniRW",disabled:"disabled_LvQBx",holiday:"holiday_Zlu1b",today:"today_A07Pv",rangeComplete:"rangeComplete_HNZCQ",selected:"selected_ybNjY",dayWrapper:"dayWrapper_xipXu",cursorPointer:"cursorPointer_gBFq6",rangeEnd:"rangeEnd_E5hCP",rangeStart:"rangeStart_Evclc",transitLeft:"transitLeft_YRcw5",transitRight:"transitRight_iklL3",sharpTransitLeft:"sharpTransitLeft_MGzps",sharpTransitRight:"sharpTransitRight_uk_MG",daysEnter:"daysEnter_mXECn",left:"left_PkLol",daysEnterActive:"daysEnterActive_ErNTG",daysExit:"daysExit_JHJJr",daysExitActive:"daysExitActive_WCtDb",right:"right_fezZS",dayAddons:"dayAddons_ZK5A0",dayContent:"dayContent_J_3Xc",addons:"addons_rEEvG",dot:"dot_J6CgM",bottomAddon:"bottomAddon_iLX3Y"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),DaysTable=function DaysTable(_ref){var _ref$weeks=_ref.weeks,weeks=void 0===_ref$weeks?[]:_ref$weeks,_ref$activeMonth=_ref.activeMonth,activeMonth=void 0===_ref$activeMonth?new Date:_ref$activeMonth,highlighted=_ref.highlighted,selectedFrom=_ref.selectedFrom,selectedTo=_ref.selectedTo,_ref$rangeComplete=_ref.rangeComplete,rangeComplete=void 0===_ref$rangeComplete?selectedFrom&&selectedTo:_ref$rangeComplete,getDayProps=_ref.getDayProps,_ref$hasHeader=_ref.hasHeader,hasHeader=void 0===_ref$hasHeader||_ref$hasHeader,responsive=_ref.responsive,_ref$shape=_ref.shape,shape=void 0===_ref$shape?"rounded":_ref$shape,_ref$withTransition=_ref.withTransition,withTransition=void 0===_ref$withTransition||_ref$withTransition,activeMonthRef=(0,react.useRef)(activeMonth),directionRef=(0,react.useRef)();activeMonthRef.current=activeMonth;var prevActiveMonth=(0,esm.D9)(activeMonth);prevActiveMonth&&prevActiveMonth!==activeMonth&&(directionRef.current=activeMonth<prevActiveMonth?"right":"left");var selection=(0,utils.pl)(selectedFrom,selectedTo,highlighted),renderHeader=(0,react.useCallback)((function(){return utils.c8.map((function(dayName){return(0,jsx_runtime.jsx)("th",{className:index_module.dayName,children:dayName},dayName)}))}),[]),renderDay=function renderDay(day,dayIdx){var _cn,_cn2,_cn4;if(!day)return(0,jsx_runtime.jsx)("td",{},dayIdx);var daySelected=day.selected||selectedFrom&&(0,isSameDay.Z)(day.date,selectedFrom)||selectedTo&&(0,isSameDay.Z)(day.date,selectedTo),dayHighlighted=highlighted&&(0,isEqual.Z)(day.date,highlighted),inRange=selection&&(0,isWithinInterval.Z)(day.date,selection),firstDayOfMonth=1===day.date.getDate(),lastDayOfMonth=(0,isLastDayOfMonth.Z)(day.date),firstDayOfWeek=0===(0,utils.zx)(day.date),lastDayOfWeek=6===(0,utils.zx)(day.date),transitLeft=firstDayOfMonth&&inRange&&selection&&day.date>selection.start,transitRight=lastDayOfMonth&&inRange&&selection&&day.date<selection.end,rangeStart=selection&&(0,isSameDay.Z)(day.date,selection.start),rangeEnd=selection&&(0,isSameDay.Z)(day.date,selection.end),sharpTransitLeft=firstDayOfWeek&&firstDayOfMonth&&inRange&&selection&&((0,isSameDay.Z)(day.date,selection.start)||(0,isSameDay.Z)(day.date,selection.end)),sharpTransitRight=lastDayOfWeek&&lastDayOfMonth&&inRange&&selection&&((0,isSameDay.Z)(day.date,selection.start)||(0,isSameDay.Z)(day.date,selection.end)),dayProps=getDayProps(day),onClick=dayProps.onClick;return(0,react.createElement)("td",(0,objectSpread2.Z)((0,objectSpread2.Z)({},dayProps),{},{key:day.date.getTime(),className:classnames_default()(index_module.dayWrapper,(_cn={},(0,defineProperty.Z)(_cn,index_module.range,inRange),(0,defineProperty.Z)(_cn,index_module.rangeComplete,inRange&&rangeComplete),(0,defineProperty.Z)(_cn,index_module.transitLeft,transitLeft),(0,defineProperty.Z)(_cn,index_module.transitRight,transitRight),(0,defineProperty.Z)(_cn,index_module.sharpTransitLeft,sharpTransitLeft),(0,defineProperty.Z)(_cn,index_module.sharpTransitRight,sharpTransitRight),(0,defineProperty.Z)(_cn,index_module.rangeStart,rangeStart),(0,defineProperty.Z)(_cn,index_module.rangeEnd,rangeEnd),(0,defineProperty.Z)(_cn,index_module.cursorPointer,!day.disabled),_cn)),align:"center",ref:function ref(node){(0,startOfMonth.Z)(day.date).getTime()===activeMonthRef.current.getTime()&&dayProps.ref(node)},onClick:function handleDayClick(e){day.disabled||onClick(e)}}),(0,jsx_runtime.jsxs)(desktop.ButtonDesktop,{type:"button",view:"ghost",size:"xs",disabled:day.disabled,className:classnames_default()(index_module.day,index_module[shape],(_cn2={},(0,defineProperty.Z)(_cn2,index_module.dayAddons,day.dayAddon),(0,defineProperty.Z)(_cn2,index_module.selected,daySelected),(0,defineProperty.Z)(_cn2,index_module.today,(0,isToday.Z)(day.date)),(0,defineProperty.Z)(_cn2,index_module.disabled,day.disabled),(0,defineProperty.Z)(_cn2,index_module.holiday,!day.disabled&&day.holiday),(0,defineProperty.Z)(_cn2,index_module.highlighted,dayHighlighted),_cn2)),children:[(0,jsx_runtime.jsx)("span",{className:classnames_default()(index_module.dayContent,(0,defineProperty.Z)({},index_module.today,(0,isToday.Z)(day.date))),children:day.date.getDate()}),(0,jsx_runtime.jsx)("span",{className:classnames_default()(index_module.addons,(_cn4={},(0,defineProperty.Z)(_cn4,index_module.dot,day.event),(0,defineProperty.Z)(_cn4,index_module.bottomAddon,day.dayAddon),(0,defineProperty.Z)(_cn4,index_module.selected,daySelected),_cn4)),children:day.dayAddon})]}))},renderWeek=function renderWeek(week,weekIdx){return(0,jsx_runtime.jsx)("tr",{children:week.map(renderDay)},weekIdx)},renderMonth=function renderMonth(){return(0,jsx_runtime.jsx)("tbody",{children:weeks.map(renderWeek)})};return(0,jsx_runtime.jsxs)("table",{className:classnames_default()(index_module.daysTable,directionRef.current&&index_module[directionRef.current],(0,defineProperty.Z)({},index_module.responsive,responsive)),children:[hasHeader&&(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsx)("tr",{children:renderHeader()})}),withTransition?(0,jsx_runtime.jsx)(TransitionGroup.Z,{component:null,children:(0,jsx_runtime.jsx)(CSSTransition.Z,{timeout:300,classNames:{enter:index_module.daysEnter,enterActive:index_module.daysEnterActive,exit:index_module.daysExit,exitActive:index_module.daysExitActive},children:renderMonth()},activeMonth.getTime())}):renderMonth()]})};try{DaysTable.displayName="DaysTable",DaysTable.__docgenInfo={description:"",displayName:"DaysTable",props:{weeks:{defaultValue:{value:"[]"},description:"Массив-календарь недель",name:"weeks",required:!1,type:{name:"Day[][]"}},activeMonth:{defaultValue:{value:"new Date()"},description:"Активный месяц",name:"activeMonth",required:!1,type:{name:"Date"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода",name:"selectedFrom",required:!1,type:{name:"number | Date"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода",name:"selectedTo",required:!1,type:{name:"number | Date"}},rangeComplete:{defaultValue:{value:"selectedFrom && selectedTo"},description:"Индикатор, что выбран полный период",name:"rangeComplete",required:!1,type:{name:"boolean"}},highlighted:{defaultValue:null,description:"Подсвеченная дата (ховер)",name:"highlighted",required:!1,type:{name:"number | Date"}},getDayProps:{defaultValue:null,description:"Доп. пропсы для переданного дня",name:"getDayProps",required:!0,type:{name:"(day: Day) => Record<string, unknown> & { ref: (instance: HTMLTableDataCellElement | null) => void; onClick: (e: MouseEvent<HTMLTableDataCellElement, MouseEvent>) => void; }"}},hasHeader:{defaultValue:{value:"true"},description:"Нужно ли рендерить шапку",name:"hasHeader",required:!1,type:{name:"boolean"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},shape:{defaultValue:{value:"rounded"},description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},withTransition:{defaultValue:{value:"true"},description:"Рендерит компонент, обернутый в Transition",name:"withTransition",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/days-table/Component.tsx#DaysTable"]={docgenInfo:DaysTable.__docgenInfo,name:"DaysTable",path:"packages/calendar/src/components/days-table/Component.tsx#DaysTable"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/components/period-slider/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{h:function(){return PeriodSlider}});var slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),endOfWeek=__webpack_require__("./node_modules/date-fns/esm/endOfWeek/index.js"),startOfWeek=__webpack_require__("./node_modules/date-fns/esm/startOfWeek/index.js"),desktop=__webpack_require__("./dist/button/modern/desktop/index.js"),modern=__webpack_require__("./dist/icon-button/modern/index.js"),ChevronBackMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/ChevronBackMIcon.js"),utils=__webpack_require__("./packages/calendar/src/utils.ts"),addDays=__webpack_require__("./node_modules/date-fns/esm/addDays/index.js"),addMonths=__webpack_require__("./node_modules/date-fns/esm/addMonths/index.js"),addQuarters=__webpack_require__("./node_modules/date-fns/esm/addQuarters/index.js"),addWeeks=__webpack_require__("./node_modules/date-fns/esm/addWeeks/index.js"),addYears=__webpack_require__("./node_modules/date-fns/esm/addYears/index.js"),endOfMonth=__webpack_require__("./node_modules/date-fns/esm/endOfMonth/index.js"),endOfQuarter=__webpack_require__("./node_modules/date-fns/esm/endOfQuarter/index.js"),endOfYear=__webpack_require__("./node_modules/date-fns/esm/endOfYear/index.js"),getQuarter=__webpack_require__("./node_modules/date-fns/esm/getQuarter/index.js"),getYear=__webpack_require__("./node_modules/date-fns/esm/getYear/index.js"),isToday=__webpack_require__("./node_modules/date-fns/esm/isToday/index.js"),isYesterday=__webpack_require__("./node_modules/date-fns/esm/isYesterday/index.js"),startOfMonth=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),startOfQuarter=__webpack_require__("./node_modules/date-fns/esm/startOfQuarter/index.js"),startOfYear=__webpack_require__("./node_modules/date-fns/esm/startOfYear/index.js"),formatPeriod=function formatPeriod(valueFrom,valueTo,periodType,showCurrentYear){if("day"===periodType)return(0,isToday.Z)(valueFrom)?"Сегодня":(0,isYesterday.Z)(valueFrom)?"Вчера":(0,utils.p6)(valueFrom);if("month"===periodType){var monthAndYear="".concat((0,utils.oz)(valueFrom)," ").concat((0,getYear.Z)(valueFrom));return showCurrentYear?monthAndYear:(0,getYear.Z)(valueFrom)===(0,getYear.Z)(new Date)?(0,utils.oz)(valueFrom):monthAndYear}return"quarter"===periodType?"".concat((0,getQuarter.Z)(valueFrom)," квартал ").concat((0,getYear.Z)(valueFrom)):"year"===periodType?"".concat((0,getYear.Z)(valueFrom)," год"):"".concat((0,utils.p6)(valueFrom)," - ").concat((0,utils.p6)(valueTo))},shiftValues=function shiftValues(valueFrom,valueTo,periodType,direction){var newValueFrom=valueFrom,newValueTo=valueTo,amount="next"===direction?1:-1;switch(periodType){case"day":newValueFrom=(0,addDays.Z)(valueFrom,amount),newValueTo=(0,addDays.Z)(valueFrom,amount);break;case"week":newValueFrom=(0,startOfWeek.Z)((0,addWeeks.Z)(valueFrom,amount),{weekStartsOn:1}),newValueTo=(0,endOfWeek.Z)(newValueFrom,{weekStartsOn:1});break;case"month":newValueFrom=(0,startOfMonth.Z)((0,addMonths.Z)(valueFrom,amount)),newValueTo=(0,endOfMonth.Z)(newValueFrom);break;case"quarter":newValueFrom=(0,startOfQuarter.Z)((0,addQuarters.Z)(valueFrom,amount)),newValueTo=(0,endOfQuarter.Z)(newValueFrom);break;case"year":newValueFrom=(0,startOfYear.Z)((0,addYears.Z)(valueFrom,amount)),newValueTo=(0,endOfYear.Z)(newValueFrom)}return{valueFrom:newValueFrom,valueTo:newValueTo}},index_module_component="component_yOD0m",index_module_period="period_EGEyc",index_module_clicablePeriod="clicablePeriod_lfFFP",index_module_empty="empty_OPNF6",index_module_arrow="arrow_gz7uq",index_module_yearSelectorButton="yearSelectorButton_pYEbe",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),PeriodSlider=function PeriodSlider(_ref){var value=_ref.value,_ref$periodType=_ref.periodType,periodType=void 0===_ref$periodType?"month":_ref$periodType,className=_ref.className,_ref$periodFormatter=_ref.periodFormatter,periodFormatter=void 0===_ref$periodFormatter?formatPeriod:_ref$periodFormatter,_ref$prevArrowDisable=_ref.prevArrowDisabled,prevArrowDisabled=void 0!==_ref$prevArrowDisable&&_ref$prevArrowDisable,_ref$nextArrowDisable=_ref.nextArrowDisabled,nextArrowDisabled=void 0!==_ref$nextArrowDisable&&_ref$nextArrowDisable,_ref$hideDisabledArro=_ref.hideDisabledArrows,hideDisabledArrows=void 0!==_ref$hideDisabledArro&&_ref$hideDisabledArro,_ref$isMonthAndYearSe=_ref.isMonthAndYearSelectable,isMonthAndYearSelectable=void 0!==_ref$isMonthAndYearSe&&_ref$isMonthAndYearSe,_ref$showCurrentYearS=_ref.showCurrentYearSelector,showCurrentYearSelector=void 0!==_ref$showCurrentYearS&&_ref$showCurrentYearS,_ref$onPrevArrowClick=_ref.onPrevArrowClick,onPrevArrowClick=void 0===_ref$onPrevArrowClick?function(){return null}:_ref$onPrevArrowClick,_ref$onNextArrowClick=_ref.onNextArrowClick,onNextArrowClick=void 0===_ref$onNextArrowClick?function(){return null}:_ref$onNextArrowClick,onMonthClick=_ref.onMonthClick,onYearClick=_ref.onYearClick,onPeriodClick=_ref.onPeriodClick,dataTestId=_ref.dataTestId,_useMemo=(0,react.useMemo)((function(){var from,to;if(!value)return[void 0,void 0];if(Array.isArray(value)){var _value=(0,slicedToArray.Z)(value,2);from=_value[0],to=_value[1]}else from=value,to=value,"week"===periodType&&(from=(0,startOfWeek.Z)(from,{weekStartsOn:1}),to=(0,endOfWeek.Z)(from,{weekStartsOn:1}));return[from,to]}),[periodType,value]),_useMemo2=(0,slicedToArray.Z)(_useMemo,2),valueFrom=_useMemo2[0],valueTo=_useMemo2[1],yearSelectorValue=(0,react.useMemo)((function(){return function getYearSelectorValue(valueFrom,showCurrentYear){if(!valueFrom)return"";var year=(0,getYear.Z)(valueFrom);return year===(0,getYear.Z)(new Date)?showCurrentYear?year:"":year}(valueFrom,showCurrentYearSelector)}),[showCurrentYearSelector,valueFrom]),showArrow=function showArrow(direction){return!hideDisabledArrows||!("prev"===direction?prevArrowDisabled:nextArrowDisabled)&&valueFrom};return(0,jsx_runtime.jsxs)("div",{className:classnames_default()(index_module_component,className),"aria-live":"polite","data-test-id":dataTestId,children:[showArrow("prev")&&(0,jsx_runtime.jsx)(modern.IconButton,{size:"xs",className:index_module_arrow,icon:ChevronBackMIcon.ChevronBackMIcon,onClick:function handlePrevArrowClick(event){if(valueFrom&&valueTo){var newValues=shiftValues(valueFrom,valueTo,periodType,"prev");onPrevArrowClick(event,{value:newValues.valueFrom,valueFrom:newValues.valueFrom,valueTo:newValues.valueTo,periodType:periodType})}},disabled:prevArrowDisabled||!valueFrom,"aria-label":"Предыдущий период"}),function renderHeader(){return valueFrom&&valueTo?"month"===periodType&&isMonthAndYearSelectable?(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(desktop.ButtonDesktop,{className:index_module_period,view:"ghost",size:"l",onClick:onMonthClick,children:(0,utils.oz)(valueFrom)}),yearSelectorValue&&(0,jsx_runtime.jsx)(desktop.ButtonDesktop,{className:classnames_default()(index_module_yearSelectorButton,index_module_period),view:"ghost",size:"l",onClick:onYearClick,children:yearSelectorValue})]}):onPeriodClick?(0,jsx_runtime.jsx)("a",{role:"button",tabIndex:0,onClick:onPeriodClick,className:classnames_default()(index_module_period,index_module_clicablePeriod),children:periodFormatter(valueFrom,valueTo,periodType,showCurrentYearSelector)}):(0,jsx_runtime.jsx)("span",{className:index_module_period,children:periodFormatter(valueFrom,valueTo,periodType,showCurrentYearSelector)}):(0,jsx_runtime.jsx)("span",{className:classnames_default()(index_module_period,index_module_empty),children:"Укажите период"})}(),showArrow("next")&&(0,jsx_runtime.jsx)(modern.IconButton,{size:"xs",className:index_module_arrow,icon:ChevronBackMIcon.ChevronBackMIcon,onClick:function handleNextArrowClick(event){if(valueFrom&&valueTo){var newValues=shiftValues(valueFrom,valueTo,periodType,"next");onNextArrowClick(event,{value:newValues.valueFrom,valueFrom:newValues.valueFrom,valueTo:newValues.valueTo,periodType:periodType})}},disabled:nextArrowDisabled||!valueFrom,"aria-label":"Следующий период"})]})};try{PeriodSlider.displayName="PeriodSlider",PeriodSlider.__docgenInfo={description:"",displayName:"PeriodSlider",props:{value:{defaultValue:null,description:"Активная дата или период",name:"value",required:!1,type:{name:"Date | [Date, Date]"}},periodType:{defaultValue:{value:"month"},description:"Тип периода",name:"periodType",required:!1,type:{name:"enum",value:[{value:'"month"'},{value:'"range"'},{value:'"week"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},prevArrowDisabled:{defaultValue:{value:"false"},description:"Отключает кнопку назад",name:"prevArrowDisabled",required:!1,type:{name:"boolean"}},nextArrowDisabled:{defaultValue:{value:"false"},description:"Отключает кнопку вперед",name:"nextArrowDisabled",required:!1,type:{name:"boolean"}},hideDisabledArrows:{defaultValue:{value:"false"},description:"Скрывает заблокированные кнопки",name:"hideDisabledArrows",required:!1,type:{name:"boolean"}},isMonthAndYearSelectable:{defaultValue:{value:"false"},description:"Возможность выбора месяца и года, если periodType 'month'",name:"isMonthAndYearSelectable",required:!1,type:{name:"boolean"}},showCurrentYearSelector:{defaultValue:{value:"false"},description:"Отображать ли текущий год, если isMonthAndYearSelectable true",name:"showCurrentYearSelector",required:!1,type:{name:"boolean"}},periodFormatter:{defaultValue:{value:"(\n    valueFrom: Date,\n    valueTo: Date,\n    periodType: PeriodType,\n    showCurrentYear?: boolean,\n) => {\n    if (periodType === 'day') {\n        if (isToday(valueFrom)) return 'Сегодня';\n        if (isYesterday(valueFrom)) return 'Вчера';\n\n        return formatDate(valueFrom);\n    }\n\n    if (periodType === 'month') {\n        const monthAndYear = `${monthName(valueFrom)} ${getYear(valueFrom)}`;\n\n        if (showCurrentYear) {\n            return monthAndYear;\n        }\n        const year = getYear(valueFrom);\n\n        return year === getYear(new Date()) ? monthName(valueFrom) : monthAndYear;\n    }\n\n    if (periodType === 'quarter') {\n        return `${getQuarter(valueFrom)} квартал ${getYear(valueFrom)}`;\n    }\n\n    if (periodType === 'year') {\n        return `${getYear(valueFrom)} год`;\n    }\n\n    return `${formatDate(valueFrom)} - ${formatDate(valueTo)}`;\n}"},description:"Функция для форматирование выбранного периода",name:"periodFormatter",required:!1,type:{name:"((valueFrom: Date, valueTo: Date, periodType: PeriodType) => string)"}},onPrevArrowClick:{defaultValue:{value:"() => null"},description:"Обработчик нажатия кнопки переключения на назад",name:"onPrevArrowClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>, payload: { value: Date; valueFrom: Date; valueTo: Date; periodType: PeriodType; }) => void)"}},onNextArrowClick:{defaultValue:{value:"() => null"},description:"Обработчик нажатия кнопки переключения на вперед",name:"onNextArrowClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>, payload: { value: Date; valueFrom: Date; valueTo: Date; periodType: PeriodType; }) => void)"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на селектор месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на селектор года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onPeriodClick:{defaultValue:null,description:"Обработчик нажатия на период",name:"onPeriodClick",required:!1,type:{name:"((event: MouseEvent<HTMLAnchorElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/period-slider/Component.tsx#PeriodSlider"]={docgenInfo:PeriodSlider.__docgenInfo,name:"PeriodSlider",path:"packages/calendar/src/components/period-slider/Component.tsx#PeriodSlider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/desktop/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CalendarDesktop:function(){return CalendarDesktop}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),endOfDay=__webpack_require__("./node_modules/date-fns/esm/endOfDay/index.js"),startOfDay=__webpack_require__("./node_modules/date-fns/esm/startOfDay/index.js"),startOfMonth=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),modern=__webpack_require__("./dist/shared/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),days_table=__webpack_require__("./packages/calendar/src/components/days-table/index.ts"),index_module={header:"header_NrMdQ",withShadow:"withShadow_d7QW7"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Header=function Header(_ref){var _cn,_ref$view=_ref.view,view=void 0===_ref$view?"full":_ref$view,withShadow=_ref.withShadow,children=_ref.children,className=_ref.className;return(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.header,className,(_cn={},(0,defineProperty.Z)(_cn,index_module.monthOnly,"month-only"===view),(0,defineProperty.Z)(_cn,index_module.withShadow,withShadow),_cn)),"aria-live":"polite",children:children})};try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{view:{defaultValue:{value:"full"},description:"Вид шапки — месяц и год или только месяц",name:"view",required:!1,type:{name:"enum",value:[{value:'"month-only"'},{value:'"full"'}]}},withShadow:{defaultValue:null,description:"Отображать тень? (нужна при прокрутке)",name:"withShadow",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"Дочерние элементы.",name:"children",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/header/Component.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"packages/calendar/src/components/header/Component.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}var ChevronDownCompactSIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/ChevronDownCompactSIcon.js"),utils=__webpack_require__("./packages/calendar/src/utils.ts"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),desktop=__webpack_require__("./dist/button/modern/desktop/index.js"),select_button_index_module={button:"button_O9Vap",filled:"filled_fCwuJ",outlined:"outlined_U_ALc",selected:"selected_ssICg"},_excluded=["className","children","view"],SelectButton=(0,react.forwardRef)((function(_ref,ref){var className=_ref.className,children=_ref.children,_ref$view=_ref.view,view=void 0===_ref$view?"default":_ref$view,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded);return(0,jsx_runtime.jsx)(desktop.ButtonDesktop,(0,objectSpread2.Z)((0,objectSpread2.Z)({},restProps),{},{ref:ref,view:"ghost",size:"xs",className:classnames_default()(select_button_index_module.button,select_button_index_module[view],className),children:children}))}));try{SelectButton.displayName="SelectButton",SelectButton.__docgenInfo={description:"",displayName:"SelectButton",props:{view:{defaultValue:{value:"default"},description:"Вид кнопки",name:"view",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"outlined"'},{value:'"filled"'},{value:'"selected"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/select-button/Component.tsx#SelectButton"]={docgenInfo:SelectButton.__docgenInfo,name:"SelectButton",path:"packages/calendar/src/components/select-button/Component.tsx#SelectButton"})}catch(__react_docgen_typescript_loader_error){}var month_year_header_index_module_component="component_EC2vL",month_year_header_index_module_button="button_dIA8x",month_year_header_index_module_month="month_rlIJB",month_year_header_index_module_year="year_bH27G",month_year_header_index_module_buttonContent="buttonContent_H9ohd",month_year_header_index_module_upDownIcon="upDownIcon_jFfhK",MonthYearHeader=function MonthYearHeader(_ref){var value=_ref.value,className=_ref.className,onMonthClick=_ref.onMonthClick,onYearClick=_ref.onYearClick,dataTestId=_ref.dataTestId,month=value?(0,utils.oz)(value):void 0,year=value?value.getFullYear().toString():void 0;return(0,jsx_runtime.jsxs)("div",{className:classnames_default()(month_year_header_index_module_component,className),"aria-live":"polite","data-test-id":dataTestId,children:[(0,jsx_runtime.jsx)(SelectButton,{view:"filled",className:classnames_default()(month_year_header_index_module_button,month_year_header_index_module_month),onClick:onMonthClick,children:(0,jsx_runtime.jsxs)("span",{className:month_year_header_index_module_buttonContent,children:[month,(0,jsx_runtime.jsx)(ChevronDownCompactSIcon.ChevronDownCompactSIcon,{className:month_year_header_index_module_upDownIcon})]})}),(0,jsx_runtime.jsx)(SelectButton,{view:"filled",className:classnames_default()(month_year_header_index_module_button,month_year_header_index_module_year),onClick:onYearClick,children:(0,jsx_runtime.jsxs)("span",{className:month_year_header_index_module_buttonContent,children:[year,(0,jsx_runtime.jsx)(ChevronDownCompactSIcon.ChevronDownCompactSIcon,{className:month_year_header_index_module_upDownIcon})]})})]})};try{MonthYearHeader.displayName="MonthYearHeader",MonthYearHeader.__docgenInfo={description:"",displayName:"MonthYearHeader",props:{value:{defaultValue:null,description:"Активная дата",name:"value",required:!1,type:{name:"Date"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на кнопку года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/month-year-header/Component.tsx#MonthYearHeader"]={docgenInfo:MonthYearHeader.__docgenInfo,name:"MonthYearHeader",path:"packages/calendar/src/components/month-year-header/Component.tsx#MonthYearHeader"})}catch(__react_docgen_typescript_loader_error){}var isSameMonth=__webpack_require__("./node_modules/date-fns/esm/isSameMonth/index.js"),isThisMonth=__webpack_require__("./node_modules/date-fns/esm/isThisMonth/index.js"),months_table_index_module_monthsTable="monthsTable_e4rtu",months_table_index_module_responsive="responsive_fICxH",months_table_index_module_button="button_XNCgm",MonthsTable=function MonthsTable(_ref){var selectedMonth=_ref.selectedMonth,_ref$months=_ref.months,months=void 0===_ref$months?[]:_ref$months,getMonthProps=_ref.getMonthProps,responsive=_ref.responsive,view=(0,react.useCallback)((function(month){return selectedMonth&&(0,isSameMonth.Z)(selectedMonth,month.date)?"selected":(0,isThisMonth.Z)(month.date)?"outlined":"default"}),[selectedMonth]);return(0,jsx_runtime.jsx)("div",{className:classnames_default()(months_table_index_module_monthsTable,(0,defineProperty.Z)({},months_table_index_module_responsive,responsive)),children:months.map((function(month){return(0,react.createElement)(SelectButton,(0,objectSpread2.Z)((0,objectSpread2.Z)({},getMonthProps(month)),{},{key:month.date.getTime(),className:months_table_index_module_button,view:view(month)}),(0,utils.oz)(month.date))}))})};try{MonthsTable.displayName="MonthsTable",MonthsTable.__docgenInfo={description:"",displayName:"MonthsTable",props:{months:{defaultValue:{value:"[]"},description:"Массив месяцев",name:"months",required:!1,type:{name:"Month[]"}},selectedMonth:{defaultValue:null,description:"Выбранный месяц",name:"selectedMonth",required:!1,type:{name:"Date"}},getMonthProps:{defaultValue:null,description:"Доп пропсы для переданного месяца",name:"getMonthProps",required:!0,type:{name:"(day: Month) => Record<string, unknown>"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/months-table/Component.tsx#MonthsTable"]={docgenInfo:MonthsTable.__docgenInfo,name:"MonthsTable",path:"packages/calendar/src/components/months-table/Component.tsx#MonthsTable"})}catch(__react_docgen_typescript_loader_error){}var period_slider=__webpack_require__("./packages/calendar/src/components/period-slider/index.ts"),isSameYear=__webpack_require__("./node_modules/date-fns/esm/isSameYear/index.js"),isThisYear=__webpack_require__("./node_modules/date-fns/esm/isThisYear/index.js"),years_table_index_module_yearsTable="yearsTable_e3b2a",years_table_index_module_responsive="responsive_FSOrB",years_table_index_module_inner="inner_gf8YK",years_table_index_module_button="button_XxUt6",YearsTable=function YearsTable(_ref){var selectedYear=_ref.selectedYear,_ref$years=_ref.years,years=void 0===_ref$years?[]:_ref$years,getYearProps=_ref.getYearProps,responsive=_ref.responsive,view=function view(year){return selectedYear&&(0,isSameYear.Z)(selectedYear,year)?"selected":(0,isThisYear.Z)(year)?"outlined":"default"};return(0,jsx_runtime.jsx)("div",{className:classnames_default()(years_table_index_module_yearsTable,(0,defineProperty.Z)({},years_table_index_module_responsive,responsive)),children:(0,jsx_runtime.jsx)("div",{className:years_table_index_module_inner,children:years.map((function(year){return(0,react.createElement)(SelectButton,(0,objectSpread2.Z)((0,objectSpread2.Z)({},getYearProps(year)),{},{key:year.getFullYear(),view:view(year),className:years_table_index_module_button}),year.getFullYear())}))})})};try{YearsTable.displayName="YearsTable",YearsTable.__docgenInfo={description:"",displayName:"YearsTable",props:{years:{defaultValue:{value:"[]"},description:"Массив лет",name:"years",required:!1,type:{name:"Date[]"}},selectedYear:{defaultValue:null,description:"Выбранный год",name:"selectedYear",required:!1,type:{name:"Date"}},getYearProps:{defaultValue:null,description:"Доп. пропсы для переданного года",name:"getYearProps",required:!0,type:{name:"(year: Date) => Record<string, unknown>"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/years-table/Component.tsx#YearsTable"]={docgenInfo:YearsTable.__docgenInfo,name:"YearsTable",path:"packages/calendar/src/components/years-table/Component.tsx#YearsTable"})}catch(__react_docgen_typescript_loader_error){}var useCalendar=__webpack_require__("./packages/calendar/src/useCalendar.ts"),desktop_module={component:"component_XcIaN",responsive:"responsive_Ftp8b",period:"period_dZ9TD",monthYear:"monthYear_fVJwp",container:"container_l4xKZ",customScrollbar:"customScrollbar_Gn4rN",nativeScrollbar:"nativeScrollbar_eAFhb",sixWeeks:"sixWeeks_Htphm"},useCustomWebkitScrollbar=modern.hooks.useCustomWebkitScrollbar,CalendarDesktop=(0,react.forwardRef)((function(_ref,ref){var _cn,_cn2,className=_ref.className,headerClassName=_ref.headerClassName,contentClassName=_ref.contentClassName,_ref$defaultView=_ref.defaultView,defaultView=void 0===_ref$defaultView?"days":_ref$defaultView,_ref$selectorView=_ref.selectorView,selectorView=void 0===_ref$selectorView?"full":_ref$selectorView,value=_ref.value,monthTimestamp=_ref.month,minDateTimestamp=_ref.minDate,maxDateTimestamp=_ref.maxDate,_ref$defaultMonth=_ref.defaultMonth,defaultMonthTimestamp=void 0===_ref$defaultMonth?+new Date:_ref$defaultMonth,selectedFrom=_ref.selectedFrom,selectedTo=_ref.selectedTo,rangeComplete=_ref.rangeComplete,offDays=_ref.offDays,events=_ref.events,holidays=_ref.holidays,onChange=_ref.onChange,onMonthChange=_ref.onMonthChange,onMonthClick=_ref.onMonthClick,onYearClick=_ref.onYearClick,onPeriodClick=_ref.onPeriodClick,dataTestId=_ref.dataTestId,_ref$hasHeader=_ref.hasHeader,hasHeader=void 0===_ref$hasHeader||_ref$hasHeader,responsive=_ref.responsive,dayAddons=_ref.dayAddons,_ref$shape=_ref.shape,shape=void 0===_ref$shape?"rounded":_ref$shape,_ref$showCurrentYearS=_ref.showCurrentYearSelector,showCurrentYearSelector=void 0!==_ref$showCurrentYearS&&_ref$showCurrentYearS,_useState=(0,react.useState)(defaultView),_useState2=(0,slicedToArray.Z)(_useState,2),view=_useState2[0],setView=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),scrolled=_useState4[0],setScrolled=_useState4[1],scrollableNodeRef=(0,react.useRef)(null),firstUpdate=(0,react.useRef)(!0),selected=(0,react.useMemo)((function(){return value?new Date(value):void 0}),[value]),defaultMonth=(0,react.useMemo)((function(){return(0,startOfMonth.Z)(selected||(0,utils.zi)(defaultMonthTimestamp,minDateTimestamp,maxDateTimestamp))}),[]),month=(0,react.useMemo)((function(){return monthTimestamp?new Date(monthTimestamp):void 0}),[monthTimestamp]),minDate=(0,react.useMemo)((function(){return minDateTimestamp?(0,startOfDay.Z)(minDateTimestamp):void 0}),[minDateTimestamp]),maxDate=(0,react.useMemo)((function(){return maxDateTimestamp?(0,endOfDay.Z)(maxDateTimestamp):void 0}),[maxDateTimestamp]),_useCalendar=(0,useCalendar.G)({month:month,defaultMonth:defaultMonth,view:view,minDate:minDate,maxDate:maxDate,selected:selected,offDays:offDays,events:events,holidays:holidays,dayAddons:dayAddons,onChange:onChange,onMonthChange:onMonthChange}),activeMonth=_useCalendar.activeMonth,weeks=_useCalendar.weeks,months=_useCalendar.months,years=_useCalendar.years,canSetPrevMonth=_useCalendar.canSetPrevMonth,canSetNextMonth=_useCalendar.canSetNextMonth,setMonthByDate=_useCalendar.setMonthByDate,setPrevMonth=_useCalendar.setPrevMonth,setNextMonth=_useCalendar.setNextMonth,highlighted=_useCalendar.highlighted,getDayProps=_useCalendar.getDayProps,getMonthProps=_useCalendar.getMonthProps,getYearProps=_useCalendar.getYearProps,getRootProps=_useCalendar.getRootProps,toggleView=function toggleView(newView){scrollableNodeRef.current&&(scrollableNodeRef.current.scrollTop=0),setView(view===newView?"days":newView)};(0,esm.CZ)((function(){if("years"===view){var listNode=scrollableNodeRef.current,selectedYearNode=null==listNode?void 0:listNode.querySelector('button[tabIndex="0"]');if(listNode&&selectedYearNode){var topIndent=listNode.clientHeight/2-selectedYearNode.clientHeight/2;listNode.scrollTop=selectedYearNode.offsetTop-topIndent,setScrolled(listNode.scrollTop>0)}}}),[view]),(0,esm.CZ)((function(){firstUpdate.current?firstUpdate.current=!1:toggleView("days")}),[activeMonth]),(0,esm.Dz)((function(){setScrolled(!1)}),[view]),(0,esm.Dz)((function(){var newMonth=value&&(0,startOfMonth.Z)(value);newMonth&&newMonth.getTime()!==activeMonth.getTime()&&setMonthByDate(newMonth)}),[value]);var shouldUseCustomScrollbar=useCustomWebkitScrollbar();return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getRootProps({ref:ref})),{},{className:classnames_default()("cc-calendar",desktop_module.component,className,(_cn={},(0,defineProperty.Z)(_cn,desktop_module.sixWeeks,6===weeks.length),(0,defineProperty.Z)(_cn,desktop_module.responsive,responsive),_cn)),"data-test-id":dataTestId,children:[hasHeader&&(0,jsx_runtime.jsx)(Header,{view:selectorView,withShadow:scrolled,className:headerClassName,children:"month-only"===selectorView?(0,jsx_runtime.jsx)(period_slider.h,{className:desktop_module.period,value:activeMonth,periodType:"month",prevArrowDisabled:!canSetPrevMonth,nextArrowDisabled:!canSetNextMonth,hideDisabledArrows:!0,showCurrentYearSelector:showCurrentYearSelector,onPrevArrowClick:function handlePrevArrowClick(){setPrevMonth()},onNextArrowClick:function handleNextArrowClick(){return setNextMonth()},onPeriodClick:onPeriodClick}):(0,jsx_runtime.jsx)(MonthYearHeader,{className:desktop_module.monthYear,value:activeMonth,onMonthClick:function handleMonthClick(event){toggleView("months"),onMonthClick&&onMonthClick(event)},onYearClick:function handleYearClick(event){toggleView("years"),onYearClick&&onYearClick(event)}})}),(0,jsx_runtime.jsxs)("div",{ref:scrollableNodeRef,className:classnames_default()(desktop_module.container,(_cn2={},(0,defineProperty.Z)(_cn2,desktop_module.customScrollbar,"years"===view&&shouldUseCustomScrollbar),(0,defineProperty.Z)(_cn2,desktop_module.nativeScrollbar,"years"===view&&!shouldUseCustomScrollbar),_cn2),desktop_module[view],contentClassName),onScroll:function handleScroll(event){return setScrolled(event.currentTarget.scrollTop>0)},children:["days"===view&&(0,jsx_runtime.jsx)(days_table.n,{weeks:weeks,activeMonth:activeMonth,selectedFrom:selectedFrom,selectedTo:selectedTo,getDayProps:getDayProps,highlighted:highlighted,rangeComplete:rangeComplete,responsive:responsive,shape:shape,withTransition:"month-only"===selectorView}),"months"===view&&(0,jsx_runtime.jsx)(MonthsTable,{selectedMonth:activeMonth,months:months,getMonthProps:getMonthProps,responsive:responsive}),"years"===view&&(0,jsx_runtime.jsx)(YearsTable,{selectedYear:activeMonth,years:years,getYearProps:getYearProps,responsive:responsive})]})]}))}));try{CalendarDesktop.displayName="CalendarDesktop",CalendarDesktop.__docgenInfo={description:"",displayName:"CalendarDesktop",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},headerClassName:{defaultValue:null,description:"Дополнительный класс шапки десктопного календаря",name:"headerClassName",required:!1,type:{name:"string"}},contentClassName:{defaultValue:null,description:"Дополнительный класс контента десктопного календаря",name:"contentClassName",required:!1,type:{name:"string"}},defaultView:{defaultValue:{value:"days"},description:"Вид по умолчанию (выбор дней, месяцев, лет)",name:"defaultView",required:!1,type:{name:"enum",value:[{value:'"years"'},{value:'"months"'},{value:'"days"'}]}},selectorView:{defaultValue:{value:"full"},description:"Вид шапки — месяц и год или только месяц",name:"selectorView",required:!1,type:{name:"enum",value:[{value:'"month-only"'},{value:'"full"'}]}},value:{defaultValue:null,description:"Выбранная дата (timestamp)",name:"value",required:!1,type:{name:"number"}},month:{defaultValue:null,description:"Открытый месяц (timestamp)",name:"month",required:!1,type:{name:"number"}},defaultMonth:{defaultValue:null,description:"Месяц, открытый по умолчанию (timestamp)",name:"defaultMonth",required:!1,type:{name:"number"}},minDate:{defaultValue:null,description:"Минимальная дата, доступная для выбора (timestamp)",name:"minDate",required:!1,type:{name:"number"}},maxDate:{defaultValue:null,description:"Максимальная дата, доступная для выбора (timestamp)",name:"maxDate",required:!1,type:{name:"number"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода (timestamp)",name:"selectedFrom",required:!1,type:{name:"number"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода (timestamp)",name:"selectedTo",required:!1,type:{name:"number"}},rangeComplete:{defaultValue:null,description:"Индикатор, что выбран полный период",name:"rangeComplete",required:!1,type:{name:"boolean"}},events:{defaultValue:null,description:"Список событий",name:"events",required:!1,type:{name:"(number | Date)[]"}},offDays:{defaultValue:null,description:"Список отключенных для выбора дней.",name:"offDays",required:!1,type:{name:"(number | Date)[]"}},holidays:{defaultValue:null,description:"Список выходных",name:"holidays",required:!1,type:{name:"(number | Date)[]"}},onMonthChange:{defaultValue:null,description:"Обработчик изменения месяца (или года)",name:"onMonthChange",required:!1,type:{name:"((month: number) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора даты",name:"onChange",required:!1,type:{name:"((date?: number) => void)"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на кнопку года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onPeriodClick:{defaultValue:null,description:"Обработчик нажатия на период",name:"onPeriodClick",required:!1,type:{name:"((event: MouseEvent<HTMLAnchorElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},hasHeader:{defaultValue:{value:"true"},description:"Нужно ли рендерить шапку календаря",name:"hasHeader",required:!1,type:{name:"boolean"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},shape:{defaultValue:{value:"rounded"},description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},showCurrentYearSelector:{defaultValue:{value:"false"},description:"Отображать ли текущий год, если selectorView 'month-only'",name:"showCurrentYearSelector",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/desktop/Component.desktop.tsx#CalendarDesktop"]={docgenInfo:CalendarDesktop.__docgenInfo,name:"CalendarDesktop",path:"packages/calendar/src/desktop/Component.desktop.tsx#CalendarDesktop"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/mobile/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CalendarMobile:function(){return _components_calendar_mobile__WEBPACK_IMPORTED_MODULE_0__.S}});var _components_calendar_mobile__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/calendar/src/components/calendar-mobile/index.ts")},"./packages/calendar/src/useCalendar.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{G:function(){return useCalendar}});var _home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_merge_refs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),date_fns_addMonths__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/date-fns/esm/addMonths/index.js"),date_fns_addYears__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/date-fns/esm/addYears/index.js"),date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/date-fns/esm/isSameMonth/index.js"),date_fns_isSameYear__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/date-fns/esm/isSameYear/index.js"),date_fns_setYear__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/date-fns/esm/setYear/index.js"),date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),date_fns_subYears__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/date-fns/esm/subYears/index.js"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/calendar/src/utils.ts");function useCalendar(_ref){var defaultMonth=_ref.defaultMonth,month=_ref.month,minDate=_ref.minDate,_ref$view=_ref.view,view=void 0===_ref$view?"days":_ref$view,maxDate=_ref.maxDate,selected=_ref.selected,events=_ref.events,offDays=_ref.offDays,holidays=_ref.holidays,dayAddons=_ref.dayAddons,onMonthChange=_ref.onMonthChange,onChange=_ref.onChange,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultMonth),_useState2=(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState,2),monthState=_useState2[0],setMonthState=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),_useState4=(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState3,2),highlighted=_useState4[0],setHighlighted=_useState4[1],uncontrolled=void 0===month,activeMonth=uncontrolled?monthState:month,dateRefs=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),rootRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),minMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return minDate&&(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_2__.Z)(minDate)}),[minDate]),maxMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return maxDate&&(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_2__.Z)(maxDate)}),[maxDate]),canSetPrevMonth=!minMonth||activeMonth>minMonth,canSetNextMonth=!maxMonth||activeMonth<maxMonth,eventsMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.LT)(events||[])}),[events]),offDaysMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.LT)(offDays||[])}),[offDays]),holidaysMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.LT)(holidays||[])}),[holidays]),dayAddonsMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.j1)(dayAddons||[])}),[dayAddons]),weeks=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.zK)(activeMonth,{minDate:minDate,maxDate:maxDate,selected:selected,eventsMap:eventsMap,offDaysMap:offDaysMap,holidaysMap:holidaysMap,dayAddonsMap:dayAddonsMap})}),[maxDate,minDate,selected,dayAddonsMap,activeMonth,eventsMap,offDaysMap,holidaysMap]),months=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.NB)(activeMonth,{minMonth:minMonth,maxMonth:maxMonth})}),[minMonth,maxMonth,activeMonth]),years=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.Vl)(minDate||(0,date_fns_subYears__WEBPACK_IMPORTED_MODULE_4__.Z)(new Date,100),maxDate||(0,date_fns_addYears__WEBPACK_IMPORTED_MODULE_5__.Z)(new Date,1))}),[minDate,maxDate]),setMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(newMonth){uncontrolled&&setMonthState(newMonth),onMonthChange&&onMonthChange(newMonth.getTime())}),[onMonthChange,uncontrolled]),setMonthByStep=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(step){setMonth((0,_utils__WEBPACK_IMPORTED_MODULE_3__.zi)((0,date_fns_addMonths__WEBPACK_IMPORTED_MODULE_6__.Z)(activeMonth,step),minMonth,maxMonth))}),[setMonth,activeMonth,minMonth,maxMonth]),setMonthByDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(newMonth){setMonth((0,_utils__WEBPACK_IMPORTED_MODULE_3__.zi)(newMonth,minMonth,maxMonth))}),[maxMonth,minMonth,setMonth]),setNextMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setMonthByStep(1)}),[setMonthByStep]),setPrevMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setMonthByStep(-1)}),[setMonthByStep]),getFocusedDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return dateRefs.current.find((function(node){return document.activeElement===node}))}),[]),getFocusableDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return dateRefs.current.find((function(node){return node&&0===node.tabIndex}))}),[]),focusDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(node){node&&((0,_utils__WEBPACK_IMPORTED_MODULE_3__.Kz)(node),node.focus())}),[]),focusFirstAvailableDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return focusDate(getFocusableDate())}),[focusDate,getFocusableDate]),focusDay=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(shift){var focusedNode=getFocusedDate();if(focusedNode&&focusedNode.dataset.date){var focusedDate=new Date(+focusedNode.dataset.date),newDate=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.kW)(shift,focusedDate,minDate,maxDate,offDaysMap),monthChanged=!1;newDate<focusedDate&&newDate.getMonth()!==focusedDate.getMonth()&&(setPrevMonth(),monthChanged=!0),newDate>focusedDate&&newDate.getMonth()!==focusedDate.getMonth()&&(setNextMonth(),monthChanged=!0);var effect=function effect(){return focusDate(dateRefs.current[newDate.getDate()-1])};monthChanged?setTimeout(effect,0):effect()}else focusFirstAvailableDate()}),[focusDate,focusFirstAvailableDate,getFocusedDate,maxDate,minDate,offDaysMap,setNextMonth,setPrevMonth]),focusMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(offset){var focusedNode=getFocusedDate();if(focusedNode&&focusedNode.dataset.date){var newFocusedMonth=new Date(+focusedNode.dataset.date).getMonth()+offset;newFocusedMonth>=0&&newFocusedMonth<_utils__WEBPACK_IMPORTED_MODULE_3__.NR&&focusDate(dateRefs.current[newFocusedMonth])}else focusFirstAvailableDate()}),[focusDate,focusFirstAvailableDate,getFocusedDate]),focusYear=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(offset){var focusedNode=getFocusedDate();if(focusedNode&&focusedNode.dataset.date){var newFocusedYear=new Date(+focusedNode.dataset.date).getFullYear()+offset,currentYear=(new Date).getFullYear();newFocusedYear<=currentYear&&newFocusedYear>currentYear-years.length&&focusDate(dateRefs.current[newFocusedYear])}else focusFirstAvailableDate()}),[focusDate,focusFirstAvailableDate,getFocusedDate,years.length]),handleMonthClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){var date=event.currentTarget.dataset.date;date&&setMonthByDate(new Date(+date)),rootRef.current&&rootRef.current.contains(document.activeElement)&&rootRef.current.focus()}),[setMonthByDate]),handleYearClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){var date=event.currentTarget.dataset.date;date&&setMonthByDate((0,date_fns_setYear__WEBPACK_IMPORTED_MODULE_7__.Z)(activeMonth,new Date(+date).getFullYear())),rootRef.current&&rootRef.current.contains(document.activeElement)&&rootRef.current.focus()}),[activeMonth,setMonthByDate]),handleDateRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(node,index){dateRefs.current[index]=node}),[]),handleDayMouseEnter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(event){var date=event.currentTarget.dataset.date;setHighlighted(date?+date:void 0)}),[]),handleDayMouseLeave=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){setHighlighted(void 0)}),[]),handleDayClick=function handleDayClick(event){var date=event.currentTarget.dataset.date;date&&onChange&&onChange(+date),handleDayMouseLeave()},controlsByView={days:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{ArrowLeft:function ArrowLeft(){return focusDay("prev")},ArrowRight:function ArrowRight(){return focusDay("next")},ArrowUp:function ArrowUp(){return focusDay("prevWeek")},ArrowDown:function ArrowDown(){return focusDay("nextWeek")},End:function End(){return focusDay("endOfWeek")},Home:function Home(){return focusDay("startOfWeek")},PageUp:function PageUp(){return focusDay("prevMonth")},PageDown:function PageDown(){return focusDay("nextMonth")}}}),[focusDay]),months:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{ArrowLeft:function ArrowLeft(){return focusMonth(-1)},ArrowRight:function ArrowRight(){return focusMonth(1)},ArrowUp:function ArrowUp(){return focusMonth(-3)},ArrowDown:function ArrowDown(){return focusMonth(3)}}}),[focusMonth]),years:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{ArrowLeft:function ArrowLeft(){return focusYear(1)},ArrowRight:function ArrowRight(){return focusYear(-1)},ArrowUp:function ArrowUp(){return focusYear(3)},ArrowDown:function ArrowDown(){return focusYear(-3)}}}),[focusYear])},handleKeyDown=function handleKeyDown(event){var controls=controlsByView[view];event.key in controls&&(controls[event.key](),event.preventDefault())},focusableDayIsSet=!1;return{activeMonth:activeMonth,weeks:weeks,months:months,years:years,canSetPrevMonth:canSetPrevMonth,canSetNextMonth:canSetNextMonth,highlighted:highlighted,setPrevMonth:setPrevMonth,setNextMonth:setNextMonth,setMonthByDate:setMonthByDate,getDayProps:function getDayProps(day){var daySelected=selected&&(0,date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_8__.Z)(selected,day.date),canFocus=daySelected;return selected&&(0,date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_9__.Z)(selected,activeMonth)||focusableDayIsSet||day.disabled||(focusableDayIsSet=!0,canFocus=!0),{"data-date":day.date.getTime(),"aria-selected":daySelected,ref:function ref(node){handleDateRef(node,day.date.getDate()-1)},tabIndex:canFocus?0:-1,onMouseEnter:handleDayMouseEnter,onMouseLeave:handleDayMouseLeave,onClick:handleDayClick}},getMonthProps:function getMonthProps(currMonth){var monthselected=(0,date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_9__.Z)(activeMonth,currMonth.date);return{"data-date":currMonth.date.getTime(),"aria-selected":monthselected,ref:function ref(node){handleDateRef(node,currMonth.date.getMonth())},tabIndex:monthselected?0:-1,disabled:currMonth.disabled,onClick:handleMonthClick}},getYearProps:function getYearProps(year){var yearSelected=(0,date_fns_isSameYear__WEBPACK_IMPORTED_MODULE_10__.Z)(activeMonth,year);return{"data-date":year.getTime(),"aria-selected":yearSelected,ref:function ref(node){handleDateRef(node,year.getFullYear())},tabIndex:yearSelected?0:-1,onClick:handleYearClick}},getRootProps:function getRootProps(_ref2){var _ref2$ref=_ref2.ref,ref=void 0===_ref2$ref?null:_ref2$ref;return{onKeyDown:handleKeyDown,ref:(0,react_merge_refs__WEBPACK_IMPORTED_MODULE_11__.Z)([ref,rootRef]),tabIndex:-1}}}}},"./packages/calendar/src/utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Kz:function(){return simulateTab},LT:function(){return dateArrayToHashTable},NB:function(){return generateMonths},NR:function(){return MONTHS_IN_YEAR},Vl:function(){return generateYears},c8:function(){return WEEKDAYS},j1:function(){return addonArrayToHashTable},kW:function(){return modifyDateByShift},oz:function(){return monthName},p6:function(){return formatDate},pl:function(){return getSelectionRange},zK:function(){return generateWeeks},zi:function(){return limitDate},zx:function(){return russianWeekDay}});var date_fns_addDays__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/date-fns/esm/addDays/index.js"),date_fns_addMonths__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/date-fns/esm/addMonths/index.js"),date_fns_eachDayOfInterval__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/esm/eachDayOfInterval/index.js"),date_fns_eachMonthOfInterval__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/date-fns/esm/eachMonthOfInterval/index.js"),date_fns_eachYearOfInterval__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/date-fns/esm/eachYearOfInterval/index.js"),date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/date-fns/esm/endOfDay/index.js"),date_fns_endOfWeek__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/date-fns/esm/endOfWeek/index.js"),date_fns_endOfYear__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/date-fns/esm/endOfYear/index.js"),date_fns_format__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),date_fns_isAfter__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/date-fns/esm/isAfter/index.js"),date_fns_isBefore__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/date-fns/esm/isBefore/index.js"),date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),date_fns_lastDayOfMonth__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/esm/lastDayOfMonth/index.js"),date_fns_max__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/date-fns/esm/max/index.js"),date_fns_min__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/date-fns/esm/min/index.js"),date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/date-fns/esm/startOfDay/index.js"),date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),date_fns_startOfWeek__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/date-fns/esm/startOfWeek/index.js"),date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/date-fns/esm/startOfYear/index.js"),date_fns_subDays__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/date-fns/esm/subDays/index.js"),date_fns_subMonths__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/date-fns/esm/subMonths/index.js"),DAYS_IN_WEEK=7,MONTHS_IN_YEAR=12,SUNDAY_INDEX=6,WEEKDAYS=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],MONTHS=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];function russianWeekDay(date){var foreignWeekDayIndex=date.getDay();return 0===foreignWeekDayIndex?DAYS_IN_WEEK-1:foreignWeekDayIndex-1}function generateWeeks(month,options){var newWeek=function newWeek(){return Array(DAYS_IN_WEEK).fill(null)},start=(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_0__.Z)(month),end=(0,date_fns_lastDayOfMonth__WEBPACK_IMPORTED_MODULE_1__.Z)(start),week=newWeek();return(0,date_fns_eachDayOfInterval__WEBPACK_IMPORTED_MODULE_2__.Z)({start:start,end:end}).reduce((function(weeks,day){var weekDay=russianWeekDay(day);return week[weekDay]=function buildDay(day,options){var minDate=options.minDate,maxDate=options.maxDate,selected=options.selected,_options$eventsMap=options.eventsMap,eventsMap=void 0===_options$eventsMap?{}:_options$eventsMap,_options$offDaysMap=options.offDaysMap,offDaysMap=void 0===_options$offDaysMap?{}:_options$offDaysMap,_options$holidaysMap=options.holidaysMap,holidaysMap=void 0===_options$holidaysMap?{}:_options$holidaysMap,_options$dayAddonsMap=options.dayAddonsMap,dayAddonsMap=void 0===_options$dayAddonsMap?{}:_options$dayAddonsMap,off=offDaysMap[day.getTime()],disabled=minDate&&(0,date_fns_isBefore__WEBPACK_IMPORTED_MODULE_10__.Z)(day,minDate)||maxDate&&(0,date_fns_isAfter__WEBPACK_IMPORTED_MODULE_11__.Z)(day,maxDate);return{date:day,disabled:disabled||off,event:eventsMap[day.getTime()],holiday:holidaysMap[day.getTime()],selected:selected&&(0,date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_3__.Z)(day,selected),dayAddon:dayAddonsMap[day.getTime()]}}(day,options),(weekDay===SUNDAY_INDEX||(0,date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_3__.Z)(day,end))&&(weeks.push(week),week=newWeek()),weeks}),[])}function generateMonths(year,options){return(0,date_fns_eachMonthOfInterval__WEBPACK_IMPORTED_MODULE_4__.Z)({start:(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_5__.Z)(year),end:(0,date_fns_endOfYear__WEBPACK_IMPORTED_MODULE_6__.Z)(year)}).map((function(month){return function buildMonth(month,options){var minMonth=options.minMonth,maxMonth=options.maxMonth;return{date:month,disabled:minMonth&&(0,date_fns_isBefore__WEBPACK_IMPORTED_MODULE_10__.Z)(month,minMonth)||maxMonth&&(0,date_fns_isAfter__WEBPACK_IMPORTED_MODULE_11__.Z)(month,maxMonth)}}(month,options)}))}function generateYears(minYear,maxYear){return(0,date_fns_eachYearOfInterval__WEBPACK_IMPORTED_MODULE_7__.Z)({start:(0,date_fns_min__WEBPACK_IMPORTED_MODULE_8__.Z)([(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_5__.Z)(maxYear),(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_5__.Z)(minYear)]),end:(0,date_fns_max__WEBPACK_IMPORTED_MODULE_9__.Z)([(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_5__.Z)(maxYear),(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_5__.Z)(minYear)])}).reverse()}function limitDate(date,minDate,maxDate){var limitedDate=date;return minDate&&(limitedDate=(0,date_fns_max__WEBPACK_IMPORTED_MODULE_9__.Z)([(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_12__.Z)(minDate),limitedDate])),maxDate&&(limitedDate=(0,date_fns_min__WEBPACK_IMPORTED_MODULE_8__.Z)([(0,date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_13__.Z)(maxDate),limitedDate])),new Date(limitedDate)}function monthName(month){return MONTHS[month.getMonth()]}function dateArrayToHashTable(arr){return arr.reduce((function(acc,v){return acc[(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_12__.Z)(v).getTime()]=!0,acc}),{})}function addonArrayToHashTable(arr){return arr.reduce((function(acc,v){return acc[(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_12__.Z)(v.date).getTime()]=v.addon,acc}),{})}function getSelectionRange(from,to,highlighted){if(!from&&!to)return null;var end=to||highlighted,start=from||highlighted;return start&&end&&start!==end?{start:(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_12__.Z)((0,date_fns_min__WEBPACK_IMPORTED_MODULE_8__.Z)([start,end])),end:(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_12__.Z)((0,date_fns_max__WEBPACK_IMPORTED_MODULE_9__.Z)([start,end]))}:null}function modifyDateByShift(shift,date,minDate,maxDate){for(var offDaysMap=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},newDate={prev:function prev(){return(0,date_fns_subDays__WEBPACK_IMPORTED_MODULE_14__.Z)(date,1)},prevWeek:function prevWeek(){return(0,date_fns_subDays__WEBPACK_IMPORTED_MODULE_14__.Z)(date,7)},prevMonth:function prevMonth(){return(0,date_fns_subMonths__WEBPACK_IMPORTED_MODULE_15__.Z)(date,1)},next:function next(){return(0,date_fns_addDays__WEBPACK_IMPORTED_MODULE_16__.Z)(date,1)},nextWeek:function nextWeek(){return(0,date_fns_addDays__WEBPACK_IMPORTED_MODULE_16__.Z)(date,7)},nextMonth:function nextMonth(){return(0,date_fns_addMonths__WEBPACK_IMPORTED_MODULE_17__.Z)(date,1)},startOfWeek:function startOfWeek(){return(0,date_fns_startOfWeek__WEBPACK_IMPORTED_MODULE_18__.Z)(date,{weekStartsOn:1})},endOfWeek:function endOfWeek(){return(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_12__.Z)((0,date_fns_endOfWeek__WEBPACK_IMPORTED_MODULE_19__.Z)(date,{weekStartsOn:1}))}}[shift]();offDaysMap[newDate.getTime()];){var amount=newDate<date?-1:1;"endOfWeek"===shift&&(amount=-1),"startOfWeek"===shift&&(amount=1),newDate=(0,date_fns_addDays__WEBPACK_IMPORTED_MODULE_16__.Z)(newDate,amount)}return limitDate(newDate,minDate,maxDate)}function simulateTab(node){if(window.KeyboardEvent){var event=new window.KeyboardEvent("keydown",{bubbles:!0,key:"Tab"});node.dispatchEvent(event)}}var formatDate=function formatDate(date){var dateFormat=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd.MM.yyyy";return(0,date_fns_format__WEBPACK_IMPORTED_MODULE_20__.Z)(date,dateFormat)}},"./packages/screenshot-utils/screenshots-story/utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{DO:function(){return isJsonObj},FX:function(){return stylesStringToObj},Ph:function(){return getQueryParam},Qh:function(){return parseKnobs}});var _home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),queryParams=__webpack_require__("./node_modules/querystring/index.js").parse(document.location.search),getQueryParam=function getQueryParam(param){var parse=arguments.length>1&&void 0!==arguments[1]&&arguments[1],value=queryParams[param];return parse?parseValue(value):value},parseKnobs=function parseKnobs(){return Object.entries(queryParams).reduce((function(acc,_ref){var _ref2=(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_ref,2),k=_ref2[0],v=_ref2[1];return k.startsWith("knob-")&&(acc[k.replace("knob-","")]=parseValue(v)),acc}),{})};function parseValue(value){if(value){if(function isBoolean(){return["true","false"].includes(value)}())return"true"===value;if(function isNumeric(){return!Number.isNaN(+value)&&!Number.isNaN(parseFloat(value))}())return parseFloat(value);try{return JSON.parse(value)}catch(e){return value}}}function stylesStringToObj(){var str=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!str)return{};var properties=str.split(";").map((function(v){return v.trim()})),obj={};return properties.forEach((function(property){var _property$split$map=property.split(":").map((function(v){return v.trim()})),_property$split$map2=(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_property$split$map,2),name=_property$split$map2[0],val=_property$split$map2[1];obj[name]=val})),obj}function isJsonObj(str){try{return"object"==typeof JSON.parse(str)}catch(e){return!1}}},"./node_modules/querystring/decode.js":function(module){function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?Array.isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj}},"./node_modules/querystring/encode.js":function(module){var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?Object.keys(obj).map((function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return Array.isArray(obj[k])?obj[k].map((function(v){return ks+encodeURIComponent(stringifyPrimitive(v))})).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))})).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""}},"./node_modules/querystring/index.js":function(__unused_webpack_module,exports,__webpack_require__){exports.decode=exports.parse=__webpack_require__("./node_modules/querystring/decode.js"),exports.encode=exports.stringify=__webpack_require__("./node_modules/querystring/encode.js")}}]);