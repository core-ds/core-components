"use strict";(self.webpackChunk_alfalab_core_components=self.webpackChunk_alfalab_core_components||[]).push([[4831],{"./packages/select/src/Component.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{P:function(){return Select}});var _home_vladimir_projects_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_vladimir_projects_core_components_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components_arrow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/select/src/components/arrow/index.ts"),_components_base_select__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/select/src/components/base-select/index.ts"),_components_field__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/select/src/components/field/index.ts"),_components_optgroup__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),_components_option__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/select/src/components/option/index.ts"),_components_options_list__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/select/src/components/options-list/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["Arrow","Field","OptionsList","Optgroup","Option"],Select=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(_ref,ref){var _ref$Arrow=_ref.Arrow,Arrow=void 0===_ref$Arrow?_components_arrow__WEBPACK_IMPORTED_MODULE_1__.E:_ref$Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?_components_field__WEBPACK_IMPORTED_MODULE_3__.g:_ref$Field,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?_components_options_list__WEBPACK_IMPORTED_MODULE_6__.M:_ref$OptionsList,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?_components_optgroup__WEBPACK_IMPORTED_MODULE_4__.t:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?_components_option__WEBPACK_IMPORTED_MODULE_5__.W:_ref$Option,restProps=(0,_home_vladimir_projects_core_components_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.Z)(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_components_base_select__WEBPACK_IMPORTED_MODULE_2__.A,(0,_home_vladimir_projects_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_9__.Z)({ref:ref,Option:Option,Field:Field,Optgroup:Optgroup,OptionsList:OptionsList,Arrow:Arrow},restProps))}));try{Select.displayName="Select",Select.__docgenInfo={description:"",displayName:"Select",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Обработчик блюра поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Обработчик фокуса поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<() => void>"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},Field:{defaultValue:{value:"({\n    size = 'm',\n    open,\n    multiple,\n    error,\n    hint,\n    disabled,\n    label,\n    labelView = 'inner',\n    placeholder,\n    selectedMultiple = [],\n    selected,\n    rightAddons,\n    valueRenderer = joinOptions,\n    setSelectedItems,\n    toggleMenu,\n    Arrow,\n    innerProps,\n    dataTestId,\n    fieldClassName,\n    ...restProps\n}: BaseFieldProps & FormControlProps) => {\n    const [focused, setFocused] = useState(false);\n\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const [focusVisible] = useFocus(wrapperRef, 'keyboard');\n\n    const handleFocus = useCallback(() => setFocused(true), []);\n    const handleBlur = useCallback(() => setFocused(false), []);\n\n    const value = valueRenderer({ selected, selectedMultiple });\n\n    const filled = Boolean(value);\n    const showLabel = !!label && (filled || !placeholder || labelView === 'outer');\n\n    return (\n        <div\n            className={styles.component}\n            ref={wrapperRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n        >\n            <FormControl\n                fieldClassName={cn(styles.field, fieldClassName, {\n                    [styles.disabled]: disabled,\n                    [styles.focusVisible]: focusVisible,\n                })}\n                block={true}\n                size={size}\n                focused={open || focused}\n                disabled={disabled}\n                filled={filled}\n                label={showLabel && label}\n                labelView={labelView}\n                error={error}\n                hint={hint}\n                rightAddons={\n                    (Arrow || rightAddons) && (\n                        <React.Fragment>\n                            {rightAddons}\n                            {/* TODO: стоит переделать, но это будет мажорка */}\n                            {Arrow ? React.cloneElement(Arrow, { className: styles.arrow }) : null}\n                        </React.Fragment>\n                    )\n                }\n                data-test-id={dataTestId}\n                {...restProps}\n                {...innerProps}\n            >\n                <div className={styles.contentWrapper}>\n                    {placeholder && !filled && (\n                        <span className={styles.placeholder}>{placeholder}</span>\n                    )}\n                    {filled && <div className={styles.value}>{value}</div>}\n                </div>\n            </FormControl>\n        </div>\n    );\n}"},description:"Компонент поля",name:"Field",required:!1,type:{name:"FC<FieldProps>"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},autocomplete:{defaultValue:null,description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},defaultOpen:{defaultValue:null,description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},optionsSize:{defaultValue:null,description:"Размер пунктов меню",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},allowUnselect:{defaultValue:null,description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:null,description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:null,description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:{value:"({ open, className }: ArrowProps) => (\n    <ChevronDownMIcon className={cn(styles.arrow, className, { [styles.open]: open })} />\n)"},description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | FC<ArrowProps> | null"}},optionsListProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"forwardRef<HTMLDivElement, OptionsListProps>(\n    (\n        {\n            size = 's',\n            className,\n            optionGroupClassName,\n            Option,\n            getOptionProps,\n            options = [],\n            Optgroup = DefaultOptgroup,\n            dataTestId,\n            emptyPlaceholder,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            onScroll,\n            open,\n            header,\n            footer,\n            showFooter = true,\n            optionsListWidth,\n            nativeScrollbar: nativeScrollbarProp,\n            flatOptions = [],\n        },\n        ref,\n    ) => {\n        let [nativeScrollbar] = useMedia<boolean>([[true, '(max-width: 1023px)']], false);\n\n        nativeScrollbar = Boolean(nativeScrollbarProp ?? nativeScrollbar);\n\n        const renderOption = (option: OptionShape, index: number) => (\n            <Option key={option.key} {...getOptionProps(option, index)} />\n        );\n\n        const listRef = useRef<HTMLDivElement>(null);\n        const scrollbarRef = useRef<HTMLDivElement>(null);\n        const counter = createCounter();\n        const renderGroup = (group: GroupShape) => (\n            <Optgroup\n                className={optionGroupClassName}\n                label={group.label}\n                key={group.label}\n                size={size}\n            >\n                {group.options.map((option) => renderOption(option, counter()))}\n            </Optgroup>\n        );\n\n        useVisibleOptions({\n            ...(!nativeScrollbar && { styleTargetRef: scrollbarRef }),\n            visibleOptions,\n            listRef,\n            open,\n            invalidate: options,\n        });\n\n        if (options.length === 0 && !emptyPlaceholder) {\n            return null;\n        }\n\n        const renderListItems = () => (\n            <React.Fragment>\n                {options.map((option) =>\n                    isGroup(option) ? renderGroup(option) : renderOption(option, counter()),\n                )}\n\n                {emptyPlaceholder && options.length === 0 && (\n                    <div className={styles.emptyPlaceholder}>{emptyPlaceholder}</div>\n                )}\n            </React.Fragment>\n        );\n\n        const renderWithCustomScrollbar = () => {\n            const scrollableNodeProps = {\n                onScroll,\n                'data-test-id': dataTestId,\n                ref: ref as React.RefObject<HTMLDivElement>,\n            };\n\n            return (\n                <Scrollbar\n                    className={styles.scrollable}\n                    ref={scrollbarRef}\n                    horizontalAutoStretch={optionsListWidth === 'content'}\n                    scrollableNodeProps={scrollableNodeProps}\n                    contentNodeProps={{ ref: listRef }}\n                >\n                    {renderListItems()}\n                </Scrollbar>\n            );\n        };\n\n        const renderWithNativeScrollbar = () => (\n            <div className={styles.scrollable} ref={mergeRefs([listRef, ref])} onScroll={onScroll}>\n                {renderListItems()}\n            </div>\n        );\n\n        return (\n            <div\n                {...(nativeScrollbar && { 'data-test-id': dataTestId })}\n                className={cn(styles.optionsList, styles[size], className)}\n            >\n                {header && <div className={styles.optionsListHeader}>{header}</div>}\n\n                {nativeScrollbar ? renderWithNativeScrollbar() : renderWithCustomScrollbar()}\n\n                {showFooter && footer && (\n                    <div\n                        className={cn(styles.optionsListFooter, {\n                            [styles.withBorder]:\n                                visibleOptions && flatOptions.length > visibleOptions,\n                        })}\n                    >\n                        {footer}\n                    </div>\n                )}\n            </div>\n        );\n    },\n)"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},Option:{defaultValue:{value:"({\n    size = 's',\n    className,\n    option,\n    children,\n    selected,\n    highlighted,\n    disabled,\n    multiple,\n    mobile,\n    Checkmark = mobile ? DefaultMobileCheckmark : DefaultCheckMark,\n    innerProps,\n    dataTestId,\n}) => {\n    const content = children || option.content || option.key;\n    const { showCheckMark = true } = option;\n\n    return (\n        <div\n            {...innerProps}\n            className={cn(styles.option, styles[size], className, {\n                [styles.highlighted]: !mobile && highlighted,\n                [styles.selected]: selected,\n                [styles.disabled]: disabled,\n            })}\n            data-test-id={dataTestId}\n        >\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='before'\n                />\n            )}\n\n            <div\n                className={cn(styles.content, {\n                    [styles.textContent]: !isValidElement(content),\n                })}\n            >\n                {content}\n            </div>\n\n            {/** Workaround чтобы для клика показывать отметку справа и всегда в виде иконки */}\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='after'\n                />\n            )}\n        </div>\n    );\n}"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"FC<OptionProps>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},fieldProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"SelectFieldProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/Component.tsx#Select"]={docgenInfo:Select.__docgenInfo,name:"Select",path:"packages/select/src/Component.tsx#Select"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/arrow/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E:function(){return Arrow}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/classnames/index.js")),classnames_default=__webpack_require__.n(classnames),ChevronDownMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/ChevronDownMIcon.js"),index_module_arrow="arrow_Fidyu",index_module_open="open_JDO2N",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Arrow=function Arrow(_ref){var open=_ref.open,className=_ref.className;return(0,jsx_runtime.jsx)(ChevronDownMIcon.ChevronDownMIcon,{className:classnames_default()(index_module_arrow,className,(0,defineProperty.Z)({},index_module_open,open))})};try{Arrow.displayName="Arrow",Arrow.__docgenInfo={description:"",displayName:"Arrow",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/arrow/Component.tsx#Arrow"]={docgenInfo:Arrow.__docgenInfo,name:"Arrow",path:"packages/select/src/components/arrow/Component.tsx#Arrow"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/base-select/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return BaseSelect}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),resize_observer=__webpack_require__("./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),modern=__webpack_require__("./dist/popover/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),getDataTestId=__webpack_require__("./packages/utils/getDataTestId.ts"),utils=__webpack_require__("./packages/select/src/utils.ts"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["className","disabled","multiple","value","name","options","onChange"],Option=function Option(_ref){var option=_ref.option;return(0,jsx_runtime.jsx)("option",{value:option.key,disabled:option.disabled,children:"string"==typeof option.content?option.content:option.key})},Group=function Group(_ref2){var label=_ref2.label,options=_ref2.options;return(0,jsx_runtime.jsx)("optgroup",{label:label,children:options.map((function(option){return(0,jsx_runtime.jsx)(Option,{option:option},option.key)}))})},NativeSelect=(0,react.forwardRef)((function(_ref3,ref){var className=_ref3.className,disabled=_ref3.disabled,multiple=_ref3.multiple,value=_ref3.value,name=_ref3.name,options=_ref3.options,onChange=_ref3.onChange,restProps=(0,objectWithoutProperties.Z)(_ref3,_excluded),handleClick=(0,react.useCallback)((function(event){event.stopPropagation()}),[]);return(0,jsx_runtime.jsx)("select",(0,objectSpread2.Z)((0,objectSpread2.Z)({className:className,disabled:disabled,multiple:multiple,name:name,value:value,onChange:onChange,onClick:handleClick,ref:ref},restProps),{},{children:options.map((function(option){return(0,utils.ty)(option)?(0,react.createElement)(Group,(0,objectSpread2.Z)((0,objectSpread2.Z)({},option),{},{key:option.label})):(0,jsx_runtime.jsx)(Option,{option:option},option.key)}))}))}));try{NativeSelect.displayName="NativeSelect",NativeSelect.__docgenInfo={description:"",displayName:"NativeSelect",props:{options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/native-select/Component.tsx#NativeSelect"]={docgenInfo:NativeSelect.__docgenInfo,name:"NativeSelect",path:"packages/select/src/components/native-select/Component.tsx#NativeSelect"})}catch(__react_docgen_typescript_loader_error){}var index_module_component="component_p63D9",index_module_popoverInner="popoverInner_gx5Ai",index_module_optionsList="optionsList_Ni45G",index_module_optionsListBorder="optionsListBorder_QZAA4",index_module_nativeSelect="nativeSelect_rLoGL",index_module_block="block_wKlh2",BaseSelect=(0,react.forwardRef)((function(_ref,ref){var dataTestId=_ref.dataTestId,className=_ref.className,fieldClassName=_ref.fieldClassName,optionsListClassName=_ref.optionsListClassName,optionClassName=_ref.optionClassName,popperClassName=_ref.popperClassName,options=_ref.options,_ref$autocomplete=_ref.autocomplete,autocomplete=void 0!==_ref$autocomplete&&_ref$autocomplete,_ref$multiple=_ref.multiple,multiple=void 0!==_ref$multiple&&_ref$multiple,_ref$allowUnselect=_ref.allowUnselect,allowUnselect=void 0!==_ref$allowUnselect&&_ref$allowUnselect,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$closeOnSelect=_ref.closeOnSelect,closeOnSelect=void 0===_ref$closeOnSelect?!multiple:_ref$closeOnSelect,_ref$circularNavigati=_ref.circularNavigation,circularNavigation=void 0!==_ref$circularNavigati&&_ref$circularNavigati,_ref$nativeSelect=_ref.nativeSelect,nativeSelect=void 0!==_ref$nativeSelect&&_ref$nativeSelect,_ref$defaultOpen=_ref.defaultOpen,defaultOpen=void 0!==_ref$defaultOpen&&_ref$defaultOpen,openProp=_ref.open,_ref$popoverPosition=_ref.popoverPosition,popoverPosition=void 0===_ref$popoverPosition?"bottom-start":_ref$popoverPosition,_ref$preventFlip=_ref.preventFlip,preventFlip=void 0===_ref$preventFlip||_ref$preventFlip,_ref$optionsListWidth=_ref.optionsListWidth,optionsListWidth=void 0===_ref$optionsListWidth?"content":_ref$optionsListWidth,name=_ref.name,id=_ref.id,selected=_ref.selected,_ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size,_ref$optionsSize=_ref.optionsSize,optionsSize=void 0===_ref$optionsSize?size:_ref$optionsSize,error=_ref.error,hint=_ref.hint,block=_ref.block,label=_ref.label,labelView=_ref.labelView,placeholder=_ref.placeholder,_ref$fieldProps=_ref.fieldProps,fieldProps=void 0===_ref$fieldProps?{}:_ref$fieldProps,_ref$optionsListProps=_ref.optionsListProps,optionsListProps=void 0===_ref$optionsListProps?{}:_ref$optionsListProps,_ref$optionProps=_ref.optionProps,optionProps=void 0===_ref$optionProps?{}:_ref$optionProps,valueRenderer=_ref.valueRenderer,onChange=_ref.onChange,onOpen=_ref.onOpen,onFocus=_ref.onFocus,onBlur=_ref.onBlur,onScroll=_ref.onScroll,Arrow=_ref.Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?function(){return null}:_ref$Field,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?function(){return null}:_ref$OptionsList,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?function(){return null}:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?function(){return null}:_ref$Option,updatePopover=_ref.updatePopover,zIndexPopover=_ref.zIndexPopover,_ref$showEmptyOptions=_ref.showEmptyOptionsList,showEmptyOptionsList=void 0!==_ref$showEmptyOptions&&_ref$showEmptyOptions,visibleOptions=_ref.visibleOptions,rootRef=(0,react.useRef)(null),fieldRef=(0,react.useRef)(null),listRef=(0,react.useRef)(null),initiatorRef=(0,react.useRef)(null),itemToString=function itemToString(option){return option?option.key:""},_useMemo=(0,react.useMemo)((function(){return(0,utils.jW)(options,selected)}),[options,selected]),flatOptions=_useMemo.flatOptions,selectedOptions=_useMemo.selectedOptions,useMultipleSelectionProps={itemToString:itemToString,onSelectedItemsChange:function onSelectedItemsChange(changes){if(onChange){var _changes$selectedItem=changes.selectedItems,_selectedItems=void 0===_changes$selectedItem?[]:_changes$selectedItem;onChange({selectedMultiple:_selectedItems,selected:_selectedItems.length?_selectedItems[0]:null,initiator:initiatorRef.current,name:name}),initiatorRef.current=null}},stateReducer:function stateReducer(state,actionAndChanges){var type=actionAndChanges.type,changes=actionAndChanges.changes;return allowUnselect||type!==downshift_esm.M$.stateChangeTypes.DropdownKeyDownBackspace?changes:state}};void 0!==selected&&(useMultipleSelectionProps.selectedItems=selectedOptions);var _useMultipleSelection=(0,downshift_esm.M$)(useMultipleSelectionProps),selectedItems=_useMultipleSelection.selectedItems,addSelectedItem=_useMultipleSelection.addSelectedItem,setSelectedItems=_useMultipleSelection.setSelectedItems,removeSelectedItem=_useMultipleSelection.removeSelectedItem,getDropdownProps=_useMultipleSelection.getDropdownProps,_useCombobox=(0,downshift_esm.Kb)({id:id,isOpen:openProp,circularNavigation:circularNavigation,items:flatOptions,itemToString:itemToString,defaultHighlightedIndex:0===selectedItems.length?-1:void 0,onIsOpenChange:function onIsOpenChange(changes){onOpen&&setTimeout((function(){onOpen({open:changes.isOpen,name:name})}),0)},stateReducer:function stateReducer(state,actionAndChanges){var type=actionAndChanges.type,changes=actionAndChanges.changes,selectedItem=changes.selectedItem;switch(type){case downshift_esm.Kb.stateChangeTypes.InputKeyDownEnter:case downshift_esm.Kb.stateChangeTypes.ItemClick:if(initiatorRef.current=selectedItem,selectedItem&&!selectedItem.disabled){var alreadySelected=selectedItems.includes(selectedItem),allowRemove=allowUnselect||multiple&&selectedItems.length>1;alreadySelected&&allowRemove&&removeSelectedItem(selectedItem),alreadySelected||(multiple?addSelectedItem(selectedItem):setSelectedItems([selectedItem]))}return(0,objectSpread2.Z)((0,objectSpread2.Z)({},changes),{},{isOpen:!closeOnSelect,highlightedIndex:state.isOpen&&!closeOnSelect?state.highlightedIndex:changes.highlightedIndex});default:return changes}}}),open=_useCombobox.isOpen,getMenuProps=_useCombobox.getMenuProps,getInputProps=_useCombobox.getInputProps,getItemProps=_useCombobox.getItemProps,getComboboxProps=_useCombobox.getComboboxProps,getLabelProps=_useCombobox.getLabelProps,highlightedIndex=_useCombobox.highlightedIndex,toggleMenu=_useCombobox.toggleMenu,openMenu=_useCombobox.openMenu,menuProps=getMenuProps({ref:listRef},{suppressRefError:!0}),inputProps=getInputProps(getDropdownProps({ref:(0,react_merge_refs_esm.Z)([ref,fieldRef])})),handleNativeSelectChange=(0,react.useCallback)((function(event){setSelectedItems((0,toConsumableArray.Z)(event.target.options).reduce((function(acc,option,index){return option.selected?acc.concat(flatOptions[index]):acc}),[]))}),[flatOptions,setSelectedItems]),getOptionProps=(0,react.useCallback)((function(option,index){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionProps),{},{className:optionClassName,innerProps:getItemProps({index:index,item:option,disabled:option.disabled,onMouseDown:function onMouseDown(event){return event.preventDefault()}}),multiple:multiple,index:index,option:option,size:optionsSize,disabled:option.disabled,highlighted:index===highlightedIndex,selected:selectedItems.includes(option),dataTestId:(0,getDataTestId.B)(dataTestId,"option")})}),[dataTestId,getItemProps,highlightedIndex,multiple,optionClassName,optionProps,optionsSize,selectedItems]);(0,react.useEffect)((function(){defaultOpen&&openMenu()}),[defaultOpen,openMenu]),(0,react.useEffect)((function(){openProp&&openMenu()}),[]);var calcOptionsListWidth=(0,react.useCallback)((function(){if(listRef.current){var widthAttr="field"===optionsListWidth?"width":"minWidth",optionsListMinWidth=rootRef.current?rootRef.current.getBoundingClientRect().width:0;listRef.current.setAttribute("style",""),listRef.current.style[widthAttr]="".concat(optionsListMinWidth,"px")}}),[optionsListWidth]);(0,react.useEffect)((function(){var observer=new(window.ResizeObserver||resize_observer.do)(calcOptionsListWidth);return rootRef.current&&observer.observe(rootRef.current),function(){observer.disconnect()}}),[calcOptionsListWidth,open,optionsListWidth]),(0,esm.CZ)(calcOptionsListWidth,[open,optionsListWidth,options,selectedItems]);var renderValue=(0,react.useCallback)((function(){return selectedItems.map((function(option){return(0,jsx_runtime.jsx)("input",{type:"hidden",name:name,value:option.key},option.key)}))}),[selectedItems,name]),renderNativeSelect=(0,react.useCallback)((function(){var value=multiple?selectedItems.map((function(option){return option.key})):(selectedItems[0]||{}).key;return(0,jsx_runtime.jsx)(NativeSelect,(0,objectSpread2.Z)((0,objectSpread2.Z)({},menuProps),{},{className:index_module_nativeSelect,disabled:disabled,multiple:multiple,name:name,value:value,onChange:handleNativeSelectChange,options:options}))}),[multiple,selectedItems,disabled,name,handleNativeSelectChange,options,menuProps]),needRenderOptionsList=flatOptions.length>0||showEmptyOptionsList;return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getComboboxProps((0,objectSpread2.Z)((0,objectSpread2.Z)({ref:rootRef},disabled&&{"aria-disabled":!0}),{},{className:classnames_default()(index_module_component,(0,defineProperty.Z)({},index_module_block,block),className)}))),{},{onKeyDown:disabled?void 0:function handleFieldKeyDown(event){inputProps.onKeyDown(event),!autocomplete||open||1!==event.key.length&&"Backspace"!==event.key||openMenu(),![" ","Enter"].includes(event.key)||autocomplete||nativeSelect||"INPUT"===event.target.tagName||"BUTTON"===event.target.tagName||(event.preventDefault(),open&&-1!==highlightedIndex||toggleMenu())},tabIndex:-1,"data-test-id":(0,getDataTestId.B)(dataTestId),children:[nativeSelect&&renderNativeSelect(),(0,jsx_runtime.jsx)(Field,(0,objectSpread2.Z)({selectedMultiple:selectedItems,selected:selectedItems[0],setSelectedItems:setSelectedItems,toggleMenu:toggleMenu,multiple:multiple,open:open,disabled:disabled,size:size,placeholder:placeholder,label:label&&(0,jsx_runtime.jsx)("span",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getLabelProps()),{},{children:label})),labelView:labelView,Arrow:Arrow&&(0,jsx_runtime.jsx)(Arrow,{open:open}),error:error,hint:hint,valueRenderer:valueRenderer,className:fieldClassName,innerProps:{onBlur:function handleFieldBlur(event){var _listRef$current;(null===(_listRef$current=listRef.current)||void 0===_listRef$current?void 0:_listRef$current.contains(event.relatedTarget||document.activeElement))||(onBlur&&onBlur(event),inputProps.onBlur(event))},onFocus:disabled?void 0:function handleFieldFocus(event){onFocus&&onFocus(event),autocomplete&&!open&&openMenu()},onClick:disabled?void 0:function handleFieldClick(event){autocomplete&&"INPUT"===event.target.tagName?openMenu():toggleMenu()},tabIndex:disabled?void 0:nativeSelect?-1:0,ref:(0,react_merge_refs_esm.Z)([inputProps.ref]),id:inputProps.id,"aria-labelledby":inputProps["aria-labelledby"],"aria-controls":inputProps["aria-controls"],"aria-autocomplete":autocomplete?inputProps["aria-autocomplete"]:void 0},dataTestId:(0,getDataTestId.B)(dataTestId,"field")},fieldProps)),name&&!nativeSelect&&renderValue(),!nativeSelect&&(0,jsx_runtime.jsx)(modern.Popover,{open:open,withTransition:!1,anchorElement:fieldRef.current,position:popoverPosition,preventFlip:preventFlip,popperClassName:classnames_default()(index_module_popoverInner,popperClassName),update:updatePopover,zIndex:zIndexPopover,children:needRenderOptionsList&&(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},menuProps),{},{className:classnames_default()(optionsListClassName,index_module_optionsList),children:[(0,jsx_runtime.jsx)(OptionsList,(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionsListProps),{},{optionsListWidth:optionsListWidth,flatOptions:flatOptions,highlightedIndex:highlightedIndex,open:open,size:size,options:options,Optgroup:Optgroup,Option:Option,selectedItems:selectedItems,setSelectedItems:setSelectedItems,toggleMenu:toggleMenu,getOptionProps:getOptionProps,visibleOptions:visibleOptions,onScroll:onScroll,dataTestId:(0,getDataTestId.B)(dataTestId,"options-list")})),(0,jsx_runtime.jsx)("div",{className:index_module_optionsListBorder})]}))})]}))}));try{BaseSelect.displayName="BaseSelect",BaseSelect.__docgenInfo={description:"",displayName:"BaseSelect",props:{dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:{value:"false"},description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},optionsSize:{defaultValue:{value:"s"},description:"Размер пунктов меню",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:{value:"content"},description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},autocomplete:{defaultValue:{value:"false"},description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},allowUnselect:{defaultValue:{value:"false"},description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:{value:"!multiple"},description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:{value:"false"},description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:{value:"true"},description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},nativeSelect:{defaultValue:{value:"false"},description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:{value:"bottom-start"},description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | FC<ArrowProps> | null"}},Field:{defaultValue:{value:"() => null"},description:"Компонент поля",name:"Field",required:!1,type:{name:"FC<FieldProps>"}},fieldProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"() => null"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"() => null"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},Option:{defaultValue:{value:"() => null"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"FC<OptionProps>"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},onBlur:{defaultValue:null,description:"Обработчик фокуса поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onFocus:{defaultValue:null,description:"Обработчик блюра поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<() => void>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:{value:"false"},description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/base-select/Component.tsx#BaseSelect"]={docgenInfo:BaseSelect.__docgenInfo,name:"BaseSelect",path:"packages/select/src/components/base-select/Component.tsx#BaseSelect"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/field/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{g:function(){return Field}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/form-control/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),utils=__webpack_require__("./packages/select/src/utils.ts"),index_module_component="component_zOUqa",index_module_field="field_dLiU8",index_module_disabled="disabled_V9ICB",index_module_arrow="arrow_J35rX",index_module_placeholder="placeholder_ipIF4",index_module_contentWrapper="contentWrapper_zxzjS",index_module_value="value_WHuoX",index_module_focusVisible="focusVisible_otvIz",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["size","open","multiple","error","hint","disabled","label","labelView","placeholder","selectedMultiple","selected","rightAddons","valueRenderer","setSelectedItems","toggleMenu","Arrow","innerProps","dataTestId","fieldClassName"],Field=function Field(_ref){var _cn,_ref$size=_ref.size,size=void 0===_ref$size?"m":_ref$size,open=_ref.open,error=(_ref.multiple,_ref.error),hint=_ref.hint,disabled=_ref.disabled,label=_ref.label,_ref$labelView=_ref.labelView,labelView=void 0===_ref$labelView?"inner":_ref$labelView,placeholder=_ref.placeholder,_ref$selectedMultiple=_ref.selectedMultiple,selectedMultiple=void 0===_ref$selectedMultiple?[]:_ref$selectedMultiple,selected=_ref.selected,rightAddons=_ref.rightAddons,_ref$valueRenderer=_ref.valueRenderer,valueRenderer=void 0===_ref$valueRenderer?utils.JC:_ref$valueRenderer,Arrow=(_ref.setSelectedItems,_ref.toggleMenu,_ref.Arrow),innerProps=_ref.innerProps,dataTestId=_ref.dataTestId,fieldClassName=_ref.fieldClassName,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),focused=_useState2[0],setFocused=_useState2[1],wrapperRef=(0,react.useRef)(null),_useFocus=(0,esm.KK)(wrapperRef,"keyboard"),focusVisible=(0,slicedToArray.Z)(_useFocus,1)[0],handleFocus=(0,react.useCallback)((function(){return setFocused(!0)}),[]),handleBlur=(0,react.useCallback)((function(){return setFocused(!1)}),[]),value=valueRenderer({selected:selected,selectedMultiple:selectedMultiple}),filled=Boolean(value),showLabel=!!label&&(filled||!placeholder||"outer"===labelView);return(0,jsx_runtime.jsx)("div",{className:index_module_component,ref:wrapperRef,onFocus:handleFocus,onBlur:handleBlur,children:(0,jsx_runtime.jsx)(modern.FormControl,(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({fieldClassName:classnames_default()(index_module_field,fieldClassName,(_cn={},(0,defineProperty.Z)(_cn,index_module_disabled,disabled),(0,defineProperty.Z)(_cn,index_module_focusVisible,focusVisible),_cn)),block:!0,size:size,focused:open||focused,disabled:disabled,filled:filled,label:showLabel&&label,labelView:labelView,error:error,hint:hint,rightAddons:(Arrow||rightAddons)&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[rightAddons,Arrow?react.cloneElement(Arrow,{className:index_module_arrow}):null]}),"data-test-id":dataTestId},restProps),innerProps),{},{children:(0,jsx_runtime.jsxs)("div",{className:index_module_contentWrapper,children:[placeholder&&!filled&&(0,jsx_runtime.jsx)("span",{className:index_module_placeholder,children:placeholder}),filled&&(0,jsx_runtime.jsx)("div",{className:index_module_value,children:value})]})}))})};try{Field.displayName="Field",Field.__docgenInfo={description:"",displayName:"Field",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"Выбранный пункт",name:"selected",required:!1,type:{name:"OptionShape"}},selectedMultiple:{defaultValue:{value:"[]"},description:"Список выбранных пунктов",name:"selectedMultiple",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},multiple:{defaultValue:null,description:"Флаг, можно ли выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, поле заблокировано\nЗаблокированное состояние",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Лейбл поля\nЛейбл компонента",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:{value:"inner"},description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},success:{defaultValue:null,description:"Отображение иконки успеха",name:"success",required:!1,type:{name:"boolean"}},hint:{defaultValue:null,description:"Подсказка под полем\nТекст подсказки",name:"hint",required:!1,type:{name:"ReactNode"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | ReactElement<any, string | JSXElementConstructor<any>> | null"}},valueRenderer:{defaultValue:{value:"({\n    selected,\n    selectedMultiple,\n}: {\n    selected?: OptionShape;\n    selectedMultiple?: OptionShape[];\n}) => {\n    const options = selectedMultiple || (selected ? [selected] : []);\n\n    if (!options.length) return null;\n\n    return options.reduce((acc: Array<ReactNode | string>, option: OptionShape, index: number) => {\n        if (isValidElement(option.content)) {\n            acc.push(cloneElement(option.content, { key: option.key }));\n        } else {\n            acc.push(option.content);\n        }\n\n        if (index < options.length - 1) acc.push(', ');\n\n        return acc;\n    }, []);\n}"},description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},innerProps:{defaultValue:null,description:"Внутренние свойства, которые должны быть установлены компоненту.",name:"innerProps",required:!0,type:{name:"{ onBlur?: ((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void) | undefined; onFocus?: ((event: FocusEvent<HTMLDivElement | HTMLInputElement, Element>) => void) | undefined; onClick?: ((event: MouseEvent<...>) => void) | undefined; tabIndex?: number | undefined; id: string; } & RefAttributes<......"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"m"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},colors:{defaultValue:null,description:"Набор цветов для компонента",name:"colors",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"inverted"'}]}},readOnly:{defaultValue:null,description:"Cостояние только для чтения",name:"readOnly",required:!1,type:{name:"boolean"}},filled:{defaultValue:null,description:"Заполненное состояние",name:"filled",required:!1,type:{name:"boolean"}},focused:{defaultValue:null,description:"Выбранное (фокус) состояние",name:"focused",required:!1,type:{name:"boolean"}},leftAddons:{defaultValue:null,description:"Слот слева",name:"leftAddons",required:!1,type:{name:"ReactNode"}},rightAddons:{defaultValue:null,description:"Слот справа",name:"rightAddons",required:!1,type:{name:"ReactNode"}},bottomAddons:{defaultValue:null,description:"Слот под полем",name:"bottomAddons",required:!1,type:{name:"ReactNode"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},inputWrapperClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"inputWrapperClassName",required:!1,type:{name:"string"}},labelClassName:{defaultValue:null,description:"Дополнительный класс для лейбла",name:"labelClassName",required:!1,type:{name:"string"}},addonsClassName:{defaultValue:null,description:"Дополнительный класс для аддонов",name:"addonsClassName",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/field/Component.tsx#Field"]={docgenInfo:Field.__docgenInfo,name:"Field",path:"packages/select/src/components/field/Component.tsx#Field"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/optgroup/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{t:function(){return Optgroup}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),index_module={optgroup:"optgroup_q8FGV",label:"label_YEkB6",l:"l_ns03o",xl:"xl_Cgp4G"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Optgroup=function Optgroup(_ref){var children=_ref.children,className=_ref.className,label=_ref.label,_ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.optgroup,className,index_module[size]),children:(0,jsx_runtime.jsx)("span",{className:index_module.label,children:label})}),children]})};try{Optgroup.displayName="Optgroup",Optgroup.__docgenInfo={description:"",displayName:"Optgroup",props:{className:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},label:{defaultValue:null,description:"Заголовок группы",name:"label",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Дочерние элементы",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/optgroup/Component.tsx#Optgroup"]={docgenInfo:Optgroup.__docgenInfo,name:"Optgroup",path:"packages/select/src/components/optgroup/Component.tsx#Optgroup"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/option/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{W:function(){return Option}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/badge/modern/index.js"),checkbox_modern=__webpack_require__("./dist/checkbox/modern/index.js"),CheckmarkCircleMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/CheckmarkCircleMIcon.js"),CheckmarkMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/CheckmarkMIcon.js"),index_module={checkmark:"checkmark_CSCCc",after:"after_aCWWU",single:"single_XrElb",selected:"selected_gJ5q_",before:"before_A2aV6",multiple:"multiple_enpsV",colorIcon:"colorIcon_pQ3if"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Component_Checkmark=function Checkmark(_ref){var _cn,selected=_ref.selected,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,className=_ref.className,multiple=_ref.multiple,_ref$position=_ref.position,position=void 0===_ref$position?"before":_ref$position,single=!multiple,checkmarkClassNames=classnames_default()(index_module.checkmark,className,index_module[position],(_cn={},(0,defineProperty.Z)(_cn,index_module.multiple,!single),(0,defineProperty.Z)(_cn,index_module.single,single),(0,defineProperty.Z)(_cn,index_module.selected,selected),_cn)),handleCheckboxClick=(0,react.useCallback)((function(event){return event.stopPropagation()}),[]);return single?(0,jsx_runtime.jsx)("div",{className:checkmarkClassNames,children:"before"===position?(0,jsx_runtime.jsx)(modern.Badge,{className:index_module.after,view:"icon",size:"m",iconColor:"positive",content:(0,jsx_runtime.jsx)(CheckmarkCircleMIcon.CheckmarkCircleMIcon,{className:index_module.colorIcon})}):(0,jsx_runtime.jsx)(CheckmarkMIcon.default,{className:classnames_default()(index_module.displayIcon)})}):(0,jsx_runtime.jsx)(checkbox_modern.Checkbox,{checked:selected,disabled:disabled,className:checkmarkClassNames,size:"m",onClick:handleCheckboxClick})};try{Component_Checkmark.displayName="Checkmark",Component_Checkmark.__docgenInfo={description:"",displayName:"Checkmark",props:{selected:{defaultValue:null,description:"Флаг, данный пункт выбран",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Флаг, данный пункт задизейблен",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"before"},description:"Расположение отметки",name:"position",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},icon:{defaultValue:null,description:"Иконка выбранного пункта",name:"icon",required:!1,type:{name:"FC<SVGProps<SVGSVGElement>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/checkmark/Component.tsx#Checkmark"]={docgenInfo:Component_Checkmark.__docgenInfo,name:"Checkmark",path:"packages/select/src/components/checkmark/Component.tsx#Checkmark"})}catch(__react_docgen_typescript_loader_error){}var checkmark_mobile_index_module_checkmark="checkmark_rWzcg",checkmark_mobile_index_module_selected="selected_wACln",checkmark_mobile_index_module_displayIcon="displayIcon_GEtCs",checkmark_mobile_Component_Checkmark=function Checkmark(_ref){var selected=_ref.selected,className=_ref.className;return(0,jsx_runtime.jsx)("div",{className:classnames_default()(checkmark_mobile_index_module_checkmark,className,(0,defineProperty.Z)({},checkmark_mobile_index_module_selected,selected)),children:(0,jsx_runtime.jsx)(CheckmarkMIcon.CheckmarkMIcon,{className:checkmark_mobile_index_module_displayIcon})})};try{checkmark_mobile_Component_Checkmark.displayName="Checkmark",checkmark_mobile_Component_Checkmark.__docgenInfo={description:"",displayName:"Checkmark",props:{selected:{defaultValue:null,description:"Флаг, данный пункт выбран",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, данный пункт задизейблен",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"Расположение отметки",name:"position",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},icon:{defaultValue:null,description:"Иконка выбранного пункта",name:"icon",required:!1,type:{name:"FC<SVGProps<SVGSVGElement>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/checkmark-mobile/Component.tsx#Checkmark"]={docgenInfo:checkmark_mobile_Component_Checkmark.__docgenInfo,name:"Checkmark",path:"packages/select/src/components/checkmark-mobile/Component.tsx#Checkmark"})}catch(__react_docgen_typescript_loader_error){}var option_index_module={option:"option_gwrUy",disabled:"disabled__Fu13",s:"s_utmIH",m:"m_Dt3qv",l:"l_rPQbN",xl:"xl_m_KYY",selected:"selected_hRgWF",highlighted:"highlighted_kJT1g",content:"content_ExbhC",textContent:"textContent_IMZ6e"},Option=function Option(_ref){var _cn,_ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size,className=_ref.className,option=_ref.option,children=_ref.children,selected=_ref.selected,highlighted=_ref.highlighted,disabled=_ref.disabled,multiple=_ref.multiple,mobile=_ref.mobile,_ref$Checkmark=_ref.Checkmark,Checkmark=void 0===_ref$Checkmark?mobile?checkmark_mobile_Component_Checkmark:Component_Checkmark:_ref$Checkmark,innerProps=_ref.innerProps,dataTestId=_ref.dataTestId,content=children||option.content||option.key,_option$showCheckMark=option.showCheckMark,showCheckMark=void 0===_option$showCheckMark||_option$showCheckMark;return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},innerProps),{},{className:classnames_default()(option_index_module.option,option_index_module[size],className,(_cn={},(0,defineProperty.Z)(_cn,option_index_module.highlighted,!mobile&&highlighted),(0,defineProperty.Z)(_cn,option_index_module.selected,selected),(0,defineProperty.Z)(_cn,option_index_module.disabled,disabled),_cn)),"data-test-id":dataTestId,children:[Checkmark&&showCheckMark&&(0,jsx_runtime.jsx)(Checkmark,{disabled:disabled,selected:selected,multiple:multiple,position:"before"}),(0,jsx_runtime.jsx)("div",{className:classnames_default()(option_index_module.content,(0,defineProperty.Z)({},option_index_module.textContent,!(0,react.isValidElement)(content))),children:content}),Checkmark&&showCheckMark&&(0,jsx_runtime.jsx)(Checkmark,{disabled:disabled,selected:selected,multiple:multiple,position:"after"})]}))};try{Option.displayName="Option",Option.__docgenInfo={description:"",displayName:"Option",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},children:{defaultValue:null,description:"Контент пункта меню",name:"children",required:!1,type:{name:"ReactNode"}},option:{defaultValue:null,description:"Данные пункта меню",name:"option",required:!0,type:{name:"OptionShape"}},index:{defaultValue:null,description:"Индекс пункта",name:"index",required:!0,type:{name:"number"}},selected:{defaultValue:null,description:"Флаг, выбран ли данный пункт",name:"selected",required:!1,type:{name:"boolean"}},highlighted:{defaultValue:null,description:"Флаг, подсвечен ли данный пункт",name:"highlighted",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, заблокирован ли данный пункт",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},Checkmark:{defaultValue:{value:"mobile ? DefaultMobileCheckmark : DefaultCheckMark"},description:"Компонент пункта меню",name:"Checkmark",required:!1,type:{name:"FC<CheckmarkProps> | null"}},innerProps:{defaultValue:null,description:"Внутренние свойства, которые должны быть установлены компоненту.",name:"innerProps",required:!0,type:{name:"{ id: string; onClick: (event: MouseEvent<HTMLDivElement, MouseEvent>) => void; onMouseDown: (event: MouseEvent<HTMLDivElement, MouseEvent>) => void; onMouseMove: (event: MouseEvent<...>) => void; role: string; } & RefAttributes<...> & AriaAttributes"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},checkmarkPosition:{defaultValue:null,description:'Позиция иконки "галочки"',name:"checkmarkPosition",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},mobile:{defaultValue:null,description:"Мобильная верcия option.",name:"mobile",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/option/Component.tsx#Option"]={docgenInfo:Option.__docgenInfo,name:"Option",path:"packages/select/src/components/option/Component.tsx#Option"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/options-list/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{M:function(){return OptionsList}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/scrollbar/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),consts=__webpack_require__("./packages/select/src/consts.ts"),utils=__webpack_require__("./packages/select/src/utils.ts"),optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),index_module={optionsList:"optionsList_dWWP1",optionsListHeader:"optionsListHeader_l6dzu",optionsListFooter:"optionsListFooter_RLFvC",withBorder:"withBorder_B_X9i",scrollable:"scrollable_gc3Nx",emptyPlaceholder:"emptyPlaceholder_rowx2",l:"l_uu6sb",xl:"xl_hSRK3"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),OptionsList=(0,react.forwardRef)((function(_ref,ref){var _ref$size=_ref.size,size=void 0===_ref$size?"s":_ref$size,className=_ref.className,optionGroupClassName=_ref.optionGroupClassName,Option=_ref.Option,getOptionProps=_ref.getOptionProps,_ref$options=_ref.options,options=void 0===_ref$options?[]:_ref$options,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,dataTestId=_ref.dataTestId,emptyPlaceholder=_ref.emptyPlaceholder,_ref$visibleOptions=_ref.visibleOptions,visibleOptions=void 0===_ref$visibleOptions?consts.j:_ref$visibleOptions,onScroll=_ref.onScroll,open=_ref.open,header=_ref.header,footer=_ref.footer,_ref$showFooter=_ref.showFooter,showFooter=void 0===_ref$showFooter||_ref$showFooter,optionsListWidth=_ref.optionsListWidth,nativeScrollbarProp=_ref.nativeScrollbar,_ref$flatOptions=_ref.flatOptions,flatOptions=void 0===_ref$flatOptions?[]:_ref$flatOptions,_useMedia=(0,esm.GS)([[!0,"(max-width: 1023px)"]],!1),nativeScrollbar=(0,slicedToArray.Z)(_useMedia,1)[0];nativeScrollbar=Boolean(null!=nativeScrollbarProp?nativeScrollbarProp:nativeScrollbar);var renderOption=function renderOption(option,index){return(0,jsx_runtime.jsx)(Option,(0,objectSpread2.Z)({},getOptionProps(option,index)),option.key)},listRef=(0,react.useRef)(null),scrollbarRef=(0,react.useRef)(null),counter=function createCounter(){var count=0;return function(){return count++}}();if((0,utils.kZ)((0,objectSpread2.Z)((0,objectSpread2.Z)({},!nativeScrollbar&&{styleTargetRef:scrollbarRef}),{},{visibleOptions:visibleOptions,listRef:listRef,open:open,invalidate:options})),0===options.length&&!emptyPlaceholder)return null;var renderListItems=function renderListItems(){return(0,jsx_runtime.jsxs)(react.Fragment,{children:[options.map((function(option){return(0,utils.ty)(option)?function renderGroup(group){return(0,jsx_runtime.jsx)(Optgroup,{className:optionGroupClassName,label:group.label,size:size,children:group.options.map((function(option){return renderOption(option,counter())}))},group.label)}(option):renderOption(option,counter())})),emptyPlaceholder&&0===options.length&&(0,jsx_runtime.jsx)("div",{className:index_module.emptyPlaceholder,children:emptyPlaceholder})]})};return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},nativeScrollbar&&{"data-test-id":dataTestId}),{},{className:classnames_default()(index_module.optionsList,index_module[size],className),children:[header&&(0,jsx_runtime.jsx)("div",{className:index_module.optionsListHeader,children:header}),nativeScrollbar?function renderWithNativeScrollbar(){return(0,jsx_runtime.jsx)("div",{className:index_module.scrollable,ref:(0,react_merge_refs_esm.Z)([listRef,ref]),onScroll:onScroll,children:renderListItems()})}():function renderWithCustomScrollbar(){var scrollableNodeProps={onScroll:onScroll,"data-test-id":dataTestId,ref:ref};return(0,jsx_runtime.jsx)(modern.Scrollbar,{className:index_module.scrollable,ref:scrollbarRef,horizontalAutoStretch:"content"===optionsListWidth,scrollableNodeProps:scrollableNodeProps,contentNodeProps:{ref:listRef},children:renderListItems()})}(),showFooter&&footer&&(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.optionsListFooter,(0,defineProperty.Z)({},index_module.withBorder,visibleOptions&&flatOptions.length>visibleOptions)),children:footer})]}))}));try{OptionsList.displayName="OptionsList",OptionsList.__docgenInfo={description:"",displayName:"OptionsList",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},size:{defaultValue:{value:"s"},description:"Размер компонента",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'}]}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!0,type:{name:"FC<OptionProps>"}},getOptionProps:{defaultValue:null,description:"Функция для получения пропсов для ячейки",name:"getOptionProps",required:!0,type:{name:"(option: OptionShape, index: number) => OptionProps"}},selectedItems:{defaultValue:null,description:"Список выбранных пунктов",name:"selectedItems",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"Контент шапки",name:"header",required:!1,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"Контент футера",name:"footer",required:!1,type:{name:"ReactNode"}},options:{defaultValue:{value:"[]"},description:"Список вариантов выбора",name:"options",required:!1,type:{name:"(OptionShape | GroupShape)[]"}},flatOptions:{defaultValue:{value:"[]"},description:"Плоский список пунктов меню (например, нужно для виртуализации)",name:"flatOptions",required:!1,type:{name:"OptionShape[]"}},highlightedIndex:{defaultValue:null,description:"Индекс выделенного пункта",name:"highlightedIndex",required:!1,type:{name:"number"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 's' }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[size])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"FC<OptgroupProps>"}},emptyPlaceholder:{defaultValue:null,description:"Будет отображаться, если компонент пустой",name:"emptyPlaceholder",required:!1,type:{name:"ReactNode"}},visibleOptions:{defaultValue:{value:"5"},description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},inputProps:{defaultValue:null,description:"Дополнительные пропсы для Input'a, находящегося внутри кастомного OptionsList",name:"inputProps",required:!1,type:{name:"InputProps"}},showFooter:{defaultValue:{value:"true"},description:"Нужно ли показывать футер",name:"showFooter",required:!1,type:{name:"boolean"}},nativeScrollbar:{defaultValue:null,description:"Нужно ли использовать нативный скроллбар",name:"nativeScrollbar",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},onApply:{defaultValue:null,description:"Обработчик подтверждения изменений",name:"onApply",required:!1,type:{name:"(() => void)"}},onClear:{defaultValue:null,description:"Обработчик отмены изменений",name:"onClear",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/options-list/Component.tsx#OptionsList"]={docgenInfo:OptionsList.__docgenInfo,name:"OptionsList",path:"packages/select/src/components/options-list/Component.tsx#OptionsList"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/consts.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{j:function(){return DEFAULT_VISIBLE_OPTIONS}});var DEFAULT_VISIBLE_OPTIONS=5},"./packages/select/src/utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{D9:function(){return usePrevious},JC:function(){return joinOptions},d_:function(){return lastIndexOf},jW:function(){return processOptions},kZ:function(){return useVisibleOptions},ty:function(){return isGroup},yR:function(){return isOptionShape}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),isGroup=function isGroup(item){return Object.prototype.hasOwnProperty.call(item,"options")},isOptionShape=function isOptionShape(item){return!!item&&Object.prototype.hasOwnProperty.call(item,"key")},joinOptions=function joinOptions(_ref){var selected=_ref.selected,options=_ref.selectedMultiple||(selected?[selected]:[]);return options.length?options.reduce((function(acc,option,index){return(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(option.content)?acc.push((0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(option.content,{key:option.key})):acc.push(option.content),index<options.length-1&&acc.push(", "),acc}),[]):null};function processOptions(options){var selected=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],flatOptions=[],selectedArray=Array.isArray(selected)?selected:[selected],selectedOptions=selectedArray.filter(isOptionShape),selectedKeys=selectedArray.filter((function(option){return"string"==typeof option})),process=function process(option){flatOptions.push(option),function isSelected(option){return selectedKeys.includes(option.key)}(option)&&selectedOptions.push(option)};return options.forEach((function(option){isGroup(option)?option.options.forEach(process):process(option)})),{flatOptions:flatOptions,selectedOptions:selectedOptions}}function useVisibleOptions(_ref2){var visibleOptions=_ref2.visibleOptions,listRef=_ref2.listRef,_ref2$styleTargetRef=_ref2.styleTargetRef,styleTargetRef=void 0===_ref2$styleTargetRef?listRef:_ref2$styleTargetRef,open=_ref2.open,invalidate=_ref2.invalidate;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var list=listRef.current,styleTarget=styleTargetRef.current;if(open&&list&&styleTarget&&visibleOptions>0){var childCount=list.children.length,optionsNodes=[].slice.call(list.children,0,visibleOptions+1),height=optionsNodes.slice(0,visibleOptions).reduce((function(acc,child){return acc+child.clientHeight}),0);if(visibleOptions<childCount){var lastVisibleOptionHeight=optionsNodes[optionsNodes.length-1].clientHeight;height+=Math.round(childCount-visibleOptions==1?lastVisibleOptionHeight:lastVisibleOptionHeight/2)}styleTarget.style.height="".concat(height,"px")}}),[listRef,open,styleTargetRef,visibleOptions,invalidate])}function usePrevious(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){ref.current=value}),[value]),ref.current}var lastIndexOf=function lastIndexOf(array,predicate){for(var i=array.length-1;i>=0;i--)if(predicate(array[i]))return i;return-1}},"./packages/utils/getDataTestId.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{B:function(){return getDataTestId}});var getDataTestId=function getDataTestId(dataTestId,element){var elementPart=element?"-".concat(element.toLowerCase()):"";return dataTestId?"".concat(dataTestId).concat(elementPart):void 0}}}]);