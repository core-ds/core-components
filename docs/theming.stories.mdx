import { Meta } from '@storybook/addon-docs';
import { Plate } from '@alfalab/core-components-plate';
import { Typography } from '@alfalab/core-components-typography';

import { ThemingWizard } from 'storybook/theming-wizard';

<Meta
    title='For users/Темизация'
    parameters={{ previewTabs: { canvas: { hidden: true } } }}
    id='Instructions/Theming'
/>

<Plate
    view='attention'
    titleView='light'
    limitContentWidth={false}
    title={
        <>
            При переходе на версию&nbsp;
            <Typography.Text weight='bold'>@alfalab/core-components` 49 версии</Typography.Text>
            &nbsp;можно столкнуться с неработающей темизацией
        </>
    }
>
    <>
        Подробности ниже, в секции <Typography.Text weight='bold'>Troubleshooting</Typography.Text>
    </>
</Plate>

## Темизация

Настройка темизации может несколько отличаться в разных продуктах.

Выберите конфигурацию своего проекта, чтобы получить инструкцию по настройке.

<ThemingWizard />

### Ограничения

#### На одной странице должна использоваться только **одна тема**

В идеале весь проект должен использовать только одну тему, например тему mobile.

#### На одной странице должна использоваться только **одна палитра цветов**

Если в проекте используется и блютинт и индиго, то палитры цветов должны подключаться через отдельные css-бандлы, либо через вставку style-тэга с нужно палитрой на нужной странице.
Иначе в итоговом css-бандле цвета перезапишут друг-друга.

По умолчанию используется палитра bluetint.

#### Темный режим перекрашивает всю страницу целиком

Темный режим применяется на всю страницу. Перекрасить отдельные блоки нельзя. Если вам это нужно — скорее всего это не темный режим, а inverted версия компонента.

### Troubleshooting

В случае неработающего `css` (темизация, переменные и тп) в проектах, использующих `@alfalab/core-components@49` необходимо произвести замены по следующему принципу:

```diff
- @import '@alfalab/core-components/themes/corp.css';
+ @import '@alfalab/core-components-themes/corp.css';
```

#### Почему так?

Исторически сложилось, что `css` поставляемый `@alfalab/core-components`, не всегда валидный.

В `@alfalab/core-components@50` планируется переход на полностью валидный `css`.
