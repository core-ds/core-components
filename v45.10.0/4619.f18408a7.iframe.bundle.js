"use strict";(self.webpackChunk_alfalab_core_components=self.webpackChunk_alfalab_core_components||[]).push([[4619],{"./packages/select/src/components/arrow/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E:function(){return Arrow}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");__webpack_require__("./node_modules/react/index.js");var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),ChevronDownMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/ChevronDownMIcon.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Arrow=function(_ref){var open=_ref.open,className=_ref.className;return(0,jsx_runtime.jsx)(ChevronDownMIcon.ChevronDownMIcon,{className:classnames_default()("arrow_Fidyu",className,(0,defineProperty.Z)({},"open_JDO2N",open))})};try{Arrow.displayName="Arrow",Arrow.__docgenInfo={description:"",displayName:"Arrow",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/arrow/Component.tsx#Arrow"]={docgenInfo:Arrow.__docgenInfo,name:"Arrow",path:"packages/select/src/components/arrow/Component.tsx#Arrow"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/base-select/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return BaseSelect}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),resize_observer=__webpack_require__("./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),dist=__webpack_require__("./node_modules/compute-scroll-into-view/dist/index.js"),downshift_esm=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),modern=__webpack_require__("./dist/shared/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),utils=__webpack_require__("./packages/select/src/utils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["className","disabled","multiple","value","name","options","onChange"],Option=function(_ref){var option=_ref.option;return(0,jsx_runtime.jsx)("option",{value:option.key,disabled:option.disabled,children:"string"==typeof option.content?option.content:option.key})},Group=function(_ref2){var label=_ref2.label,options=_ref2.options;return(0,jsx_runtime.jsx)("optgroup",{label:label,children:options.map(function(option){return(0,jsx_runtime.jsx)(Option,{option:option},option.key)})})},NativeSelect=(0,react.forwardRef)(function(_ref3,ref){var className=_ref3.className,disabled=_ref3.disabled,multiple=_ref3.multiple,value=_ref3.value,name=_ref3.name,options=_ref3.options,onChange=_ref3.onChange,restProps=(0,objectWithoutProperties.Z)(_ref3,_excluded),handleClick=(0,react.useCallback)(function(event){event.stopPropagation()},[]);return(0,jsx_runtime.jsx)("select",(0,objectSpread2.Z)((0,objectSpread2.Z)({className:className,disabled:disabled,multiple:multiple,name:name,value:value,onChange:onChange,onClick:handleClick,ref:ref},restProps),{},{children:options.map(function(option){return(0,utils.ty)(option)?(0,react.createElement)(Group,(0,objectSpread2.Z)((0,objectSpread2.Z)({},option),{},{key:option.label})):(0,jsx_runtime.jsx)(Option,{option:option},option.key)})}))});try{NativeSelect.displayName="NativeSelect",NativeSelect.__docgenInfo={description:"",displayName:"NativeSelect",props:{options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/native-select/Component.tsx#NativeSelect"]={docgenInfo:NativeSelect.__docgenInfo,name:"NativeSelect",path:"packages/select/src/components/native-select/Component.tsx#NativeSelect"})}catch(__react_docgen_typescript_loader_error){}var index_module={component:"component_p63D9",popoverInner:"popoverInner_gx5Ai",optionsListWrapper:"optionsListWrapper_IV8s6",optionsListBorder:"optionsListBorder_QZAA4",nativeSelect:"nativeSelect_rLoGL",block:"block_wKlh2",emptySearchPlaceholder:"emptySearchPlaceholder_nILX4",search:"search_Q3X7D"},mobile_module={sheet:"sheet_KYxnu",sheetContent:"sheetContent_RLeEC",modalContent:"modalContent_ZYYbg",sheetContainer:"sheetContainer_BcdO_",optionsListWrapper:"optionsListWrapper_bZ8JS",optionsList:"optionsList_DakBD",scrollbar:"scrollbar_uCBpZ",search:"search_WUPSe",option:"option_NciU5",optionGroup:"optionGroup_EST0d"},Component_excluded=["ref"],itemToString=function(option){return option?option.key:""},isItemDisabled=function(option){return!!(null==option?void 0:option.disabled)},BaseSelect=(0,react.forwardRef)(function(_ref,ref){var value,dataTestId=_ref.dataTestId,className=_ref.className,fieldClassName=_ref.fieldClassName,optionGroupClassName=_ref.optionGroupClassName,optionsListClassName=_ref.optionsListClassName,optionClassName=_ref.optionClassName,popperClassName=_ref.popperClassName,options=_ref.options,_ref$autocomplete=_ref.autocomplete,autocomplete=void 0!==_ref$autocomplete&&_ref$autocomplete,_ref$multiple=_ref.multiple,multiple=void 0!==_ref$multiple&&_ref$multiple,_ref$allowUnselect=_ref.allowUnselect,allowUnselect=void 0!==_ref$allowUnselect&&_ref$allowUnselect,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$closeOnSelect=_ref.closeOnSelect,closeOnSelect=void 0===_ref$closeOnSelect?!multiple:_ref$closeOnSelect,_ref$circularNavigati=_ref.circularNavigation,circularNavigation=void 0!==_ref$circularNavigati&&_ref$circularNavigati,_ref$nativeSelect=_ref.nativeSelect,nativeSelect=void 0!==_ref$nativeSelect&&_ref$nativeSelect,_ref$defaultOpen=_ref.defaultOpen,defaultOpen=void 0!==_ref$defaultOpen&&_ref$defaultOpen,openProp=_ref.open,_ref$popoverPosition=_ref.popoverPosition,_ref$preventFlip=_ref.preventFlip,_ref$optionsListWidth=_ref.optionsListWidth,optionsListWidth=void 0===_ref$optionsListWidth?"content":_ref$optionsListWidth,name=_ref.name,id=_ref.id,selected=_ref.selected,_ref$size=_ref.size,size=void 0===_ref$size?48:_ref$size,_ref$optionsSize=_ref.optionsSize,optionsSize=void 0===_ref$optionsSize?size:_ref$optionsSize,error=_ref.error,hint=_ref.hint,block=_ref.block,label=_ref.label,labelView=_ref.labelView,placeholder=_ref.placeholder,_ref$fieldProps=_ref.fieldProps,_ref$optionsListProps=_ref.optionsListProps,optionsListProps=void 0===_ref$optionsListProps?{}:_ref$optionsListProps,_ref$optionProps=_ref.optionProps,optionProps=void 0===_ref$optionProps?{}:_ref$optionProps,_ref$searchProps=_ref.searchProps,searchProps=void 0===_ref$searchProps?{}:_ref$searchProps,_ref$showSearch=_ref.showSearch,showSearch=void 0!==_ref$showSearch&&_ref$showSearch,valueRenderer=_ref.valueRenderer,onChange=_ref.onChange,onOpen=_ref.onOpen,onFocus=_ref.onFocus,onBlur=_ref.onBlur,onScroll=_ref.onScroll,Arrow=_ref.Arrow,_ref$Field=_ref.Field,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?function(){return null}:_ref$OptionsList,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?function(){return null}:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?function(){return null}:_ref$Option,_ref$Search=_ref.Search,Search=void 0===_ref$Search?function(){return null}:_ref$Search,updatePopover=_ref.updatePopover,zIndexPopover=_ref.zIndexPopover,_ref$showEmptyOptions=_ref.showEmptyOptionsList,showEmptyOptionsList=void 0!==_ref$showEmptyOptions&&_ref$showEmptyOptions,visibleOptions=_ref.visibleOptions,view=_ref.view,_ref$isBottomSheet=_ref.isBottomSheet,isBottomSheet=void 0===_ref$isBottomSheet||_ref$isBottomSheet,footer=_ref.footer,swipeable=_ref.swipeable,modalProps=_ref.modalProps,popoverProps=_ref.popoverProps,modalFooterProps=_ref.modalFooterProps,modalHeaderProps=_ref.modalHeaderProps,bottomSheetProps=_ref.bottomSheetProps,Popover=_ref.Popover,ModalMobile=_ref.ModalMobile,BottomSheet=_ref.BottomSheet,rootRef=(0,react.useRef)(null),fieldRef=(0,react.useRef)(null),listRef=(0,react.useRef)(null),initiatorRef=(0,react.useRef)(null),searchRef=(0,react.useRef)(null),scrollableContainerRef=(0,react.useRef)(null),onOpenRef=(0,react.useRef)(onOpen),_React$useState=react.useState(""),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),searchState=_React$useState2[0],setSearchState=_React$useState2[1],_ref2="string"==typeof(null==searchProps?void 0:searchProps.value)?[searchProps.value,searchProps.onChange]:[searchState,setSearchState],_ref3=(0,slicedToArray.Z)(_ref2,2),search=_ref3[0],setSearch=_ref3[1],accessor=searchProps.accessor||utils.uj,filterFn=searchProps.filterFn||utils.B_,_useMemo=(0,react.useMemo)(function(){return(0,utils.jW)(options,selected,function(option){return filterFn(accessor(option),search)})},[filterFn,accessor,options,search,selected]),filteredOptions=_useMemo.filteredOptions,flatOptions=_useMemo.flatOptions,selectedOptions=_useMemo.selectedOptions,useMultipleSelectionProps={itemToString:itemToString,onSelectedItemsChange:function onSelectedItemsChange(changes){if(onChange){var _changes$selectedItem=changes.selectedItems,_selectedItems=void 0===_changes$selectedItem?[]:_changes$selectedItem;onChange({selectedMultiple:_selectedItems,selected:_selectedItems.length?_selectedItems[0]:null,initiator:initiatorRef.current,name:name}),initiatorRef.current=null}},stateReducer:function stateReducer(state,actionAndChanges){var type=actionAndChanges.type,changes=actionAndChanges.changes;return allowUnselect||type!==downshift_esm.M$.stateChangeTypes.DropdownKeyDownBackspace?changes:state}};void 0!==selected&&(useMultipleSelectionProps.selectedItems=selectedOptions),onOpenRef.current=onOpen;var _useMultipleSelection=(0,downshift_esm.M$)(useMultipleSelectionProps),selectedItems=_useMultipleSelection.selectedItems,addSelectedItem=_useMultipleSelection.addSelectedItem,setSelectedItems=_useMultipleSelection.setSelectedItems,removeSelectedItem=_useMultipleSelection.removeSelectedItem,getDropdownProps=_useMultipleSelection.getDropdownProps,_useCombobox=(0,downshift_esm.Kb)({id:id,isOpen:openProp,items:flatOptions,itemToString:itemToString,isItemDisabled:isItemDisabled,defaultHighlightedIndex:0===selectedItems.length?-1:void 0,scrollIntoView:function(node){node&&"mobile"!==view&&requestAnimationFrame(function(){(0,dist.Q)(node,{boundary:listRef.current,block:"nearest",scrollMode:"if-needed"}).forEach(function(action){var el=action.el,top=action.top;el.scrollTop=top})})},onSelectedItemChange:function onSelectedItemChange(changes){var selectedItem=changes.selectedItem||initiatorRef.current;if(selectedItem&&!selectedItem.disabled){var alreadySelected=selectedItems.includes(selectedItem),allowRemove=allowUnselect||multiple&&selectedItems.length>1;alreadySelected&&allowRemove&&removeSelectedItem(selectedItem),alreadySelected||(multiple?addSelectedItem(selectedItem):setSelectedItems([selectedItem]))}},onIsOpenChange:function onIsOpenChange(changes){onOpenRef.current&&setTimeout(function(){var _onOpenRef$current;null===(_onOpenRef$current=onOpenRef.current)||void 0===_onOpenRef$current||_onOpenRef$current.call(onOpenRef,{open:changes.isOpen,name:name})},0),showSearch&&(changes.isOpen&&"desktop"===view?setTimeout(function(){var _searchRef$current;null===(_searchRef$current=searchRef.current)||void 0===_searchRef$current||_searchRef$current.focus()},0):null==setSearch||setSearch(""))},stateReducer:function stateReducer(state,actionAndChanges){var type=actionAndChanges.type,changes=actionAndChanges.changes;switch(type){case downshift_esm.Kb.stateChangeTypes.InputKeyDownArrowDown:if(!circularNavigation&&state.highlightedIndex===options.length-1)return(0,objectSpread2.Z)((0,objectSpread2.Z)({},changes),{},{highlightedIndex:state.highlightedIndex});return changes;case downshift_esm.Kb.stateChangeTypes.InputKeyDownArrowUp:if(!circularNavigation&&0===state.highlightedIndex)return(0,objectSpread2.Z)((0,objectSpread2.Z)({},changes),{},{highlightedIndex:state.highlightedIndex});return changes;case downshift_esm.Kb.stateChangeTypes.InputKeyDownEnter:case downshift_esm.Kb.stateChangeTypes.ItemClick:var selectedItem=changes.selectedItem;return initiatorRef.current=selectedItem||null,(0,objectSpread2.Z)((0,objectSpread2.Z)({},changes),{},{selectedItem:state.selectedItem===selectedItem?null:selectedItem,isOpen:!closeOnSelect||"mobile"===view&&multiple,highlightedIndex:state.isOpen&&!closeOnSelect?state.highlightedIndex:changes.highlightedIndex});default:return changes}}}),open=_useCombobox.isOpen,getMenuProps=_useCombobox.getMenuProps,getInputProps=_useCombobox.getInputProps,getItemProps=_useCombobox.getItemProps,getLabelProps=_useCombobox.getLabelProps,highlightedIndex=_useCombobox.highlightedIndex,toggleMenu=_useCombobox.toggleMenu,openMenu=_useCombobox.openMenu,closeMenu=_useCombobox.closeMenu,setHighlightedIndex=_useCombobox.setHighlightedIndex;(0,react.useEffect)(function(){void 0!==openProp&&(openProp?openMenu():closeMenu())},[openProp,openMenu,closeMenu]);var inputProps=getInputProps(getDropdownProps({ref:(0,react_merge_refs_esm.Z)([ref,fieldRef])})),_getMenuProps=getMenuProps({ref:listRef},{suppressRefError:!0}),menuRef=_getMenuProps.ref,menuProps=(0,objectWithoutProperties.Z)(_getMenuProps,Component_excluded),handleEntered=function(node,isAppearing){var _searchRef$current2,_bottomSheetProps$tra,_bottomSheetProps$tra2,_modalProps$transitio,_modalProps$transitio2;showSearch&&(null===(_searchRef$current2=searchRef.current)||void 0===_searchRef$current2||_searchRef$current2.focus()),isBottomSheet?null==bottomSheetProps||null===(_bottomSheetProps$tra=bottomSheetProps.transitionProps)||void 0===_bottomSheetProps$tra||null===(_bottomSheetProps$tra2=_bottomSheetProps$tra.onEntered)||void 0===_bottomSheetProps$tra2||_bottomSheetProps$tra2.call(_bottomSheetProps$tra,node,isAppearing):null==modalProps||null===(_modalProps$transitio=modalProps.transitionProps)||void 0===_modalProps$transitio||null===(_modalProps$transitio2=_modalProps$transitio.onEntered)||void 0===_modalProps$transitio2||_modalProps$transitio2.call(_modalProps$transitio,node,isAppearing)},handleNativeSelectChange=(0,react.useCallback)(function(event){setSelectedItems((0,toConsumableArray.Z)(event.target.options).reduce(function(acc,option,index){return option.selected?acc.concat(flatOptions[index]):acc},[]))},[flatOptions,setSelectedItems]),getOptionProps=function(option,index){return(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionProps),{},{mobile:"mobile"===view,className:classnames_default()(optionClassName,(0,defineProperty.Z)({},mobile_module.option,"mobile"===view)),innerProps:getItemProps({index:index,item:option,onMouseDown:function onMouseDown(event){return event.preventDefault()}}),multiple:multiple,index:index,option:option,size:optionsSize,disabled:option.disabled,highlighted:index===highlightedIndex,selected:selectedItems.some(function(_ref4){return _ref4.key===option.key}),dataTestId:(0,modern.getDataTestId)(dataTestId,"option")})};(0,react.useEffect)(function(){defaultOpen&&openMenu()},[defaultOpen,openMenu]),(0,react.useEffect)(function(){openProp&&openMenu()},[]);var calcOptionsListWidth=(0,react.useCallback)(function(){if("desktop"===view&&listRef.current){var widthAttr="field"===optionsListWidth?"width":"minWidth",optionsListMinWidth=rootRef.current?rootRef.current.getBoundingClientRect().width:0;listRef.current.setAttribute("style",""),listRef.current.style[widthAttr]="".concat(optionsListMinWidth,"px")}},[view,optionsListWidth]);(0,react.useEffect)(function(){if("desktop"===view){var observer=new(window.ResizeObserver||resize_observer.do)(calcOptionsListWidth);return rootRef.current&&observer.observe(rootRef.current),function(){observer.disconnect()}}return modern.fnUtils.noop},[view,calcOptionsListWidth,open,optionsListWidth]),(0,esm.CZ)(calcOptionsListWidth,[open,optionsListWidth,filteredOptions,selectedItems]);var renderSearch=function(){var _searchProps$componen5,_searchProps$componen6;return showSearch?(0,jsx_runtime.jsx)(Search,(0,objectSpread2.Z)((0,objectSpread2.Z)({},null==searchProps?void 0:searchProps.componentProps),{},{value:search,onChange:function(event,payload){var _searchProps$componen3,_searchProps$componen4;null==setSearch||setSearch(payload.value),null==searchProps||null===(_searchProps$componen3=searchProps.componentProps)||void 0===_searchProps$componen3||null===(_searchProps$componen4=_searchProps$componen3.onChange)||void 0===_searchProps$componen4||_searchProps$componen4.call(_searchProps$componen3,event,payload)},dataTestId:(0,modern.getDataTestId)(dataTestId,"search"),onClear:function(event){var _searchProps$componen,_searchProps$componen2;null==setSearch||setSearch(""),null==searchProps||null===(_searchProps$componen=searchProps.componentProps)||void 0===_searchProps$componen||null===(_searchProps$componen2=_searchProps$componen.onClear)||void 0===_searchProps$componen2||_searchProps$componen2.call(_searchProps$componen,event)},className:classnames_default()(null==searchProps?void 0:null===(_searchProps$componen5=searchProps.componentProps)||void 0===_searchProps$componen5?void 0:_searchProps$componen5.className,(0,defineProperty.Z)((0,defineProperty.Z)({},index_module.search,"desktop"===view),mobile_module.search,"mobile"===view)),ref:(0,react_merge_refs_esm.Z)([searchRef,(null==searchProps?void 0:null===(_searchProps$componen6=searchProps.componentProps)||void 0===_searchProps$componen6?void 0:_searchProps$componen6.ref)||null])})):null},header=optionsListProps.header,emptyPlaceholder=optionsListProps.emptyPlaceholder,renderOptionsList=function(){return 0!==flatOptions.length||showEmptyOptionsList||showSearch?(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},menuProps),{},{ref:"desktop"===view?menuRef:void 0,className:classnames_default()(optionsListClassName,"mobile"===view&&mobile_module.optionsListWrapper,"desktop"===view&&index_module.optionsListWrapper),children:[(0,jsx_runtime.jsx)(OptionsList,(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionsListProps),{},{ref:"desktop"===view?optionsListProps.ref:scrollableContainerRef,setHighlightedIndex:"desktop"===view?setHighlightedIndex:void 0,className:classnames_default()((0,defineProperty.Z)({},mobile_module.optionsList,"mobile"===view)),scrollbarClassName:classnames_default()((0,defineProperty.Z)({},mobile_module.scrollbar,"mobile"===view)),optionsListWidth:optionsListWidth,flatOptions:flatOptions,highlightedIndex:highlightedIndex,open:open,size:size,options:filteredOptions,Optgroup:Optgroup,Option:Option,selectedItems:selectedItems,setSelectedItems:setSelectedItems,toggleMenu:toggleMenu,getOptionProps:getOptionProps,visibleOptions:"desktop"===view?visibleOptions:0,dataTestId:(0,modern.getDataTestId)(dataTestId,"options-list"),header:header||"desktop"===view&&showSearch?(0,jsx_runtime.jsxs)(react.Fragment,{children:[header,"desktop"===view&&renderSearch()]}):null,optionGroupClassName:classnames_default()(optionGroupClassName,(0,defineProperty.Z)({},mobile_module.optionGroup,"mobile"===view)),emptyPlaceholder:emptyPlaceholder||(showSearch?(0,jsx_runtime.jsx)("div",{className:index_module.emptySearchPlaceholder,children:"Ничего не нашлось"}):void 0),onScroll:onScroll})),"desktop"===view&&(0,jsx_runtime.jsx)("div",{className:index_module.optionsListBorder})]})):null};return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},disabled&&{"aria-disabled":!0}),{},{"aria-expanded":inputProps["aria-expanded"],"aria-haspopup":"listbox",role:inputProps.role,className:classnames_default()(index_module.component,(0,defineProperty.Z)({},index_module.block,block),className),ref:rootRef,onKeyDown:disabled?void 0:function(event){null===(_inputProps$onKeyDown=inputProps.onKeyDown)||void 0===_inputProps$onKeyDown||_inputProps$onKeyDown.call(inputProps,event);var _inputProps$onKeyDown,isKeyUnsupported="Unidentified"===event.key;autocomplete&&!open&&(isKeyUnsupported||1===event.key.length||"Backspace"===event.key)&&openMenu(),![" ","Enter"].includes(event.key)||autocomplete||nativeSelect||"INPUT"===event.target.tagName||"BUTTON"===event.target.tagName||(event.preventDefault(),open&&-1!==highlightedIndex||toggleMenu())},tabIndex:-1,"data-test-id":(0,modern.getDataTestId)(dataTestId),children:[nativeSelect&&(value=multiple?selectedItems.map(function(option){return option.key}):(selectedItems[0]||{}).key,(0,jsx_runtime.jsx)(NativeSelect,(0,objectSpread2.Z)((0,objectSpread2.Z)({},menuProps),{},{className:index_module.nativeSelect,disabled:disabled,multiple:multiple,name:name,value:value,onChange:handleNativeSelectChange,options:filteredOptions}))),(0,jsx_runtime.jsx)(void 0===_ref$Field?function(){return null}:_ref$Field,(0,objectSpread2.Z)({selectedMultiple:selectedItems,selected:selectedItems[0],setSelectedItems:setSelectedItems,toggleMenu:toggleMenu,multiple:multiple,open:open,disabled:disabled,size:size,placeholder:placeholder,label:label&&(0,jsx_runtime.jsx)("span",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getLabelProps()),{},{children:label})),labelView:labelView,Arrow:Arrow&&(0,jsx_runtime.jsx)(Arrow,{open:open}),error:error,hint:hint,valueRenderer:valueRenderer,className:fieldClassName,innerProps:{onBlur:function(event){if("desktop"===view){var _fieldRef$current,_listRef$current,_inputProps$onBlur,isNextFocusInsideField=null===(_fieldRef$current=fieldRef.current)||void 0===_fieldRef$current?void 0:_fieldRef$current.contains(event.relatedTarget||document.activeElement),isNextFocusInsideList=null===(_listRef$current=listRef.current)||void 0===_listRef$current?void 0:_listRef$current.contains(event.relatedTarget||document.activeElement);isNextFocusInsideField||isNextFocusInsideList||(onBlur&&onBlur(event),null===(_inputProps$onBlur=inputProps.onBlur)||void 0===_inputProps$onBlur||_inputProps$onBlur.call(inputProps,event))}"mobile"===view&&!open&&onBlur&&onBlur(event)},onFocus:disabled?void 0:function(event){onFocus&&onFocus(event),autocomplete&&!open&&openMenu()},onClick:disabled?void 0:function(event){autocomplete&&"INPUT"===event.target.tagName?openMenu():toggleMenu()},tabIndex:disabled?void 0:nativeSelect?-1:0,ref:inputProps.ref,id:inputProps.id,"aria-labelledby":inputProps["aria-labelledby"],"aria-controls":inputProps["aria-controls"],"aria-autocomplete":autocomplete?inputProps["aria-autocomplete"]:void 0},dataTestId:(0,modern.getDataTestId)(dataTestId,"field")},void 0===_ref$fieldProps?{}:_ref$fieldProps)),name&&!nativeSelect&&selectedItems.map(function(option){return(0,jsx_runtime.jsx)("input",{type:"hidden",name:name,value:option.key},option.key)}),"desktop"===view&&(!nativeSelect&&Popover?(0,jsx_runtime.jsx)(Popover,(0,objectSpread2.Z)((0,objectSpread2.Z)({},popoverProps),{},{open:open,withTransition:!1,anchorElement:fieldRef.current,position:void 0===_ref$popoverPosition?"bottom-start":_ref$popoverPosition,preventFlip:void 0===_ref$preventFlip||_ref$preventFlip,popperClassName:classnames_default()(index_module.popoverInner,popperClassName),update:updatePopover,zIndex:zIndexPopover,children:renderOptionsList()})):null),"mobile"===view&&isBottomSheet&&(!nativeSelect&&BottomSheet?(0,jsx_runtime.jsx)(BottomSheet,(0,objectSpread2.Z)((0,objectSpread2.Z)({dataTestId:(0,modern.getDataTestId)(dataTestId,"bottom-sheet"),open:open,className:mobile_module.sheet,contentClassName:mobile_module.sheetContent,containerClassName:mobile_module.sheetContainer,title:label||placeholder,actionButton:footer,stickyHeader:!0,hasCloser:!0,swipeable:swipeable,initialHeight:showSearch?"full":"default"},bottomSheetProps),{},{sheetContainerRef:menuRef,scrollableContainerRef:scrollableContainerRef,onClose:function onClose(){var _bottomSheetProps$onC;closeMenu(),null==bottomSheetProps||null===(_bottomSheetProps$onC=bottomSheetProps.onClose)||void 0===_bottomSheetProps$onC||_bottomSheetProps$onC.call(bottomSheetProps)},transitionProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null==bottomSheetProps?void 0:bottomSheetProps.transitionProps),{},{onEntered:handleEntered}),bottomAddons:(0,jsx_runtime.jsxs)(react.Fragment,{children:[renderSearch(),null==bottomSheetProps?void 0:bottomSheetProps.bottomAddons]}),containerProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null==bottomSheetProps?void 0:bottomSheetProps.containerProps),{},{onScroll:onScroll}),children:renderOptionsList()})):null),"mobile"===view&&!isBottomSheet&&(!nativeSelect&&ModalMobile?(0,jsx_runtime.jsxs)(ModalMobile,(0,objectSpread2.Z)((0,objectSpread2.Z)({dataTestId:(0,modern.getDataTestId)(dataTestId,"modal"),open:open,hasCloser:!0},modalProps),{},{componentRef:menuRef,onClose:function onClose(){var _modalProps$onClose;closeMenu();for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];null==modalProps||null===(_modalProps$onClose=modalProps.onClose)||void 0===_modalProps$onClose||_modalProps$onClose.call.apply(_modalProps$onClose,[modalProps].concat(args))},contentClassName:classnames_default()(mobile_module.sheetContent,null==modalProps?void 0:modalProps.contentClassName),ref:(0,react_merge_refs_esm.Z)([scrollableContainerRef,null==modalProps?void 0:modalProps.ref]),wrapperProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null==modalProps?void 0:modalProps.wrapperProps),{},{onScroll:onScroll}),transitionProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null==modalProps?void 0:modalProps.transitionProps),{},{onEntered:handleEntered}),children:[(0,jsx_runtime.jsx)(ModalMobile.Header,(0,objectSpread2.Z)((0,objectSpread2.Z)({hasCloser:!0,sticky:!0},modalHeaderProps),{},{title:void 0,bottomAddons:(0,jsx_runtime.jsxs)(react.Fragment,{children:[renderSearch(),null==modalHeaderProps?void 0:modalHeaderProps.bottomAddons]}),children:(null==modalHeaderProps?void 0:modalHeaderProps.title)||label||placeholder})),(0,jsx_runtime.jsx)(ModalMobile.Content,{flex:!0,className:mobile_module.modalContent,children:renderOptionsList()}),(null==modalFooterProps?void 0:modalFooterProps.children)&&(0,jsx_runtime.jsx)(ModalMobile.Footer,(0,objectSpread2.Z)({},modalFooterProps))]})):null)]}))});try{BaseSelect.displayName="BaseSelect",BaseSelect.__docgenInfo={description:"",displayName:"BaseSelect",props:{dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования.\nДля пункта меню используется модификатор -option, компонента поиска -search,\nкомпонента выпадающего меню -options-list, компонента BottomSheet -bottom-sheet,\nкомпонента поля -field, компонета FormControl -field-form-control",name:"dataTestId",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:{value:"false"},description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},size:{defaultValue:{value:"48"},description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},optionsSize:{defaultValue:{value:"48"},description:"Размер пунктов меню\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:{value:"content"},description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},autocomplete:{defaultValue:{value:"false"},description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},allowUnselect:{defaultValue:{value:"false"},description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:{value:"!multiple"},description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:{value:"false"},description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:{value:"true"},description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},nativeSelect:{defaultValue:{value:"false"},description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:{value:"bottom-start"},description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | ComponentType<ArrowProps> | null"}},Field:{defaultValue:{value:"() => null"},description:"Компонент поля",name:"Field",required:!1,type:{name:"ComponentType<FieldProps>"}},fieldProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"() => null"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"ComponentType<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"() => null"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"ComponentType<OptgroupProps>"}},Option:{defaultValue:{value:"() => null"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"ComponentType<OptionProps>"}},showSearch:{defaultValue:{value:"false"},description:"Включает отображение поиска",name:"showSearch",required:!1,type:{name:"boolean"}},Search:{defaultValue:{value:"() => null"},description:"Компонент поиска",name:"Search",required:!1,type:{name:"ComponentType<SearchProps>"}},searchProps:{defaultValue:{value:"{}"},description:"Настройки поиска",name:"searchProps",required:!1,type:{name:"{ componentProps?: SearchProps; accessor?: ((option: OptionShape) => string); filterFn?: ((optionText: string, search: string) => boolean) | undefined; value?: string | undefined; onChange?: ((value: string) => void) | undefined; } | undefined"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},onBlur:{defaultValue:null,description:"Обработчик блюра поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onFocus:{defaultValue:null,description:"Обработчик фокуса поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<(() => void)>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:{value:"false"},description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},popoverProps:{defaultValue:null,description:"Дополнительные пропсы для Popover",name:"popoverProps",required:!1,type:{name:'Omit<PopoverProps, "className" | "dataTestId" | "open" | "position" | "zIndex" | "update" | "anchorElement" | "preventFlip">'}},showClear:{defaultValue:null,description:"Показывать кнопку 'Сбросить' в футере мобильного компонента",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},showHeaderWithSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все" в заголовке списка у мобильного компонента',name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}},useWithApplyHook:{defaultValue:null,description:"Использовать ли хук useSelectWithApply в мобильном компоненте",name:"useWithApplyHook",required:!1,type:{name:"boolean"}},footer:{defaultValue:null,description:"Футер\n@deprecated Используйте bottomSheetProps.actionButton",name:"footer",required:!1,type:{name:"ReactNode"}},swipeable:{defaultValue:null,description:"Будет ли свайпаться шторка\n@deprecated Используйте bottomSheetProps.swipeable",name:"swipeable",required:!1,type:{name:"boolean"}},bottomSheetProps:{defaultValue:null,description:"Дополнительные пропсы шторки",name:"bottomSheetProps",required:!1,type:{name:"Partial<BottomSheetProps>"}},modalHeaderProps:{defaultValue:null,description:"Дополнительные пропсы шапки модалки",name:"modalHeaderProps",required:!1,type:{name:"Partial<HeaderProps>"}},modalProps:{defaultValue:null,description:"Дополнительные пропсы модалки",name:"modalProps",required:!1,type:{name:'Partial<BaseModalProps & { size?: "s" | "m" | "l" | "xl" | "fullscreen" | 500 | 600 | 800 | 1140; fullscreen?: boolean; fixedPosition?: boolean | undefined; hasCloser?: boolean | undefined; iOSLock?: boolean | undefined; } & { ...; } & RefAttributes<...>> | undefined'}},modalFooterProps:{defaultValue:null,description:"Дополнительные пропсы футера модалки",name:"modalFooterProps",required:!1,type:{name:"Partial<FooterProps>"}},isBottomSheet:{defaultValue:{value:"true"},description:"",name:"isBottomSheet",required:!1,type:{name:"boolean"}},view:{defaultValue:null,description:"",name:"view",required:!0,type:{name:"enum",value:[{value:'"mobile"'},{value:'"desktop"'}]}},Popover:{defaultValue:null,description:"",name:"Popover",required:!1,type:{name:"ForwardRefExoticComponent<PopoverProps & RefAttributes<HTMLDivElement>>"}},BottomSheet:{defaultValue:null,description:"",name:"BottomSheet",required:!1,type:{name:"ForwardRefExoticComponent<BottomSheetProps & RefAttributes<HTMLDivElement>>"}},ModalMobile:{defaultValue:null,description:"",name:"ModalMobile",required:!1,type:{name:"(ForwardRefExoticComponent<ModalMobileProps & RefAttributes<HTMLDivElement>> & { Header: FC<...>; Footer: FC<...>; Content: FC<...>; })"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/base-select/Component.tsx#BaseSelect"]={docgenInfo:BaseSelect.__docgenInfo,name:"BaseSelect",path:"packages/select/src/components/base-select/Component.tsx#BaseSelect"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/field/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{g:function(){return Field}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/shared/modern/index.js"),esm=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/index.js"),utils=__webpack_require__("./packages/select/src/utils.ts"),index_module={component:"component_zOUqa",field:"field_dLiU8",disabled:"disabled_V9ICB",arrow:"arrow_J35rX",placeholder:"placeholder_ipIF4",focused:"focused_C9mXi",contentWrapper:"contentWrapper_zxzjS",value:"value_WHuoX",focusVisible:"focusVisible_otvIz"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["size","open","multiple","error","hint","disabled","label","labelView","placeholder","selectedMultiple","selected","rightAddons","valueRenderer","setSelectedItems","toggleMenu","Arrow","innerProps","dataTestId","fieldClassName","FormControlComponent"],Field=function(_ref){var _ref$size=_ref.size,open=_ref.open,error=(_ref.multiple,_ref.error),hint=_ref.hint,disabled=_ref.disabled,label=_ref.label,_ref$labelView=_ref.labelView,labelView=void 0===_ref$labelView?"inner":_ref$labelView,placeholder=_ref.placeholder,_ref$selectedMultiple=_ref.selectedMultiple,selected=_ref.selected,rightAddons=_ref.rightAddons,_ref$valueRenderer=_ref.valueRenderer,valueRenderer=void 0===_ref$valueRenderer?utils.JC:_ref$valueRenderer,Arrow=(_ref.setSelectedItems,_ref.toggleMenu,_ref.Arrow),innerProps=_ref.innerProps,dataTestId=_ref.dataTestId,fieldClassName=_ref.fieldClassName,FormControlComponent=_ref.FormControlComponent,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),focused=_useState2[0],setFocused=_useState2[1],wrapperRef=(0,react.useRef)(null),_useFocus=(0,esm.KK)(wrapperRef,"keyboard"),focusVisible=(0,slicedToArray.Z)(_useFocus,1)[0],handleFocus=(0,react.useCallback)(function(){return setFocused(!0)},[]),handleBlur=(0,react.useCallback)(function(){return setFocused(!1)},[]),value=valueRenderer({selected:selected,selectedMultiple:void 0===_ref$selectedMultiple?[]:_ref$selectedMultiple}),filled=!!value,showPlaceholder=!!placeholder&&!filled&&(open||!label||"outer"===labelView);return(0,jsx_runtime.jsx)("div",{className:index_module.component,ref:wrapperRef,onFocus:handleFocus,onBlur:handleBlur,children:FormControlComponent?(0,jsx_runtime.jsx)(FormControlComponent,(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({dataTestId:(0,modern.getDataTestId)(dataTestId,"form-control"),fieldClassName:classnames_default()(index_module.field,fieldClassName,(0,defineProperty.Z)((0,defineProperty.Z)({},index_module.disabled,disabled),index_module.focusVisible,focusVisible)),block:!0,size:void 0===_ref$size?56:_ref$size,focused:focused||open,disabled:disabled,filled:filled||!!placeholder&&open,label:(!!label||"outer"===labelView)&&label,labelView:labelView,error:error,hint:hint,rightAddons:(Arrow||rightAddons)&&(0,jsx_runtime.jsxs)(react.Fragment,{children:[rightAddons,Arrow?react.cloneElement(Arrow,{className:index_module.arrow}):null]}),"data-test-id":dataTestId},restProps),innerProps),{},{children:(0,jsx_runtime.jsxs)("div",{className:index_module.contentWrapper,children:[showPlaceholder&&(0,jsx_runtime.jsx)("span",{className:classnames_default()(index_module.placeholder,(0,defineProperty.Z)({},index_module.focused,focused||open)),children:placeholder}),filled&&(0,jsx_runtime.jsx)("div",{className:index_module.value,children:value})]})})):null})};try{Field.displayName="Field",Field.__docgenInfo={description:"",displayName:"Field",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"Выбранный пункт",name:"selected",required:!1,type:{name:"OptionShape"}},selectedMultiple:{defaultValue:{value:"[]"},description:"Список выбранных пунктов",name:"selectedMultiple",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},multiple:{defaultValue:null,description:"Флаг, можно ли выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, поле заблокировано\nЗаблокированное состояние",name:"disabled",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"Лейбл поля\nЛейбл компонента",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:{value:"inner"},description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},success:{defaultValue:null,description:"Отображение иконки успеха",name:"success",required:!1,type:{name:"boolean"}},hint:{defaultValue:null,description:"Подсказка под полем\nТекст подсказки",name:"hint",required:!1,type:{name:"ReactNode"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | ReactElement<any, string | JSXElementConstructor<any>> | null"}},valueRenderer:{defaultValue:{value:"({\n    selected,\n    selectedMultiple,\n}: {\n    selected?: OptionShape;\n    selectedMultiple?: OptionShape[];\n}) => {\n    const options = selectedMultiple || (selected ? [selected] : []);\n\n    if (!options.length) return null;\n\n    return options.reduce((acc: Array<ReactNode | string>, option: OptionShape, index: number) => {\n        if (isValidElement(option.content)) {\n            acc.push(cloneElement(option.content, { key: option.key }));\n        } else {\n            acc.push(option.content);\n        }\n\n        if (index < options.length - 1) acc.push(', ');\n\n        return acc;\n    }, []);\n}"},description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},innerProps:{defaultValue:null,description:"Внутренние свойства, которые должны быть установлены компоненту.",name:"innerProps",required:!0,type:{name:"{ onBlur?: ((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void) | undefined; onFocus?: ((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void) | undefined; onClick?: ((event: MouseEvent<...>) => void) | undefined; tabIndex?: number | undefined; id: string; } & RefAttributes<......"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования\nИдентификатор для систем автоматизированного тестирования.\nДля слота слева используется модификатор -left-addons, слота справа -right-addons,\nошибки -error-message, текста подсказки -hint, внутренней части компонента -inner",name:"dataTestId",required:!1,type:{name:"string"}},size:{defaultValue:{value:"56"},description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},readOnly:{defaultValue:null,description:"Cостояние только для чтения",name:"readOnly",required:!1,type:{name:"boolean"}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},colors:{defaultValue:null,description:"Набор цветов для компонента",name:"colors",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"inverted"'}]}},leftAddons:{defaultValue:null,description:"Слот слева",name:"leftAddons",required:!1,type:{name:"ReactNode"}},rightAddons:{defaultValue:null,description:"Слот справа",name:"rightAddons",required:!1,type:{name:"ReactNode"}},leftAddonsProps:{defaultValue:null,description:"Свойства для обертки левых аддонов",name:"leftAddonsProps",required:!1,type:{name:"HTMLAttributes<HTMLDivElement>"}},rightAddonsProps:{defaultValue:null,description:"Свойства для обертки правых аддонов",name:"rightAddonsProps",required:!1,type:{name:"HTMLAttributes<HTMLDivElement>"}},bottomAddons:{defaultValue:null,description:"Слот под полем",name:"bottomAddons",required:!1,type:{name:"ReactNode"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},labelClassName:{defaultValue:null,description:"Дополнительный класс для лейбла",name:"labelClassName",required:!1,type:{name:"string"}},addonsClassName:{defaultValue:null,description:"Дополнительный класс для аддонов",name:"addonsClassName",required:!1,type:{name:"string"}},filled:{defaultValue:null,description:"Заполненное состояние",name:"filled",required:!1,type:{name:"boolean"}},focused:{defaultValue:null,description:"Выбранное (фокус) состояние",name:"focused",required:!1,type:{name:"boolean"}},inputWrapperClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"inputWrapperClassName",required:!1,type:{name:"string"}},breakpoint:{defaultValue:{value:"1024"},description:"Контрольная точка, с нее начинается desktop версия",name:"breakpoint",required:!1,type:{name:"number"}},defaultMatchMediaValue:{defaultValue:null,description:"Значение по-умолчанию для хука useMatchMedia",name:"defaultMatchMediaValue",required:!1,type:{name:"boolean | (() => boolean)"}},FormControlComponent:{defaultValue:null,description:"Компонент FormControl",name:"FormControlComponent",required:!1,type:{name:"ElementType<any>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/field/Component.tsx#Field"]={docgenInfo:Field.__docgenInfo,name:"Field",path:"packages/select/src/components/field/Component.tsx#Field"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/optgroup/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{t:function(){return Optgroup}});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),consts=__webpack_require__("./packages/select/src/consts.ts"),index_module={optgroup:"optgroup_q8FGV",label:"label_YEkB6","size-64":"size-64_V5VCg","size-72":"size-72_NrPLV"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Optgroup=function(_ref){var children=_ref.children,className=_ref.className,label=_ref.label,_ref$size=_ref.size;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("div",{className:classnames_default()("optgroup_q8FGV",className,index_module[consts.p[void 0===_ref$size?48:_ref$size]]),children:(0,jsx_runtime.jsx)("span",{className:"label_YEkB6",children:label})}),children]})};try{Optgroup.displayName="Optgroup",Optgroup.__docgenInfo={description:"",displayName:"Optgroup",props:{className:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"48"},description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},label:{defaultValue:null,description:"Заголовок группы",name:"label",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Дочерние элементы",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/optgroup/Component.tsx#Optgroup"]={docgenInfo:Optgroup.__docgenInfo,name:"Optgroup",path:"packages/select/src/components/optgroup/Component.tsx#Optgroup"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/option/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{W:function(){return Option}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),consts=__webpack_require__("./packages/select/src/consts.ts"),modern=__webpack_require__("./dist/badge/modern/index.js"),checkbox_modern=__webpack_require__("./dist/checkbox/modern/index.js"),CheckmarkCircleMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/CheckmarkCircleMIcon.js"),CheckmarkMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/CheckmarkMIcon.js"),index_module={checkmark:"checkmark_CSCCc",after:"after_aCWWU",single:"single_XrElb",selected:"selected_gJ5q_",before:"before_A2aV6",multiple:"multiple_enpsV",colorIcon:"colorIcon_pQ3if"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Component_Checkmark=function(_ref){var selected=_ref.selected,_ref$disabled=_ref.disabled,className=_ref.className,multiple=_ref.multiple,_ref$position=_ref.position,position=void 0===_ref$position?"before":_ref$position,single=!multiple,checkmarkClassNames=classnames_default()(index_module.checkmark,className,index_module[position],(0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)({},index_module.multiple,!single),index_module.single,single),index_module.selected,selected)),handleCheckboxClick=(0,react.useCallback)(function(event){return event.stopPropagation()},[]);return single?(0,jsx_runtime.jsx)("div",{className:checkmarkClassNames,children:"before"===position?(0,jsx_runtime.jsx)(modern.Badge,{className:index_module.after,view:"icon",size:"m",iconColor:"positive",content:(0,jsx_runtime.jsx)(CheckmarkCircleMIcon.CheckmarkCircleMIcon,{className:index_module.colorIcon})}):(0,jsx_runtime.jsx)(CheckmarkMIcon.default,{className:classnames_default()(index_module.displayIcon)})}):(0,jsx_runtime.jsx)(checkbox_modern.Checkbox,{checked:selected,disabled:void 0!==_ref$disabled&&_ref$disabled,className:checkmarkClassNames,size:"m",onClick:handleCheckboxClick})};try{Component_Checkmark.displayName="Checkmark",Component_Checkmark.__docgenInfo={description:"",displayName:"Checkmark",props:{selected:{defaultValue:null,description:"Флаг, данный пункт выбран",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Флаг, данный пункт задизейблен",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"before"},description:"Расположение отметки",name:"position",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},icon:{defaultValue:null,description:"Иконка выбранного пункта",name:"icon",required:!1,type:{name:"FC<SVGProps<SVGSVGElement>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/checkmark/Component.tsx#Checkmark"]={docgenInfo:Component_Checkmark.__docgenInfo,name:"Checkmark",path:"packages/select/src/components/checkmark/Component.tsx#Checkmark"})}catch(__react_docgen_typescript_loader_error){}var checkmark_mobile_Component_Checkmark=function(_ref){var selected=_ref.selected,className=_ref.className;return(0,jsx_runtime.jsx)("div",{className:classnames_default()("checkmark_rWzcg",className,(0,defineProperty.Z)({},"selected_wACln",selected)),children:(0,jsx_runtime.jsx)(CheckmarkMIcon.CheckmarkMIcon,{className:"displayIcon_GEtCs"})})};try{checkmark_mobile_Component_Checkmark.displayName="Checkmark",checkmark_mobile_Component_Checkmark.__docgenInfo={description:"",displayName:"Checkmark",props:{selected:{defaultValue:null,description:"Флаг, данный пункт выбран",name:"selected",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, данный пункт задизейблен",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},position:{defaultValue:null,description:"Расположение отметки",name:"position",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},icon:{defaultValue:null,description:"Иконка выбранного пункта",name:"icon",required:!1,type:{name:"FC<SVGProps<SVGSVGElement>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/checkmark-mobile/Component.tsx#Checkmark"]={docgenInfo:checkmark_mobile_Component_Checkmark.__docgenInfo,name:"Checkmark",path:"packages/select/src/components/checkmark-mobile/Component.tsx#Checkmark"})}catch(__react_docgen_typescript_loader_error){}var option_index_module={option:"option_gwrUy",disabled:"disabled__Fu13","size-48":"size-48_GUYjY","size-56":"size-56_uY3Nh","size-64":"size-64_E6TOS","size-72":"size-72_QUDAX",selected:"selected_hRgWF",highlighted:"highlighted_kJT1g",content:"content_ExbhC",textContent:"textContent_IMZ6e"},Option=function(_ref){var _ref$size=_ref.size,className=_ref.className,option=_ref.option,children=_ref.children,selected=_ref.selected,highlighted=_ref.highlighted,disabled=_ref.disabled,multiple=_ref.multiple,mobile=_ref.mobile,_ref$Checkmark=_ref.Checkmark,Checkmark=void 0===_ref$Checkmark?mobile?checkmark_mobile_Component_Checkmark:Component_Checkmark:_ref$Checkmark,innerProps=_ref.innerProps,dataTestId=_ref.dataTestId,content=children||option.content||option.key,_option$showCheckMark=option.showCheckMark,showCheckMark=void 0===_option$showCheckMark||_option$showCheckMark;return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},innerProps),{},{className:classnames_default()("option_gwrUy",option_index_module[consts.p[void 0===_ref$size?48:_ref$size]],className,(0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)({},"highlighted_kJT1g",!mobile&&highlighted),"selected_hRgWF",selected),"disabled__Fu13",disabled)),"data-test-id":dataTestId,children:[Checkmark&&showCheckMark&&(0,jsx_runtime.jsx)(Checkmark,{disabled:disabled,selected:selected,multiple:multiple,position:"before"}),(0,jsx_runtime.jsx)("div",{className:classnames_default()("content_ExbhC",(0,defineProperty.Z)({},"textContent_IMZ6e",!(0,react.isValidElement)(content))),children:content}),Checkmark&&showCheckMark&&(0,jsx_runtime.jsx)(Checkmark,{disabled:disabled,selected:selected,multiple:multiple,position:"after"})]}))};try{Option.displayName="Option",Option.__docgenInfo={description:"",displayName:"Option",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"48"},description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},children:{defaultValue:null,description:"Контент пункта меню",name:"children",required:!1,type:{name:"ReactNode"}},option:{defaultValue:null,description:"Данные пункта меню",name:"option",required:!0,type:{name:"OptionShape"}},index:{defaultValue:null,description:"Индекс пункта",name:"index",required:!0,type:{name:"number"}},selected:{defaultValue:null,description:"Флаг, выбран ли данный пункт",name:"selected",required:!1,type:{name:"boolean"}},highlighted:{defaultValue:null,description:"Флаг, подсвечен ли данный пункт",name:"highlighted",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"Флаг, заблокирован ли данный пункт",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Флаг множественного выбора",name:"multiple",required:!1,type:{name:"boolean"}},Checkmark:{defaultValue:{value:"mobile ? DefaultMobileCheckmark : DefaultCheckMark"},description:"Компонент пункта меню",name:"Checkmark",required:!1,type:{name:"FC<CheckmarkProps> | null"}},innerProps:{defaultValue:null,description:"Внутренние свойства, которые должны быть установлены компоненту.",name:"innerProps",required:!0,type:{name:"{ id: string; onClick?: ((event: MouseEvent<HTMLDivElement, MouseEvent>) => void) | undefined; onMouseDown?: ((event: MouseEvent<HTMLDivElement, MouseEvent>) => void) | undefined; onMouseMove?: ((event: MouseEvent<...>) => void) | undefined; role?: string | undefined; } & RefAttributes<...> & AriaAttributes"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},checkmarkPosition:{defaultValue:null,description:'Позиция иконки "галочки"',name:"checkmarkPosition",required:!1,type:{name:"enum",value:[{value:'"after"'},{value:'"before"'}]}},mobile:{defaultValue:null,description:"Мобильная верcия option.",name:"mobile",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/option/Component.tsx#Option"]={docgenInfo:Option.__docgenInfo,name:"Option",path:"packages/select/src/components/option/Component.tsx#Option"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/options-list/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{M:function(){return OptionsList}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/mq/modern/index.js"),scrollbar_modern=__webpack_require__("./dist/scrollbar/modern/index.js"),shared_modern=__webpack_require__("./dist/shared/modern/index.js"),consts=__webpack_require__("./packages/select/src/consts.ts"),utils=__webpack_require__("./packages/select/src/utils.ts"),optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),index_module={optionsList:"optionsList_dWWP1",optionsListHeader:"optionsListHeader_l6dzu",headerHighlighted:"headerHighlighted_jTkvi",optionsListFooter:"optionsListFooter_RLFvC",withBorder:"withBorder_B_X9i",scrollable:"scrollable_gc3Nx",emptyPlaceholder:"emptyPlaceholder_rowx2","size-64":"size-64_c8op_","size-72":"size-72_n4i5F"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),createCounter=function(){var count=0;return function(){return count++}},OptionsList=(0,react.forwardRef)(function(_ref,ref){var _ref$size=_ref.size,size=void 0===_ref$size?48:_ref$size,className=_ref.className,optionGroupClassName=_ref.optionGroupClassName,scrollbarClassName=_ref.scrollbarClassName,Option=_ref.Option,getOptionProps=_ref.getOptionProps,_ref$options=_ref.options,options=void 0===_ref$options?[]:_ref$options,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,dataTestId=_ref.dataTestId,emptyPlaceholder=_ref.emptyPlaceholder,_ref$visibleOptions=_ref.visibleOptions,visibleOptions=void 0===_ref$visibleOptions?consts.j:_ref$visibleOptions,onScroll=_ref.onScroll,open=_ref.open,header=_ref.header,footer=_ref.footer,_ref$showFooter=_ref.showFooter,optionsListWidth=_ref.optionsListWidth,nativeScrollbarProp=_ref.nativeScrollbar,_ref$flatOptions=_ref.flatOptions,setHighlightedIndex=_ref.setHighlightedIndex,_useState=(0,react.useState)(!0),_useState2=(0,slicedToArray.Z)(_useState,2),scrollTop=_useState2[0],setScrollTop=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),scrollBottom=_useState4[0],setScrollBottom=_useState4[1],query="(max-width: 1023px)",_useMatchMedia=(0,modern.useMatchMedia)(query,function(){return!(0,shared_modern.isClient)()||window.matchMedia(query).matches}),nativeScrollbar=(0,slicedToArray.Z)(_useMatchMedia,1)[0];nativeScrollbar=!!(null!=nativeScrollbarProp?nativeScrollbarProp:nativeScrollbar);var handleScroll=(0,react.useCallback)(function(event){var scrolledToHeader=event.currentTarget.scrollTop<=0,scrolledToFooter=event.currentTarget.scrollHeight-event.currentTarget.offsetHeight<=event.currentTarget.scrollTop;setScrollTop(scrolledToHeader),setScrollBottom(scrolledToFooter),null==onScroll||onScroll(event)},[onScroll]),renderOption=function(option,index){return(0,jsx_runtime.jsx)(Option,(0,objectSpread2.Z)({},getOptionProps(option,index)),option.key)},listRef=(0,react.useRef)(null),scrollbarRef=(0,react.useRef)(null),counter=createCounter();if((0,utils.kZ)((0,objectSpread2.Z)((0,objectSpread2.Z)({},!nativeScrollbar&&{styleTargetRef:scrollbarRef}),{},{visibleOptions:visibleOptions,listRef:listRef,open:open,invalidate:options})),0===options.length&&!emptyPlaceholder&&!header&&!footer)return null;var renderListItems=function(){return(0,jsx_runtime.jsxs)(react.Fragment,{children:[options.map(function(option){return(0,utils.ty)(option)?(0,jsx_runtime.jsx)(Optgroup,{className:optionGroupClassName,label:option.label,size:size,children:option.options.map(function(option){return renderOption(option,counter())})},option.label):renderOption(option,counter())}),emptyPlaceholder&&0===options.length&&(0,jsx_runtime.jsx)("div",{className:index_module.emptyPlaceholder,children:emptyPlaceholder})]})},resetHighlightedIndex=function(){return null==setHighlightedIndex?void 0:setHighlightedIndex(-1)};return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},nativeScrollbar&&{"data-test-id":dataTestId}),{},{className:classnames_default()(index_module.optionsList,index_module[consts.p[size]],className),children:[header&&(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.optionsListHeader,(0,defineProperty.Z)({},index_module.headerHighlighted,!scrollTop)),onMouseEnter:resetHighlightedIndex,children:header}),nativeScrollbar?(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.scrollable,scrollbarClassName),ref:(0,react_merge_refs_esm.Z)([listRef,ref]),onScroll:handleScroll,children:renderListItems()}):(0,jsx_runtime.jsx)(scrollbar_modern.Scrollbar,{className:classnames_default()(index_module.scrollable,scrollbarClassName),ref:scrollbarRef,horizontalAutoStretch:"content"===optionsListWidth,scrollableNodeProps:{onScroll:handleScroll,"data-test-id":dataTestId,ref:ref},contentNodeProps:{ref:listRef},children:renderListItems()}),(void 0===_ref$showFooter||_ref$showFooter)&&footer&&(0,jsx_runtime.jsx)("div",{onMouseEnter:resetHighlightedIndex,className:classnames_default()(index_module.optionsListFooter,(0,defineProperty.Z)({},index_module.withBorder,visibleOptions&&(void 0===_ref$flatOptions?[]:_ref$flatOptions).length>visibleOptions&&!scrollBottom)),children:footer})]}))});try{OptionsList.displayName="OptionsList",OptionsList.__docgenInfo={description:"",displayName:"OptionsList",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},scrollbarClassName:{defaultValue:null,description:"Дополнительный класс для скроллбара",name:"scrollbarClassName",required:!1,type:{name:"string"}},size:{defaultValue:{value:"48"},description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!0,type:{name:"ComponentType<OptionProps>"}},getOptionProps:{defaultValue:null,description:"Функция для получения пропсов для ячейки",name:"getOptionProps",required:!0,type:{name:"(option: OptionShape, index: number) => OptionProps"}},selectedItems:{defaultValue:null,description:"Список выбранных пунктов",name:"selectedItems",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"Контент шапки",name:"header",required:!1,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"Контент футера",name:"footer",required:!1,type:{name:"ReactNode"}},options:{defaultValue:{value:"[]"},description:"Список вариантов выбора",name:"options",required:!1,type:{name:"(OptionShape | GroupShape)[]"}},flatOptions:{defaultValue:{value:"[]"},description:"Плоский список пунктов меню (например, нужно для виртуализации)",name:"flatOptions",required:!1,type:{name:"OptionShape[]"}},highlightedIndex:{defaultValue:null,description:"Индекс выделенного пункта",name:"highlightedIndex",required:!1,type:{name:"number"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 48 }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[SIZE_TO_CLASSNAME_MAP[size]])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"ComponentType<OptgroupProps>"}},emptyPlaceholder:{defaultValue:null,description:"Будет отображаться, если компонент пустой",name:"emptyPlaceholder",required:!1,type:{name:"ReactNode"}},visibleOptions:{defaultValue:{value:"5"},description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},inputProps:{defaultValue:null,description:"Дополнительные пропсы для Input'a, находящегося внутри кастомного OptionsList",name:"inputProps",required:!1,type:{name:"InputProps"}},showFooter:{defaultValue:{value:"true"},description:"Нужно ли показывать футер",name:"showFooter",required:!1,type:{name:"boolean"}},nativeScrollbar:{defaultValue:null,description:"Нужно ли использовать нативный скроллбар",name:"nativeScrollbar",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},onApply:{defaultValue:null,description:"Обработчик подтверждения изменений",name:"onApply",required:!1,type:{name:"(() => void)"}},onClear:{defaultValue:null,description:"Обработчик отмены изменений",name:"onClear",required:!1,type:{name:"(() => void)"}},setHighlightedIndex:{defaultValue:null,description:"Указать индекс пункта для hover состояния",name:"setHighlightedIndex",required:!1,type:{name:"((index: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/options-list/Component.tsx#OptionsList"]={docgenInfo:OptionsList.__docgenInfo,name:"OptionsList",path:"packages/select/src/components/options-list/Component.tsx#OptionsList"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/components/search/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{o:function(){return Search}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),modern=__webpack_require__("./dist/input/modern/index.js"),MagnifierMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/MagnifierMIcon.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["clear","placeholder","className","leftAddons"],Search=(0,react.forwardRef)(function(_ref,ref){var _ref$clear=_ref.clear,_ref$placeholder=_ref.placeholder,className=_ref.className,_ref$leftAddons=_ref.leftAddons,leftAddons=void 0===_ref$leftAddons?(0,jsx_runtime.jsx)(MagnifierMIcon.MagnifierMIcon,{color:"#86868A"}):_ref$leftAddons,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded);return(0,jsx_runtime.jsx)(modern.Input,(0,objectSpread2.Z)({ref:ref,className:classnames_default()("component_Na55F",className),placeholder:void 0===_ref$placeholder?"Поиск":_ref$placeholder,leftAddons:leftAddons,clear:void 0===_ref$clear||_ref$clear},restProps))});try{Search.displayName="Search",Search.__docgenInfo={description:"",displayName:"Search",props:{size:{defaultValue:null,description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},type:{defaultValue:null,description:"Атрибут type",name:"type",required:!1,type:{name:"enum",value:[{value:'"number"'},{value:'"card"'},{value:'"email"'},{value:'"money"'},{value:'"password"'},{value:'"tel"'},{value:'"text"'}]}},value:{defaultValue:null,description:"Значение поля ввода",name:"value",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"Начальное значение поля",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Обработчик поля ввода",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>, payload: { value: string; }) => void)"}},onClick:{defaultValue:null,description:"Обработчик клика по полю",name:"onClick",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},onMouseDown:{defaultValue:null,description:"Обработчик MouseDown по полю",name:"onMouseDown",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},clear:{defaultValue:{value:"true"},description:"Крестик для очистки поля",name:"clear",required:!1,type:{name:"boolean"}},colors:{defaultValue:null,description:"Набор цветов для компонента",name:"colors",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"inverted"'}]}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},success:{defaultValue:null,description:"Отображение иконки успеха",name:"success",required:!1,type:{name:"boolean"}},hint:{defaultValue:null,description:"Текст подсказки",name:"hint",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Лейбл компонента",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},wrapperRef:{defaultValue:null,description:"Ref для обертки input",name:"wrapperRef",required:!1,type:{name:"Ref<HTMLDivElement>"}},leftAddons:{defaultValue:{value:"<MagnifierMIcon color='#86868A' />"},description:"Слот слева",name:"leftAddons",required:!1,type:{name:"ReactNode"}},rightAddons:{defaultValue:null,description:"Слот справа",name:"rightAddons",required:!1,type:{name:"ReactNode"}},leftAddonsProps:{defaultValue:null,description:"Свойства для обертки левых аддонов",name:"leftAddonsProps",required:!1,type:{name:"HTMLAttributes<HTMLDivElement>"}},rightAddonsProps:{defaultValue:null,description:"Свойства для обертки правых аддонов",name:"rightAddonsProps",required:!1,type:{name:"HTMLAttributes<HTMLDivElement>"}},bottomAddons:{defaultValue:null,description:"Слот под инпутом",name:"bottomAddons",required:!1,type:{name:"ReactNode"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},inputClassName:{defaultValue:null,description:"Дополнительный класс инпута",name:"inputClassName",required:!1,type:{name:"string"}},labelClassName:{defaultValue:null,description:"Дополнительный класс для лейбла",name:"labelClassName",required:!1,type:{name:"string"}},addonsClassName:{defaultValue:null,description:"Дополнительный класс для аддонов",name:"addonsClassName",required:!1,type:{name:"string"}},focusedClassName:{defaultValue:null,description:"Класс, который будет установлен при фокусе",name:"focusedClassName",required:!1,type:{name:"string"}},filledClassName:{defaultValue:null,description:"Класс, который будет установлен, если в поле есть значение",name:"filledClassName",required:!1,type:{name:"string"}},onClear:{defaultValue:null,description:"Обработчик нажатия на кнопку очистки",name:"onClear",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования.\nДля FormControl используется модификатор -form-control",name:"dataTestId",required:!1,type:{name:"string"}},disableUserInput:{defaultValue:null,description:"Запрещает ввод с клавиатуры",name:"disableUserInput",required:!1,type:{name:"boolean"}},breakpoint:{defaultValue:{value:"1024"},description:"Контрольная точка, с нее начинается desktop версия",name:"breakpoint",required:!1,type:{name:"number"}},defaultMatchMediaValue:{defaultValue:null,description:"Значение по-умолчанию для хука useMatchMedia",name:"defaultMatchMediaValue",required:!1,type:{name:"boolean | (() => boolean)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/search/Component.tsx#Search"]={docgenInfo:Search.__docgenInfo,name:"Search",path:"packages/select/src/components/search/Component.tsx#Search"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/consts.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{j:function(){return DEFAULT_VISIBLE_OPTIONS},p:function(){return SIZE_TO_CLASSNAME_MAP}});var DEFAULT_VISIBLE_OPTIONS=5,SIZE_TO_CLASSNAME_MAP={s:"size-48",m:"size-56",l:"size-64",xl:"size-72",48:"size-48",56:"size-56",64:"size-64",72:"size-72"}},"./packages/select/src/desktop/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SelectDesktop:function(){return SelectDesktop}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),desktop=__webpack_require__("./dist/form-control/modern/desktop/index.js"),modern=__webpack_require__("./dist/popover/modern/index.js"),arrow=__webpack_require__("./packages/select/src/components/arrow/index.ts"),base_select=__webpack_require__("./packages/select/src/components/base-select/index.ts"),field=__webpack_require__("./packages/select/src/components/field/index.ts"),optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),components_option=__webpack_require__("./packages/select/src/components/option/index.ts"),options_list=__webpack_require__("./packages/select/src/components/options-list/index.ts"),search=__webpack_require__("./packages/select/src/components/search/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["Arrow","Field","OptionsList","Optgroup","Option","Search","fieldProps"],SelectDesktop=(0,react.forwardRef)(function(_ref,ref){var _ref$Arrow=_ref.Arrow,Arrow=void 0===_ref$Arrow?arrow.E:_ref$Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?field.g:_ref$Field,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?options_list.M:_ref$OptionsList,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?components_option.W:_ref$Option,_ref$Search=_ref.Search,Search=void 0===_ref$Search?search.o:_ref$Search,_ref$fieldProps=_ref.fieldProps,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded);return(0,jsx_runtime.jsx)(base_select.A,(0,objectSpread2.Z)({ref:ref,view:"desktop",Option:Option,Field:Field,fieldProps:(0,objectSpread2.Z)({FormControlComponent:desktop.FormControlDesktop},void 0===_ref$fieldProps?{}:_ref$fieldProps),Search:Search,Optgroup:Optgroup,OptionsList:OptionsList,Arrow:Arrow,Popover:modern.Popover},restProps))});try{SelectDesktop.displayName="SelectDesktop",SelectDesktop.__docgenInfo={description:"",displayName:"SelectDesktop",props:{size:{defaultValue:null,description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},disabled:{defaultValue:null,description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Обработчик фокуса поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Обработчик блюра поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования.\nДля пункта меню используется модификатор -option, компонента поиска -search,\nкомпонента выпадающего меню -options-list, компонента BottomSheet -bottom-sheet,\nкомпонента поля -field, компонета FormControl -field-form-control",name:"dataTestId",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},popoverProps:{defaultValue:null,description:"Дополнительные пропсы для Popover",name:"popoverProps",required:!1,type:{name:'Omit<PopoverProps, "className" | "dataTestId" | "open" | "position" | "zIndex" | "update" | "anchorElement" | "preventFlip">'}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<(() => void)>"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},defaultOpen:{defaultValue:null,description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},optionsSize:{defaultValue:null,description:"Размер пунктов меню\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},autocomplete:{defaultValue:null,description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},allowUnselect:{defaultValue:null,description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:null,description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:null,description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:{value:"({ open, className }: ArrowProps) => (\n    <ChevronDownMIcon className={cn(styles.arrow, className, { [styles.open]: open })} />\n)"},description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | ComponentType<ArrowProps> | null"}},Field:{defaultValue:{value:"({\n    size = 56,\n    open,\n    multiple,\n    error,\n    hint,\n    disabled,\n    label,\n    labelView = 'inner',\n    placeholder,\n    selectedMultiple = [],\n    selected,\n    rightAddons,\n    valueRenderer = joinOptions,\n    setSelectedItems,\n    toggleMenu,\n    Arrow,\n    innerProps,\n    dataTestId,\n    fieldClassName,\n    FormControlComponent,\n    ...restProps\n}: BaseFieldProps & FormControlProps & FieldProps) => {\n    const [focused, setFocused] = useState(false);\n\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const [focusVisible] = useFocus(wrapperRef, 'keyboard');\n\n    const handleFocus = useCallback(() => setFocused(true), []);\n    const handleBlur = useCallback(() => setFocused(false), []);\n\n    const value = valueRenderer({ selected, selectedMultiple });\n\n    const filled = Boolean(value);\n    const showLabel = !!label || labelView === 'outer';\n    const showPlaceholder = !!placeholder && !filled && (open || !label || labelView === 'outer');\n\n    return (\n        <div\n            className={styles.component}\n            ref={wrapperRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n        >\n            {FormControlComponent ? (\n                <FormControlComponent\n                    dataTestId={getDataTestId(dataTestId, 'form-control')}\n                    fieldClassName={cn(styles.field, fieldClassName, {\n                        [styles.disabled]: disabled,\n                        [styles.focusVisible]: focusVisible,\n                    })}\n                    block={true}\n                    size={size}\n                    focused={focused || open}\n                    disabled={disabled}\n                    filled={filled || (!!placeholder && open)}\n                    label={showLabel && label}\n                    labelView={labelView}\n                    error={error}\n                    hint={hint}\n                    rightAddons={\n                        (Arrow || rightAddons) && (\n                            <React.Fragment>\n                                {rightAddons}\n                                {/* TODO: стоит переделать, но это будет мажорка */}\n                                {Arrow\n                                    ? React.cloneElement(Arrow, { className: styles.arrow })\n                                    : null}\n                            </React.Fragment>\n                        )\n                    }\n                    data-test-id={dataTestId}\n                    {...restProps}\n                    {...innerProps}\n                >\n                    <div className={styles.contentWrapper}>\n                        {showPlaceholder && (\n                            <span\n                                className={cn(styles.placeholder, {\n                                    [styles.focused]: focused || open,\n                                })}\n                            >\n                                {placeholder}\n                            </span>\n                        )}\n                        {filled && <div className={styles.value}>{value}</div>}\n                    </div>\n                </FormControlComponent>\n            ) : null}\n        </div>\n    );\n}"},description:"Компонент поля",name:"Field",required:!1,type:{name:"ComponentType<FieldProps>"}},optionsListProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"forwardRef<HTMLDivElement, OptionsListProps>(\n    (\n        {\n            size = 48,\n            className,\n            optionGroupClassName,\n            scrollbarClassName,\n            Option,\n            getOptionProps,\n            options = [],\n            Optgroup = DefaultOptgroup,\n            dataTestId,\n            emptyPlaceholder,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            onScroll,\n            open,\n            header,\n            footer,\n            showFooter = true,\n            optionsListWidth,\n            nativeScrollbar: nativeScrollbarProp,\n            flatOptions = [],\n            setHighlightedIndex,\n        },\n        ref,\n    ) => {\n        const [scrollTop, setScrollTop] = useState(true);\n        const [scrollBottom, setScrollBottom] = useState(false);\n\n        const query = '(max-width: 1023px)';\n        let [nativeScrollbar] = useMatchMedia(query, () =>\n            isClient() ? window.matchMedia(query).matches : true,\n        );\n\n        nativeScrollbar = Boolean(nativeScrollbarProp ?? nativeScrollbar);\n\n        const handleScroll = useCallback(\n            (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n                const scrolledToHeader = event.currentTarget.scrollTop <= 0;\n                const scrolledToFooter =\n                    event.currentTarget.scrollHeight - event.currentTarget.offsetHeight <=\n                    event.currentTarget.scrollTop;\n\n                setScrollTop(scrolledToHeader);\n                setScrollBottom(scrolledToFooter);\n\n                onScroll?.(event);\n            },\n            [onScroll],\n        );\n\n        const renderOption = (option: OptionShape, index: number) => (\n            <Option key={option.key} {...getOptionProps(option, index)} />\n        );\n\n        const listRef = useRef<HTMLDivElement>(null);\n        const scrollbarRef = useRef<HTMLDivElement>(null);\n        const counter = createCounter();\n        const renderGroup = (group: GroupShape) => (\n            <Optgroup\n                className={optionGroupClassName}\n                label={group.label}\n                key={group.label}\n                size={size}\n            >\n                {group.options.map((option) => renderOption(option, counter()))}\n            </Optgroup>\n        );\n\n        useVisibleOptions({\n            ...(!nativeScrollbar && { styleTargetRef: scrollbarRef }),\n            visibleOptions,\n            listRef,\n            open,\n            invalidate: options,\n        });\n\n        if (options.length === 0 && !emptyPlaceholder && !header && !footer) {\n            return null;\n        }\n\n        const renderListItems = () => (\n            <React.Fragment>\n                {options.map((option) =>\n                    isGroup(option) ? renderGroup(option) : renderOption(option, counter()),\n                )}\n\n                {emptyPlaceholder && options.length === 0 && (\n                    <div className={styles.emptyPlaceholder}>{emptyPlaceholder}</div>\n                )}\n            </React.Fragment>\n        );\n\n        const renderWithCustomScrollbar = () => {\n            const scrollableNodeProps = {\n                onScroll: handleScroll,\n                'data-test-id': dataTestId,\n                ref: ref as React.RefObject<HTMLDivElement>,\n            };\n\n            return (\n                <Scrollbar\n                    className={cn(styles.scrollable, scrollbarClassName)}\n                    ref={scrollbarRef}\n                    horizontalAutoStretch={optionsListWidth === 'content'}\n                    scrollableNodeProps={scrollableNodeProps}\n                    contentNodeProps={{ ref: listRef }}\n                >\n                    {renderListItems()}\n                </Scrollbar>\n            );\n        };\n\n        const renderWithNativeScrollbar = () => (\n            <div\n                className={cn(styles.scrollable, scrollbarClassName)}\n                ref={mergeRefs([listRef, ref])}\n                onScroll={handleScroll}\n            >\n                {renderListItems()}\n            </div>\n        );\n\n        const resetHighlightedIndex = () => setHighlightedIndex?.(-1);\n\n        return (\n            <div\n                {...(nativeScrollbar && { 'data-test-id': dataTestId })}\n                className={cn(styles.optionsList, styles[SIZE_TO_CLASSNAME_MAP[size]], className)}\n            >\n                {header && (\n                    <div\n                        className={cn(styles.optionsListHeader, {\n                            [styles.headerHighlighted]: !scrollTop,\n                        })}\n                        onMouseEnter={resetHighlightedIndex}\n                    >\n                        {header}\n                    </div>\n                )}\n\n                {nativeScrollbar ? renderWithNativeScrollbar() : renderWithCustomScrollbar()}\n\n                {showFooter && footer && (\n                    <div\n                        onMouseEnter={resetHighlightedIndex}\n                        className={cn(styles.optionsListFooter, {\n                            [styles.withBorder]:\n                                visibleOptions &&\n                                flatOptions.length > visibleOptions &&\n                                !scrollBottom,\n                        })}\n                    >\n                        {footer}\n                    </div>\n                )}\n            </div>\n        );\n    },\n)"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"ComponentType<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 48 }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[SIZE_TO_CLASSNAME_MAP[size]])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"ComponentType<OptgroupProps>"}},Option:{defaultValue:{value:"({\n    size = 48,\n    className,\n    option,\n    children,\n    selected,\n    highlighted,\n    disabled,\n    multiple,\n    mobile,\n    Checkmark = mobile ? DefaultMobileCheckmark : DefaultCheckMark,\n    innerProps,\n    dataTestId,\n}) => {\n    const content = children || option.content || option.key;\n    const { showCheckMark = true } = option;\n\n    return (\n        <div\n            {...innerProps}\n            className={cn(styles.option, styles[SIZE_TO_CLASSNAME_MAP[size]], className, {\n                [styles.highlighted]: !mobile && highlighted,\n                [styles.selected]: selected,\n                [styles.disabled]: disabled,\n            })}\n            data-test-id={dataTestId}\n        >\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='before'\n                />\n            )}\n\n            <div\n                className={cn(styles.content, {\n                    [styles.textContent]: !isValidElement(content),\n                })}\n            >\n                {content}\n            </div>\n\n            {/** Workaround чтобы для клика показывать отметку справа и всегда в виде иконки */}\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='after'\n                />\n            )}\n        </div>\n    );\n}"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"ComponentType<OptionProps>"}},showSearch:{defaultValue:null,description:"Включает отображение поиска",name:"showSearch",required:!1,type:{name:"boolean"}},Search:{defaultValue:{value:"forwardRef<HTMLInputElement, SearchProps>(\n    (\n        {\n            clear = true,\n            placeholder = 'Поиск',\n            className,\n            leftAddons = <MagnifierMIcon color='#86868A' />,\n            ...restProps\n        },\n        ref,\n    ) => (\n        <Input\n            ref={ref}\n            className={cn(styles.component, className)}\n            placeholder={placeholder}\n            leftAddons={leftAddons}\n            clear={clear}\n            {...restProps}\n        />\n    ),\n)"},description:"Компонент поиска",name:"Search",required:!1,type:{name:"ComponentType<SearchProps>"}},searchProps:{defaultValue:null,description:"Настройки поиска",name:"searchProps",required:!1,type:{name:"{ componentProps?: SearchProps; accessor?: ((option: OptionShape) => string); filterFn?: ((optionText: string, search: string) => boolean) | undefined; value?: string | undefined; onChange?: ((value: string) => void) | undefined; } | undefined"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},fieldProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"SelectFieldProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/desktop/Component.desktop.tsx#SelectDesktop"]={docgenInfo:SelectDesktop.__docgenInfo,name:"SelectDesktop",path:"packages/select/src/desktop/Component.desktop.tsx#SelectDesktop"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Select:function(){return SelectResponsive}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),modern=__webpack_require__("./dist/mq/modern/index.js"),desktop=__webpack_require__("./packages/select/src/desktop/index.ts"),mobile=__webpack_require__("./packages/select/src/mobile/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["onScroll","fieldProps","breakpoint","defaultMatchMediaValue"],SelectResponsive=(0,react.forwardRef)(function(_ref,ref){var onScroll=_ref.onScroll,fieldProps=_ref.fieldProps,_ref$breakpoint=_ref.breakpoint,defaultMatchMediaValue=_ref.defaultMatchMediaValue,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),_useMatchMedia=(0,modern.useMatchMedia)("(min-width: ".concat(void 0===_ref$breakpoint?1024:_ref$breakpoint,"px)"),defaultMatchMediaValue);if((0,slicedToArray.Z)(_useMatchMedia,1)[0])return(0,jsx_runtime.jsx)(desktop.SelectDesktop,(0,objectSpread2.Z)((0,objectSpread2.Z)({onScroll:onScroll},restProps),{},{ref:ref,fieldProps:fieldProps}));var mobileProps=(0,objectSpread2.Z)((0,objectSpread2.Z)({},restProps),restProps.originalProps);return(0,jsx_runtime.jsx)(mobile.SelectMobile,(0,objectSpread2.Z)((0,objectSpread2.Z)({fieldProps:fieldProps},mobileProps),{},{ref:ref}))});try{SelectResponsive.displayName="SelectResponsive",SelectResponsive.__docgenInfo={description:"",displayName:"SelectResponsive",props:{dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования.\nДля пункта меню используется модификатор -option, компонента поиска -search,\nкомпонента выпадающего меню -options-list, компонента BottomSheet -bottom-sheet,\nкомпонента поля -field, компонета FormControl -field-form-control",name:"dataTestId",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},optionsSize:{defaultValue:null,description:"Размер пунктов меню\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},autocomplete:{defaultValue:null,description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},allowUnselect:{defaultValue:null,description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:null,description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:null,description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | ComponentType<ArrowProps> | null"}},Field:{defaultValue:null,description:"Компонент поля",name:"Field",required:!1,type:{name:"ComponentType<FieldProps>"}},fieldProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:null,description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"ComponentType<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:null,description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"ComponentType<OptgroupProps>"}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"ComponentType<OptionProps>"}},showSearch:{defaultValue:null,description:"Включает отображение поиска",name:"showSearch",required:!1,type:{name:"boolean"}},Search:{defaultValue:null,description:"Компонент поиска",name:"Search",required:!1,type:{name:"ComponentType<SearchProps>"}},searchProps:{defaultValue:null,description:"Настройки поиска",name:"searchProps",required:!1,type:{name:"{ componentProps?: SearchProps; accessor?: ((option: OptionShape) => string); filterFn?: ((optionText: string, search: string) => boolean) | undefined; value?: string | undefined; onChange?: ((value: string) => void) | undefined; } | undefined"}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},onBlur:{defaultValue:null,description:"Обработчик блюра поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onFocus:{defaultValue:null,description:"Обработчик фокуса поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<(() => void)>"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},popoverProps:{defaultValue:null,description:"Дополнительные пропсы для Popover",name:"popoverProps",required:!1,type:{name:'Omit<PopoverProps, "className" | "dataTestId" | "open" | "position" | "zIndex" | "update" | "anchorElement" | "preventFlip">'}},showClear:{defaultValue:null,description:"Показывать кнопку 'Сбросить' в футере мобильного компонента",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},showHeaderWithSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все" в заголовке списка у мобильного компонента',name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}},useWithApplyHook:{defaultValue:null,description:"Использовать ли хук useSelectWithApply в мобильном компоненте",name:"useWithApplyHook",required:!1,type:{name:"boolean"}},isBottomSheet:{defaultValue:null,description:"",name:"isBottomSheet",required:!1,type:{name:"boolean"}},footer:{defaultValue:null,description:"Футер\n@deprecated Используйте bottomSheetProps.actionButton",name:"footer",required:!1,type:{name:"ReactNode"}},swipeable:{defaultValue:null,description:"Будет ли свайпаться шторка\n@deprecated Используйте bottomSheetProps.swipeable",name:"swipeable",required:!1,type:{name:"boolean"}},bottomSheetProps:{defaultValue:null,description:"Дополнительные пропсы шторки",name:"bottomSheetProps",required:!1,type:{name:"Partial<BottomSheetProps>"}},breakpoint:{defaultValue:{value:"1024"},description:"Контрольная точка, с нее начинается desktop версия",name:"breakpoint",required:!1,type:{name:"number"}},defaultMatchMediaValue:{defaultValue:null,description:"Значение по-умолчанию для хука useMatchMedia",name:"defaultMatchMediaValue",required:!1,type:{name:"boolean | (() => boolean)"}},originalProps:{defaultValue:null,description:"",name:"originalProps",required:!1,type:{name:"SelectProps"}},modalHeaderProps:{defaultValue:null,description:"Дополнительные пропсы шапки модалки",name:"modalHeaderProps",required:!1,type:{name:"Partial<HeaderProps>"}},modalProps:{defaultValue:null,description:"Дополнительные пропсы модалки",name:"modalProps",required:!1,type:{name:'Partial<BaseModalProps & { size?: "s" | "m" | "l" | "xl" | "fullscreen" | 500 | 600 | 800 | 1140; fullscreen?: boolean; fixedPosition?: boolean | undefined; hasCloser?: boolean | undefined; iOSLock?: boolean | undefined; } & { ...; } & RefAttributes<...>> | undefined'}},modalFooterProps:{defaultValue:null,description:"Дополнительные пропсы футера модалки",name:"modalFooterProps",required:!1,type:{name:"Partial<FooterProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/Component.responsive.tsx#SelectResponsive"]={docgenInfo:SelectResponsive.__docgenInfo,name:"SelectResponsive",path:"packages/select/src/Component.responsive.tsx#SelectResponsive"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/mobile/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SelectMobile:function(){return SelectMobile},SelectModalMobile:function(){return SelectModalMobile}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),modern=__webpack_require__("./dist/bottom-sheet/modern/index.js"),mobile=__webpack_require__("./dist/form-control/modern/mobile/index.js"),modern_mobile=__webpack_require__("./dist/modal/modern/mobile/index.js"),arrow=__webpack_require__("./packages/select/src/components/arrow/index.ts"),base_select=__webpack_require__("./packages/select/src/components/base-select/index.ts"),field=__webpack_require__("./packages/select/src/components/field/index.ts"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),base_modal_modern=__webpack_require__("./dist/base-modal/modern/index.js"),button_modern_mobile=__webpack_require__("./dist/button/modern/mobile/index.js"),shared_modern=__webpack_require__("./dist/shared/modern/index.js"),index_module={footer:"footer_TTCEl",button:"button_Kl2lE",highlighted:"highlighted_ZaYjd"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Footer=function(_ref){var handleApply=_ref.handleApply,handleClear=_ref.handleClear,showClear=_ref.showClear,_ref$clearText=_ref.clearText,_ref$applyText=_ref.applyText,dataTestId=_ref.dataTestId,_useContext=(0,react.useContext)(base_modal_modern.BaseModalContext),footerHighlighted=_useContext.footerHighlighted,setHasFooter=_useContext.setHasFooter;return(0,react.useEffect)(function(){setHasFooter(!0)},[setHasFooter]),(0,jsx_runtime.jsxs)("div",{tabIndex:0,className:classnames_default()(index_module.footer,(0,defineProperty.Z)({},index_module.highlighted,footerHighlighted)),children:[showClear&&(0,jsx_runtime.jsx)(button_modern_mobile.ButtonMobile,{size:56,view:"secondary",className:index_module.button,onClick:handleClear,dataTestId:(0,shared_modern.getDataTestId)(dataTestId,"clear"),children:void 0===_ref$clearText?"Сбросить":_ref$clearText}),(0,jsx_runtime.jsx)(button_modern_mobile.ButtonMobile,{size:56,view:"primary",className:index_module.button,onClick:handleApply,dataTestId:(0,shared_modern.getDataTestId)(dataTestId,"apply"),children:void 0===_ref$applyText?"Применить":_ref$applyText})]})};try{Footer.displayName="Footer",Footer.__docgenInfo={description:"",displayName:"Footer",props:{handleClear:{defaultValue:null,description:"",name:"handleClear",required:!1,type:{name:"(() => void)"}},handleApply:{defaultValue:null,description:"",name:"handleApply",required:!1,type:{name:"(() => void)"}},showClear:{defaultValue:null,description:"",name:"showClear",required:!1,type:{name:"boolean"}},clearText:{defaultValue:{value:"Сбросить"},description:"",name:"clearText",required:!1,type:{name:"string"}},applyText:{defaultValue:{value:"Применить"},description:"",name:"applyText",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/footer/Component.tsx#Footer"]={docgenInfo:Footer.__docgenInfo,name:"Footer",path:"packages/select/src/components/footer/Component.tsx#Footer"})}catch(__react_docgen_typescript_loader_error){}var optgroup=__webpack_require__("./packages/select/src/components/optgroup/index.ts"),components_option=__webpack_require__("./packages/select/src/components/option/index.ts"),options_list=__webpack_require__("./packages/select/src/components/options-list/index.ts"),search=__webpack_require__("./packages/select/src/components/search/index.ts"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),react_virtual=__webpack_require__("./node_modules/react-virtual/dist/react-virtual.mjs"),mq_modern=__webpack_require__("./dist/mq/modern/index.js"),scrollbar_modern=__webpack_require__("./dist/scrollbar/modern/index.js"),consts=__webpack_require__("./packages/select/src/consts.ts"),utils=__webpack_require__("./packages/select/src/utils.ts"),virtual_options_list_index_module={virtualOptionsList:"virtualOptionsList_f8l8Q",virtualOptionsListHeader:"virtualOptionsListHeader_Il1v5",virtualOptionsListFooter:"virtualOptionsListFooter_dRAb1",withBorder:"withBorder_Ufdow",scrollable:"scrollable_D_W_P",inner:"inner_HnsHb",virtualRow:"virtualRow_LhVkm",highlighted:"highlighted_pMwde",emptyPlaceholder:"emptyPlaceholder_VR5vJ","size-64":"size-64_NjbuA","size-72":"size-72_UdCwp"},VirtualOptionsList=(0,react.forwardRef)(function(_ref,ref){var _ref$size=_ref.size,size=void 0===_ref$size?48:_ref$size,_ref$flatOptions=_ref.flatOptions,flatOptions=void 0===_ref$flatOptions?[]:_ref$flatOptions,_ref$highlightedIndex=_ref.highlightedIndex,highlightedIndex=void 0===_ref$highlightedIndex?-1:_ref$highlightedIndex,optionGroupClassName=_ref.optionGroupClassName,className=_ref.className,getOptionProps=_ref.getOptionProps,Option=_ref.Option,open=_ref.open,_ref$options=_ref.options,options=void 0===_ref$options?[]:_ref$options,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,dataTestId=_ref.dataTestId,emptyPlaceholder=_ref.emptyPlaceholder,_ref$visibleOptions=_ref.visibleOptions,visibleOptions=void 0===_ref$visibleOptions?consts.j:_ref$visibleOptions,header=_ref.header,footer=_ref.footer,_ref$showFooter=_ref.showFooter,optionsListWidth=_ref.optionsListWidth,onScroll=_ref.onScroll,nativeScrollbarProp=_ref.nativeScrollbar,setHighlightedIndex=_ref.setHighlightedIndex,listRef=(0,react.useRef)(null),parentRef=(0,react.useRef)(null),scrollbarRef=(0,react.useRef)(null),_useState=(0,react.useState)(""),_useState2=(0,slicedToArray.Z)(_useState,2),visibleOptionsInvalidateKey=_useState2[0],setVisibleOptionsInvalidateKey=_useState2[1],prevHighlightedIndex=(0,utils.D9)(highlightedIndex)||-1,query="(max-width: 1023px)",_useMatchMedia=(0,mq_modern.useMatchMedia)(query,function(){return!(0,shared_modern.isClient)()||window.matchMedia(query).matches}),nativeScrollbar=(0,slicedToArray.Z)(_useMatchMedia,1)[0],rowVirtualizer=(0,react_virtual.o)({size:flatOptions.length,parentRef:ref||parentRef,overscan:15});nativeScrollbar=!!(null!=nativeScrollbarProp?nativeScrollbarProp:nativeScrollbar),(0,react.useEffect)(function(){open&&rowVirtualizer.scrollToIndex(highlightedIndex,{align:"end"})},[open]),(0,react.useEffect)(function(){-1===highlightedIndex||rowVirtualizer.virtualItems.some(function(option){return option.index===highlightedIndex})||rowVirtualizer.scrollToIndex(highlightedIndex,{align:"end"})},[highlightedIndex]),(0,react.useEffect)(function(){var notDisabled=function(option){return!option.disabled},firstNonDisabled=flatOptions.findIndex(notDisabled),lastNonDisabled=(0,utils.d_)(flatOptions,notDisabled);prevHighlightedIndex<=firstNonDisabled&&highlightedIndex===flatOptions.length-1&&rowVirtualizer.scrollToIndex(lastNonDisabled),prevHighlightedIndex>=lastNonDisabled&&0===highlightedIndex&&rowVirtualizer.scrollToIndex(0)},[prevHighlightedIndex,highlightedIndex]),(0,react.useEffect)(function(){setVisibleOptionsInvalidateKey(rowVirtualizer.virtualItems.slice(0,Math.min(rowVirtualizer.virtualItems.length,visibleOptions+1)).map(function(item){return flatOptions[item.index].key}).join("_"))},[rowVirtualizer.virtualItems.length,flatOptions]),(0,utils.kZ)({visibleOptions:visibleOptions,invalidate:visibleOptionsInvalidateKey,listRef:listRef,styleTargetRef:nativeScrollbar?parentRef:scrollbarRef,open:open});var groupStartIndexes=(0,react.useMemo)(function(){var currentIndex=0;return options.reduce(function(acc,option,index){return(0,utils.ty)(option)?(acc[currentIndex]=index,currentIndex+=option.options.length):currentIndex+=1,acc},{})},[options]),renderList=function(){return rowVirtualizer.virtualItems.map(function(virtualRow){var option=flatOptions[virtualRow.index],group=options[groupStartIndexes[virtualRow.index]];return(0,jsx_runtime.jsxs)("div",{ref:virtualRow.measureRef,className:classnames_default()(virtual_options_list_index_module.virtualRow,(0,defineProperty.Z)({},virtual_options_list_index_module.highlighted,highlightedIndex===virtualRow.index)),style:{transform:"translateY(".concat(virtualRow.start,"px)")},children:[group&&(0,jsx_runtime.jsx)(Optgroup,{label:group.label,size:size,className:optionGroupClassName}),!(0,utils.ty)(option)&&(0,jsx_runtime.jsx)(Option,(0,objectSpread2.Z)({},getOptionProps(option,virtualRow.index)))]},virtualRow.index)})},contentNodeProps={className:virtual_options_list_index_module.inner,style:{height:"".concat(rowVirtualizer.totalSize,"px")},ref:listRef},resetHighlightedIndex=function(){return null==setHighlightedIndex?void 0:setHighlightedIndex(-1)};return 0!==options.length||emptyPlaceholder?(0,jsx_runtime.jsxs)("div",{className:classnames_default()(virtual_options_list_index_module.virtualOptionsList,virtual_options_list_index_module[consts.p[size]],className),"data-test-id":dataTestId,children:[header&&(0,jsx_runtime.jsx)("div",{className:virtual_options_list_index_module.virtualOptionsListHeader,onMouseEnter:resetHighlightedIndex,children:header}),nativeScrollbar?visibleOptions?(0,jsx_runtime.jsx)("div",{className:virtual_options_list_index_module.scrollable,ref:(0,react_merge_refs_esm.Z)([parentRef,ref]),onScroll:onScroll,children:(0,jsx_runtime.jsx)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},contentNodeProps),{},{children:renderList()}))}):(0,jsx_runtime.jsx)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},contentNodeProps),{},{children:renderList()})):(0,jsx_runtime.jsx)(scrollbar_modern.Scrollbar,{className:virtual_options_list_index_module.scrollable,ref:scrollbarRef,horizontalAutoStretch:"content"===optionsListWidth,scrollableNodeProps:{onScroll:onScroll,ref:parentRef},contentNodeProps:contentNodeProps,children:renderList()}),emptyPlaceholder&&0===options.length&&(0,jsx_runtime.jsx)("div",{className:virtual_options_list_index_module.emptyPlaceholder,children:emptyPlaceholder}),(void 0===_ref$showFooter||_ref$showFooter)&&footer&&(0,jsx_runtime.jsx)("div",{onMouseEnter:resetHighlightedIndex,className:classnames_default()(virtual_options_list_index_module.virtualOptionsListFooter,(0,defineProperty.Z)({},virtual_options_list_index_module.withBorder,visibleOptions&&flatOptions.length>visibleOptions)),children:footer})]}):null});try{VirtualOptionsList.displayName="VirtualOptionsList",VirtualOptionsList.__docgenInfo={description:"",displayName:"VirtualOptionsList",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},scrollbarClassName:{defaultValue:null,description:"Дополнительный класс для скроллбара",name:"scrollbarClassName",required:!1,type:{name:"string"}},size:{defaultValue:{value:"48"},description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!0,type:{name:"ComponentType<OptionProps>"}},getOptionProps:{defaultValue:null,description:"Функция для получения пропсов для ячейки",name:"getOptionProps",required:!0,type:{name:"(option: OptionShape, index: number) => OptionProps"}},selectedItems:{defaultValue:null,description:"Список выбранных пунктов",name:"selectedItems",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"Контент шапки",name:"header",required:!1,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"Контент футера",name:"footer",required:!1,type:{name:"ReactNode"}},options:{defaultValue:{value:"[]"},description:"Список вариантов выбора",name:"options",required:!1,type:{name:"(OptionShape | GroupShape)[]"}},flatOptions:{defaultValue:{value:"[]"},description:"Плоский список пунктов меню (например, нужно для виртуализации)",name:"flatOptions",required:!1,type:{name:"OptionShape[]"}},highlightedIndex:{defaultValue:{value:"-1"},description:"Индекс выделенного пункта",name:"highlightedIndex",required:!1,type:{name:"number"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 48 }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[SIZE_TO_CLASSNAME_MAP[size]])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"ComponentType<OptgroupProps>"}},emptyPlaceholder:{defaultValue:null,description:"Будет отображаться, если компонент пустой",name:"emptyPlaceholder",required:!1,type:{name:"ReactNode"}},visibleOptions:{defaultValue:{value:"5"},description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},inputProps:{defaultValue:null,description:"Дополнительные пропсы для Input'a, находящегося внутри кастомного OptionsList",name:"inputProps",required:!1,type:{name:"InputProps"}},showFooter:{defaultValue:{value:"true"},description:"Нужно ли показывать футер",name:"showFooter",required:!1,type:{name:"boolean"}},nativeScrollbar:{defaultValue:null,description:"Нужно ли использовать нативный скроллбар",name:"nativeScrollbar",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},onApply:{defaultValue:null,description:"Обработчик подтверждения изменений",name:"onApply",required:!1,type:{name:"(() => void)"}},onClear:{defaultValue:null,description:"Обработчик отмены изменений",name:"onClear",required:!1,type:{name:"(() => void)"}},setHighlightedIndex:{defaultValue:null,description:"Указать индекс пункта для hover состояния",name:"setHighlightedIndex",required:!1,type:{name:"((index: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/components/virtual-options-list/Component.tsx#VirtualOptionsList"]={docgenInfo:VirtualOptionsList.__docgenInfo,name:"VirtualOptionsList",path:"packages/select/src/components/virtual-options-list/Component.tsx#VirtualOptionsList"})}catch(__react_docgen_typescript_loader_error){}var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),desktop=__webpack_require__("./dist/button/modern/desktop/index.js"),Component_Footer=function(_ref){var handleApply=_ref.handleApply,handleClear=_ref.handleClear,showClear=_ref.showClear,_ref$selectedDraft=_ref.selectedDraft,dataTestId=_ref.dataTestId;return(0,jsx_runtime.jsxs)("div",{tabIndex:0,className:"footer__dans",children:[(0,jsx_runtime.jsx)(desktop.ButtonDesktop,{size:32,view:"primary",onClick:handleApply,dataTestId:(0,shared_modern.getDataTestId)(dataTestId,"apply"),children:"Применить"}),showClear&&(void 0===_ref$selectedDraft?[]:_ref$selectedDraft).length>0&&(0,jsx_runtime.jsx)(desktop.ButtonDesktop,{size:32,view:"secondary",onClick:handleClear,dataTestId:(0,shared_modern.getDataTestId)(dataTestId,"clear"),children:"Сбросить"})]})};try{Component_Footer.displayName="Footer",Component_Footer.__docgenInfo={description:"",displayName:"Footer",props:{handleClear:{defaultValue:null,description:"",name:"handleClear",required:!1,type:{name:"(() => void)"}},handleApply:{defaultValue:null,description:"",name:"handleApply",required:!1,type:{name:"(() => void)"}},showClear:{defaultValue:null,description:"",name:"showClear",required:!1,type:{name:"boolean"}},selectedDraft:{defaultValue:{value:"[]"},description:"",name:"selectedDraft",required:!1,type:{name:"OptionShape[]"}},dataTestId:{defaultValue:null,description:"",name:"dataTestId",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/presets/useSelectWithApply/options-list-with-apply/footer/Component.tsx#Footer"]={docgenInfo:Component_Footer.__docgenInfo,name:"Footer",path:"packages/select/src/presets/useSelectWithApply/options-list-with-apply/footer/Component.tsx#Footer"})}catch(__react_docgen_typescript_loader_error){}var checkbox_modern=__webpack_require__("./dist/checkbox/modern/index.js"),Component_Header=function(_ref){var onChange=_ref.onChange,checked=_ref.checked,indeterminate=_ref.indeterminate,mobile=_ref.mobile;return(0,jsx_runtime.jsx)("div",{className:classnames_default()((0,defineProperty.Z)((0,defineProperty.Z)({},"desktop_eZJqs",!mobile),"mobile_yYgHP",mobile)),children:(0,jsx_runtime.jsx)(checkbox_modern.Checkbox,{block:!0,indeterminate:indeterminate,size:"m",onChange:onChange,checked:checked,label:"Выбрать все"})})};try{Component_Header.displayName="Header",Component_Header.__docgenInfo={description:"",displayName:"Header",props:{checked:{defaultValue:null,description:"",name:"checked",required:!1,type:{name:"boolean"}},indeterminate:{defaultValue:null,description:"",name:"indeterminate",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>, payload: { checked: boolean; name?: string; }) => void)"}},mobile:{defaultValue:null,description:"",name:"mobile",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx#Header"]={docgenInfo:Component_Header.__docgenInfo,name:"Header",path:"packages/select/src/presets/useSelectWithApply/options-list-with-apply/header/Component.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}var _excluded=["toggleMenu","getOptionProps","showClear","showHeaderWithSelectAll","selectedDraft","flatOptions","OptionsList","onApply","onClear","onClose","visibleOptions","Footer","Header","header","headerProps"],OptionsListWithApply=(0,react.forwardRef)(function(_ref,ref){var toggleMenu=_ref.toggleMenu,defaultGetOptionProps=_ref.getOptionProps,_ref$showClear=_ref.showClear,showHeaderWithSelectAll=_ref.showHeaderWithSelectAll,_ref$selectedDraft=_ref.selectedDraft,selectedDraft=void 0===_ref$selectedDraft?[]:_ref$selectedDraft,_ref$flatOptions=_ref.flatOptions,flatOptions=void 0===_ref$flatOptions?[]:_ref$flatOptions,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?options_list.M:_ref$OptionsList,_ref$onApply=_ref.onApply,onApply=void 0===_ref$onApply?function(){return null}:_ref$onApply,_ref$onClear=_ref.onClear,onClear=void 0===_ref$onClear?function(){return null}:_ref$onClear,_ref$onClose=_ref.onClose,onClose=void 0===_ref$onClose?function(){return null}:_ref$onClose,_ref$visibleOptions=_ref.visibleOptions,visibleOptions=void 0===_ref$visibleOptions?consts.j:_ref$visibleOptions,_ref$Footer=_ref.Footer,Footer=void 0===_ref$Footer?Component_Footer:_ref$Footer,_ref$Header=_ref.Header,Header=void 0===_ref$Header?Component_Header:_ref$Header,header=_ref.header,headerProps=_ref.headerProps,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),getOptionProps=(0,react.useCallback)(function(option,index){var optionProps=defaultGetOptionProps(option,index),selected=option.key===SELECT_ALL_KEY?selectedDraft.length===flatOptions.length-1:selectedDraft.some(function(_ref2){return _ref2.key===option.key});return(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionProps),{},{selected:selected})},[defaultGetOptionProps,flatOptions.length,selectedDraft]),handleApply=(0,react.useCallback)(function(){onApply(),toggleMenu()},[onApply,toggleMenu]),handleClear=(0,react.useCallback)(function(){onClear(),toggleMenu()},[onClear,toggleMenu]);return(0,react.useEffect)(function(){var activeElement=document.activeElement;return function(){onClose(),activeElement&&activeElement.focus()}},[]),(0,jsx_runtime.jsx)(OptionsList,(0,objectSpread2.Z)((0,objectSpread2.Z)({},restProps),{},{ref:ref,visibleOptions:visibleOptions,toggleMenu:toggleMenu,flatOptions:flatOptions,getOptionProps:getOptionProps,onApply:handleApply,onClear:handleClear,header:function(){if(showHeaderWithSelectAll||header)return(0,jsx_runtime.jsxs)(react.Fragment,{children:[header,showHeaderWithSelectAll&&(0,jsx_runtime.jsx)(Header,(0,objectSpread2.Z)({},headerProps))]})}(),footer:(0,jsx_runtime.jsx)(Footer,{handleApply:handleApply,handleClear:handleClear,showClear:void 0===_ref$showClear||_ref$showClear,selectedDraft:selectedDraft,dataTestId:null==restProps?void 0:restProps.dataTestId})}))});try{OptionsListWithApply.displayName="OptionsListWithApply",OptionsListWithApply.__docgenInfo={description:"",displayName:"OptionsListWithApply",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},scrollbarClassName:{defaultValue:null,description:"Дополнительный класс для скроллбара",name:"scrollbarClassName",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!0,type:{name:"ComponentType<OptionProps>"}},getOptionProps:{defaultValue:null,description:"Функция для получения пропсов для ячейки",name:"getOptionProps",required:!0,type:{name:"(option: OptionShape, index: number) => OptionProps"}},selectedItems:{defaultValue:null,description:"Список выбранных пунктов",name:"selectedItems",required:!1,type:{name:"OptionShape[]"}},setSelectedItems:{defaultValue:null,description:"Метод для ручной установки выбранных пунктов",name:"setSelectedItems",required:!0,type:{name:"(selected: OptionShape[]) => void"}},toggleMenu:{defaultValue:null,description:"Метод переключающий видимость выпадающего списка",name:"toggleMenu",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"Контент шапки",name:"header",required:!1,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"Контент футера",name:"footer",required:!1,type:{name:"ReactNode"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!1,type:{name:"(OptionShape | GroupShape)[]"}},flatOptions:{defaultValue:{value:"[]"},description:"Плоский список пунктов меню (например, нужно для виртуализации)",name:"flatOptions",required:!1,type:{name:"OptionShape[]"}},highlightedIndex:{defaultValue:null,description:"Индекс выделенного пункта",name:"highlightedIndex",required:!1,type:{name:"number"}},open:{defaultValue:null,description:"Флаг, открыто ли меню",name:"open",required:!1,type:{name:"boolean"}},Optgroup:{defaultValue:null,description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"ComponentType<OptgroupProps>"}},emptyPlaceholder:{defaultValue:null,description:"Будет отображаться, если компонент пустой",name:"emptyPlaceholder",required:!1,type:{name:"ReactNode"}},visibleOptions:{defaultValue:{value:"5"},description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},inputProps:{defaultValue:null,description:"Дополнительные пропсы для Input'a, находящегося внутри кастомного OptionsList",name:"inputProps",required:!1,type:{name:"InputProps"}},showFooter:{defaultValue:null,description:"Нужно ли показывать футер",name:"showFooter",required:!1,type:{name:"boolean"}},nativeScrollbar:{defaultValue:null,description:"Нужно ли использовать нативный скроллбар",name:"nativeScrollbar",required:!1,type:{name:"boolean"}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},onApply:{defaultValue:{value:"() => null"},description:"Обработчик подтверждения изменений",name:"onApply",required:!1,type:{name:"(() => void)"}},onClear:{defaultValue:{value:"() => null"},description:"Обработчик отмены изменений",name:"onClear",required:!1,type:{name:"(() => void)"}},setHighlightedIndex:{defaultValue:null,description:"Указать индекс пункта для hover состояния",name:"setHighlightedIndex",required:!1,type:{name:"((index: number) => void)"}},showClear:{defaultValue:{value:"true"},description:"",name:"showClear",required:!1,type:{name:"boolean"}},onClose:{defaultValue:{value:"() => null"},description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},selectedDraft:{defaultValue:{value:"[]"},description:"",name:"selectedDraft",required:!1,type:{name:"OptionShape[]"}},OptionsList:{defaultValue:{value:"forwardRef<HTMLDivElement, OptionsListProps>(\n    (\n        {\n            size = 48,\n            className,\n            optionGroupClassName,\n            scrollbarClassName,\n            Option,\n            getOptionProps,\n            options = [],\n            Optgroup = DefaultOptgroup,\n            dataTestId,\n            emptyPlaceholder,\n            visibleOptions = DEFAULT_VISIBLE_OPTIONS,\n            onScroll,\n            open,\n            header,\n            footer,\n            showFooter = true,\n            optionsListWidth,\n            nativeScrollbar: nativeScrollbarProp,\n            flatOptions = [],\n            setHighlightedIndex,\n        },\n        ref,\n    ) => {\n        const [scrollTop, setScrollTop] = useState(true);\n        const [scrollBottom, setScrollBottom] = useState(false);\n\n        const query = '(max-width: 1023px)';\n        let [nativeScrollbar] = useMatchMedia(query, () =>\n            isClient() ? window.matchMedia(query).matches : true,\n        );\n\n        nativeScrollbar = Boolean(nativeScrollbarProp ?? nativeScrollbar);\n\n        const handleScroll = useCallback(\n            (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n                const scrolledToHeader = event.currentTarget.scrollTop <= 0;\n                const scrolledToFooter =\n                    event.currentTarget.scrollHeight - event.currentTarget.offsetHeight <=\n                    event.currentTarget.scrollTop;\n\n                setScrollTop(scrolledToHeader);\n                setScrollBottom(scrolledToFooter);\n\n                onScroll?.(event);\n            },\n            [onScroll],\n        );\n\n        const renderOption = (option: OptionShape, index: number) => (\n            <Option key={option.key} {...getOptionProps(option, index)} />\n        );\n\n        const listRef = useRef<HTMLDivElement>(null);\n        const scrollbarRef = useRef<HTMLDivElement>(null);\n        const counter = createCounter();\n        const renderGroup = (group: GroupShape) => (\n            <Optgroup\n                className={optionGroupClassName}\n                label={group.label}\n                key={group.label}\n                size={size}\n            >\n                {group.options.map((option) => renderOption(option, counter()))}\n            </Optgroup>\n        );\n\n        useVisibleOptions({\n            ...(!nativeScrollbar && { styleTargetRef: scrollbarRef }),\n            visibleOptions,\n            listRef,\n            open,\n            invalidate: options,\n        });\n\n        if (options.length === 0 && !emptyPlaceholder && !header && !footer) {\n            return null;\n        }\n\n        const renderListItems = () => (\n            <React.Fragment>\n                {options.map((option) =>\n                    isGroup(option) ? renderGroup(option) : renderOption(option, counter()),\n                )}\n\n                {emptyPlaceholder && options.length === 0 && (\n                    <div className={styles.emptyPlaceholder}>{emptyPlaceholder}</div>\n                )}\n            </React.Fragment>\n        );\n\n        const renderWithCustomScrollbar = () => {\n            const scrollableNodeProps = {\n                onScroll: handleScroll,\n                'data-test-id': dataTestId,\n                ref: ref as React.RefObject<HTMLDivElement>,\n            };\n\n            return (\n                <Scrollbar\n                    className={cn(styles.scrollable, scrollbarClassName)}\n                    ref={scrollbarRef}\n                    horizontalAutoStretch={optionsListWidth === 'content'}\n                    scrollableNodeProps={scrollableNodeProps}\n                    contentNodeProps={{ ref: listRef }}\n                >\n                    {renderListItems()}\n                </Scrollbar>\n            );\n        };\n\n        const renderWithNativeScrollbar = () => (\n            <div\n                className={cn(styles.scrollable, scrollbarClassName)}\n                ref={mergeRefs([listRef, ref])}\n                onScroll={handleScroll}\n            >\n                {renderListItems()}\n            </div>\n        );\n\n        const resetHighlightedIndex = () => setHighlightedIndex?.(-1);\n\n        return (\n            <div\n                {...(nativeScrollbar && { 'data-test-id': dataTestId })}\n                className={cn(styles.optionsList, styles[SIZE_TO_CLASSNAME_MAP[size]], className)}\n            >\n                {header && (\n                    <div\n                        className={cn(styles.optionsListHeader, {\n                            [styles.headerHighlighted]: !scrollTop,\n                        })}\n                        onMouseEnter={resetHighlightedIndex}\n                    >\n                        {header}\n                    </div>\n                )}\n\n                {nativeScrollbar ? renderWithNativeScrollbar() : renderWithCustomScrollbar()}\n\n                {showFooter && footer && (\n                    <div\n                        onMouseEnter={resetHighlightedIndex}\n                        className={cn(styles.optionsListFooter, {\n                            [styles.withBorder]:\n                                visibleOptions &&\n                                flatOptions.length > visibleOptions &&\n                                !scrollBottom,\n                        })}\n                    >\n                        {footer}\n                    </div>\n                )}\n            </div>\n        );\n    },\n)"},description:"",name:"OptionsList",required:!1,type:{name:"FC<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Footer:{defaultValue:{value:"({\n    handleApply,\n    handleClear,\n    showClear,\n    selectedDraft = [],\n    dataTestId,\n}: FooterProps) => (\n    <div\n        // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n        tabIndex={0}\n        className={styles.footer}\n    >\n        <ButtonDesktop\n            size={32}\n            view='primary'\n            onClick={handleApply}\n            dataTestId={getDataTestId(dataTestId, 'apply')}\n        >\n            Применить\n        </ButtonDesktop>\n\n        {showClear && selectedDraft.length > 0 && (\n            <ButtonDesktop\n                size={32}\n                view='secondary'\n                onClick={handleClear}\n                dataTestId={getDataTestId(dataTestId, 'clear')}\n            >\n                Сбросить\n            </ButtonDesktop>\n        )}\n    </div>\n)"},description:"",name:"Footer",required:!1,type:{name:"FC<FooterProps>"}},Header:{defaultValue:{value:"({ onChange, checked, indeterminate, mobile }) => (\n    <div className={cn({ [styles.desktop]: !mobile, [styles.mobile]: mobile })}>\n        <Checkbox\n            block={true}\n            indeterminate={indeterminate}\n            size='m'\n            onChange={onChange}\n            checked={checked}\n            label='Выбрать все'\n        />\n    </div>\n)"},description:"",name:"Header",required:!1,type:{name:"FC<HeaderProps>"}},headerProps:{defaultValue:null,description:"",name:"headerProps",required:!1,type:{name:"HeaderProps"}},showHeaderWithSelectAll:{defaultValue:null,description:"",name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/presets/useSelectWithApply/options-list-with-apply/Component.tsx#OptionsListWithApply"]={docgenInfo:OptionsListWithApply.__docgenInfo,name:"OptionsListWithApply",path:"packages/select/src/presets/useSelectWithApply/options-list-with-apply/Component.tsx#OptionsListWithApply"})}catch(__react_docgen_typescript_loader_error){}var hook_excluded=["initiator"],SELECT_ALL_KEY="select_all",selectAllOption={key:SELECT_ALL_KEY,content:"Выбрать все"};function useSelectWithApply(_ref){var options=_ref.options,selected=_ref.selected,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?function(){return null}:_ref$onChange,OptionsList=_ref.OptionsList,_ref$optionsListProps=_ref.optionsListProps,optionsListProps=void 0===_ref$optionsListProps?{}:_ref$optionsListProps,_ref$showClear=_ref.showClear,showClear=void 0===_ref$showClear||_ref$showClear,_ref$showSelectAll=_ref.showSelectAll,showSelectAll=void 0!==_ref$showSelectAll&&_ref$showSelectAll,_ref$showHeaderWithSe=_ref.showHeaderWithSelectAll,showHeaderWithSelectAll=void 0!==_ref$showHeaderWithSe&&_ref$showHeaderWithSe,showSearch=_ref.showSearch,_ref$searchProps=_ref.searchProps,searchProps=void 0===_ref$searchProps?{}:_ref$searchProps,_useState=(0,react.useState)(""),_useState2=(0,slicedToArray.Z)(_useState,2),searchState=_useState2[0],setSearchState=_useState2[1],_ref2="string"==typeof(null==searchProps?void 0:searchProps.value)?[searchProps.value,searchProps.onChange]:[searchState,setSearchState],_ref3=(0,slicedToArray.Z)(_ref2,2),search=_ref3[0],setSearch=_ref3[1],accessor=searchProps.accessor||utils.uj,filterFn=searchProps.filterFn||utils.B_,_useMemo=(0,react.useMemo)(function(){return(0,utils.jW)(options,selected,showSearch?function(option){return filterFn(accessor(option),search)}:void 0)},[filterFn,accessor,options,search,selected,showSearch]),flatOptions=_useMemo.flatOptions,selectedOptions=_useMemo.selectedOptions,_useState3=(0,react.useState)(selectedOptions),_useState4=(0,slicedToArray.Z)(_useState3,2),selectedDraft=_useState4[0],setSelectedDraft=_useState4[1],selectedOptionsRef=(0,react.useRef)(selectedOptions);(0,react.useEffect)(function(){setSelectedDraft(selectedOptions),selectedOptionsRef.current=selectedOptions},[selectedOptions]);var memoizedOptions=(0,react.useMemo)(function(){return showSelectAll?[selectAllOption].concat((0,toConsumableArray.Z)(options)):options},[options,showSelectAll]);return{OptionsList:OptionsListWithApply,optionsListProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionsListProps),{},{OptionsList:OptionsList,showClear:showClear,onClear:function(){setSelectedDraft([]),onChange({selected:null,selectedMultiple:[],initiator:null})},onApply:function(){onChange({selected:selectedDraft[0],selectedMultiple:selectedDraft,initiator:null})},onClose:function(){return setSelectedDraft(selectedOptionsRef.current)},selectedDraft:selectedDraft,showHeaderWithSelectAll:showHeaderWithSelectAll,headerProps:{indeterminate:!!selectedDraft.length&&selectedDraft.length<flatOptions.length,checked:selectedDraft.length===flatOptions.length,onChange:function(){setSelectedDraft(flatOptions.length===selectedDraft.length?[]:flatOptions)}}}),allowUnselect:!0,multiple:!0,options:memoizedOptions,onChange:function(_ref4){var initiator=_ref4.initiator,restArgs=(0,objectWithoutProperties.Z)(_ref4,hook_excluded);if(!initiator){onChange((0,objectSpread2.Z)({initiator:null},restArgs));return}var initiatorSelected=selectedDraft.includes(initiator)||initiator.key===SELECT_ALL_KEY&&selectedDraft.length===flatOptions.length;initiator.key===SELECT_ALL_KEY?setSelectedDraft(initiatorSelected?[]:flatOptions):setSelectedDraft(initiatorSelected?selectedDraft.filter(function(o){return o!==initiator}):selectedDraft.concat(initiator))},selected:selected,showSearch:showSearch,searchProps:showSearch?(0,objectSpread2.Z)((0,objectSpread2.Z)({},searchProps),{},{value:search,onChange:setSearch}):void 0,originalProps:{options:options,selected:selected,onChange:onChange,OptionsList:OptionsList,optionsListProps:optionsListProps,showClear:showClear,showSelectAll:showSelectAll,showHeaderWithSelectAll:showHeaderWithSelectAll,showSearch:showSearch,searchProps:searchProps}}}try{useSelectWithApply.displayName="useSelectWithApply",useSelectWithApply.__docgenInfo={description:"",displayName:"useSelectWithApply",props:{selected:{defaultValue:null,description:"Список выбранных пунктов",name:"selected",required:!0,type:{name:"string | OptionShape | (string | OptionShape)[] | null | undefined"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},onChange:{defaultValue:{value:"() => null"},description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},OptionsList:{defaultValue:null,description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"ComponentType<OptionsListProps & RefAttributes<HTMLDivElement>>"}},optionsListProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},showSearch:{defaultValue:null,description:"Включает отображение поиска",name:"showSearch",required:!1,type:{name:"boolean"}},searchProps:{defaultValue:{value:"{}"},description:"Настройки поиска",name:"searchProps",required:!1,type:{name:"{ componentProps?: SearchProps; accessor?: ((option: OptionShape) => string); filterFn?: ((optionText: string, search: string) => boolean) | undefined; value?: string | undefined; onChange?: ((value: string) => void) | undefined; } | undefined"}},showClear:{defaultValue:{value:"true"},description:"Показывать кнопку очистки",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:{value:"false"},description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},showHeaderWithSelectAll:{defaultValue:{value:"false"},description:'Показывать пункт "Выбрать все" в заголовке списка',name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/presets/useSelectWithApply/hook.tsx#useSelectWithApply"]={docgenInfo:useSelectWithApply.__docgenInfo,name:"useSelectWithApply",path:"packages/select/src/presets/useSelectWithApply/hook.tsx#useSelectWithApply"})}catch(__react_docgen_typescript_loader_error){}var Component_mobile_excluded=["autocomplete","multiple","allowUnselect","disabled","closeOnSelect","circularNavigation","defaultOpen","open","size","optionsSize","fieldProps","optionProps","optionsListProps","Arrow","Field","Optgroup","Option","Search","selected","isBottomSheet","options","OptionsList","onChange","showClear","showSelectAll","showHeaderWithSelectAll","useWithApplyHook","showSearch","searchProps"],SelectMobile=(0,react.forwardRef)(function(_ref,ref){var _ref$autocomplete=_ref.autocomplete,_ref$multiple=_ref.multiple,multiple=void 0!==_ref$multiple&&_ref$multiple,_ref$allowUnselect=_ref.allowUnselect,_ref$disabled=_ref.disabled,_ref$closeOnSelect=_ref.closeOnSelect,closeOnSelect=void 0===_ref$closeOnSelect?!multiple:_ref$closeOnSelect,_ref$circularNavigati=_ref.circularNavigation,_ref$defaultOpen=_ref.defaultOpen,openProp=_ref.open,_ref$size=_ref.size,_ref$optionsSize=_ref.optionsSize,_ref$fieldProps=_ref.fieldProps,_ref$optionProps=_ref.optionProps,_ref$optionsListProps=_ref.optionsListProps,optionsListProps=void 0===_ref$optionsListProps?{}:_ref$optionsListProps,_ref$Arrow=_ref.Arrow,Arrow=void 0===_ref$Arrow?arrow.E:_ref$Arrow,_ref$Field=_ref.Field,Field=void 0===_ref$Field?field.g:_ref$Field,_ref$Optgroup=_ref.Optgroup,Optgroup=void 0===_ref$Optgroup?optgroup.t:_ref$Optgroup,_ref$Option=_ref.Option,Option=void 0===_ref$Option?components_option.W:_ref$Option,_ref$Search=_ref.Search,Search=void 0===_ref$Search?search.o:_ref$Search,selected=_ref.selected,_ref$isBottomSheet=_ref.isBottomSheet,isBottomSheet=void 0===_ref$isBottomSheet||_ref$isBottomSheet,options=_ref.options,_ref$OptionsList=_ref.OptionsList,OptionsList=void 0===_ref$OptionsList?options.length>30?VirtualOptionsList:options_list.M:_ref$OptionsList,onChange=_ref.onChange,_ref$showClear=_ref.showClear,showSelectAll=_ref.showSelectAll,showHeaderWithSelectAll=_ref.showHeaderWithSelectAll,_ref$useWithApplyHook=_ref.useWithApplyHook,useWithApplyHook=void 0===_ref$useWithApplyHook?multiple:_ref$useWithApplyHook,showSearch=_ref.showSearch,searchProps=_ref.searchProps,restProps=(0,objectWithoutProperties.Z)(_ref,Component_mobile_excluded),applyProps=useSelectWithApply({optionsListProps:(0,objectSpread2.Z)((0,objectSpread2.Z)({},optionsListProps),{},{Footer:Footer}),OptionsList:OptionsList,showSearch:showSearch,searchProps:searchProps,selected:selected,options:options,onChange:onChange,showClear:void 0===_ref$showClear||_ref$showClear,showSelectAll:showSelectAll}),bottomAddons=useWithApplyHook&&showHeaderWithSelectAll&&(0,jsx_runtime.jsx)(Component_Header,(0,objectSpread2.Z)((0,objectSpread2.Z)({},applyProps.optionsListProps.headerProps),{},{mobile:!0}));return(0,jsx_runtime.jsx)(base_select.A,(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({ref:ref,view:"mobile",autocomplete:void 0!==_ref$autocomplete&&_ref$autocomplete,multiple:multiple,allowUnselect:void 0!==_ref$allowUnselect&&_ref$allowUnselect,disabled:void 0!==_ref$disabled&&_ref$disabled,closeOnSelect:closeOnSelect,circularNavigation:void 0!==_ref$circularNavigati&&_ref$circularNavigati,defaultOpen:void 0!==_ref$defaultOpen&&_ref$defaultOpen,open:openProp,size:void 0===_ref$size?56:_ref$size,optionsSize:void 0===_ref$optionsSize?56:_ref$optionsSize,fieldProps:(0,objectSpread2.Z)({FormControlComponent:mobile.FormControlMobile},void 0===_ref$fieldProps?{}:_ref$fieldProps),optionProps:void 0===_ref$optionProps?{}:_ref$optionProps,Arrow:Arrow,Field:Field,Optgroup:Optgroup,Option:Option,Search:Search,isBottomSheet:isBottomSheet,options:options,selected:selected,onChange:onChange,OptionsList:OptionsList,showSearch:showSearch,searchProps:searchProps,BottomSheet:modern.BottomSheet,ModalMobile:modern_mobile.ModalMobile},isBottomSheet?{bottomSheetProps:(0,objectSpread2.Z)({bottomAddons:bottomAddons},restProps.bottomSheetProps)}:{modalHeaderProps:(0,objectSpread2.Z)({bottomAddons:bottomAddons},restProps.modalHeaderProps)}),{},{optionsListProps:optionsListProps},restProps),useWithApplyHook&&applyProps))});try{SelectMobile.displayName="SelectMobile",SelectMobile.__docgenInfo={description:"",displayName:"SelectMobile",props:{size:{defaultValue:{value:"56"},description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},disabled:{defaultValue:{value:"false"},description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Обработчик фокуса поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Обработчик блюра поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования.\nДля пункта меню используется модификатор -option, компонента поиска -search,\nкомпонента выпадающего меню -options-list, компонента BottomSheet -bottom-sheet,\nкомпонента поля -field, компонета FormControl -field-form-control",name:"dataTestId",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},popoverProps:{defaultValue:null,description:"Дополнительные пропсы для Popover",name:"popoverProps",required:!1,type:{name:'Omit<PopoverProps, "className" | "dataTestId" | "open" | "position" | "zIndex" | "update" | "anchorElement" | "preventFlip">'}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<(() => void)>"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},fieldProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},defaultOpen:{defaultValue:{value:"false"},description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},optionsSize:{defaultValue:{value:"56"},description:"Размер пунктов меню\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},autocomplete:{defaultValue:{value:"false"},description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},allowUnselect:{defaultValue:{value:"false"},description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:{value:"!multiple"},description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:{value:"false"},description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:{value:"({ open, className }: ArrowProps) => (\n    <ChevronDownMIcon className={cn(styles.arrow, className, { [styles.open]: open })} />\n)"},description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | ComponentType<ArrowProps> | null"}},Field:{defaultValue:{value:"({\n    size = 56,\n    open,\n    multiple,\n    error,\n    hint,\n    disabled,\n    label,\n    labelView = 'inner',\n    placeholder,\n    selectedMultiple = [],\n    selected,\n    rightAddons,\n    valueRenderer = joinOptions,\n    setSelectedItems,\n    toggleMenu,\n    Arrow,\n    innerProps,\n    dataTestId,\n    fieldClassName,\n    FormControlComponent,\n    ...restProps\n}: BaseFieldProps & FormControlProps & FieldProps) => {\n    const [focused, setFocused] = useState(false);\n\n    const wrapperRef = useRef<HTMLDivElement>(null);\n\n    const [focusVisible] = useFocus(wrapperRef, 'keyboard');\n\n    const handleFocus = useCallback(() => setFocused(true), []);\n    const handleBlur = useCallback(() => setFocused(false), []);\n\n    const value = valueRenderer({ selected, selectedMultiple });\n\n    const filled = Boolean(value);\n    const showLabel = !!label || labelView === 'outer';\n    const showPlaceholder = !!placeholder && !filled && (open || !label || labelView === 'outer');\n\n    return (\n        <div\n            className={styles.component}\n            ref={wrapperRef}\n            onFocus={handleFocus}\n            onBlur={handleBlur}\n        >\n            {FormControlComponent ? (\n                <FormControlComponent\n                    dataTestId={getDataTestId(dataTestId, 'form-control')}\n                    fieldClassName={cn(styles.field, fieldClassName, {\n                        [styles.disabled]: disabled,\n                        [styles.focusVisible]: focusVisible,\n                    })}\n                    block={true}\n                    size={size}\n                    focused={focused || open}\n                    disabled={disabled}\n                    filled={filled || (!!placeholder && open)}\n                    label={showLabel && label}\n                    labelView={labelView}\n                    error={error}\n                    hint={hint}\n                    rightAddons={\n                        (Arrow || rightAddons) && (\n                            <React.Fragment>\n                                {rightAddons}\n                                {/* TODO: стоит переделать, но это будет мажорка */}\n                                {Arrow\n                                    ? React.cloneElement(Arrow, { className: styles.arrow })\n                                    : null}\n                            </React.Fragment>\n                        )\n                    }\n                    data-test-id={dataTestId}\n                    {...restProps}\n                    {...innerProps}\n                >\n                    <div className={styles.contentWrapper}>\n                        {showPlaceholder && (\n                            <span\n                                className={cn(styles.placeholder, {\n                                    [styles.focused]: focused || open,\n                                })}\n                            >\n                                {placeholder}\n                            </span>\n                        )}\n                        {filled && <div className={styles.value}>{value}</div>}\n                    </div>\n                </FormControlComponent>\n            ) : null}\n        </div>\n    );\n}"},description:"Компонент поля",name:"Field",required:!1,type:{name:"ComponentType<FieldProps>"}},optionsListProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:{value:"{}"},description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:{value:"options.length > VIRTUAL_OPTIONS_LIST_THRESHOLD\n                ? DefaultVirtualOptionsList\n                : DefaultOptionsList"},description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"ComponentType<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:{value:"({ children, className, label, size = 48 }: OptgroupProps) => (\n    <React.Fragment>\n        <div className={cn(styles.optgroup, className, styles[SIZE_TO_CLASSNAME_MAP[size]])}>\n            <span className={styles.label}>{label}</span>\n        </div>\n        {children}\n    </React.Fragment>\n)"},description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"ComponentType<OptgroupProps>"}},Option:{defaultValue:{value:"({\n    size = 48,\n    className,\n    option,\n    children,\n    selected,\n    highlighted,\n    disabled,\n    multiple,\n    mobile,\n    Checkmark = mobile ? DefaultMobileCheckmark : DefaultCheckMark,\n    innerProps,\n    dataTestId,\n}) => {\n    const content = children || option.content || option.key;\n    const { showCheckMark = true } = option;\n\n    return (\n        <div\n            {...innerProps}\n            className={cn(styles.option, styles[SIZE_TO_CLASSNAME_MAP[size]], className, {\n                [styles.highlighted]: !mobile && highlighted,\n                [styles.selected]: selected,\n                [styles.disabled]: disabled,\n            })}\n            data-test-id={dataTestId}\n        >\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='before'\n                />\n            )}\n\n            <div\n                className={cn(styles.content, {\n                    [styles.textContent]: !isValidElement(content),\n                })}\n            >\n                {content}\n            </div>\n\n            {/** Workaround чтобы для клика показывать отметку справа и всегда в виде иконки */}\n            {Checkmark && showCheckMark && (\n                <Checkmark\n                    disabled={disabled}\n                    selected={selected}\n                    multiple={multiple}\n                    position='after'\n                />\n            )}\n        </div>\n    );\n}"},description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"ComponentType<OptionProps>"}},showSearch:{defaultValue:null,description:"Включает отображение поиска",name:"showSearch",required:!1,type:{name:"boolean"}},Search:{defaultValue:{value:"forwardRef<HTMLInputElement, SearchProps>(\n    (\n        {\n            clear = true,\n            placeholder = 'Поиск',\n            className,\n            leftAddons = <MagnifierMIcon color='#86868A' />,\n            ...restProps\n        },\n        ref,\n    ) => (\n        <Input\n            ref={ref}\n            className={cn(styles.component, className)}\n            placeholder={placeholder}\n            leftAddons={leftAddons}\n            clear={clear}\n            {...restProps}\n        />\n    ),\n)"},description:"Компонент поиска",name:"Search",required:!1,type:{name:"ComponentType<SearchProps>"}},searchProps:{defaultValue:null,description:"Настройки поиска",name:"searchProps",required:!1,type:{name:"{ componentProps?: SearchProps; accessor?: ((option: OptionShape) => string); filterFn?: ((optionText: string, search: string) => boolean) | undefined; value?: string | undefined; onChange?: ((value: string) => void) | undefined; } | undefined"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},showClear:{defaultValue:{value:"true"},description:"Показывать кнопку 'Сбросить' в футере мобильного компонента",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},showHeaderWithSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все" в заголовке списка у мобильного компонента',name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}},useWithApplyHook:{defaultValue:{value:"false"},description:"Использовать ли хук useSelectWithApply в мобильном компоненте",name:"useWithApplyHook",required:!1,type:{name:"boolean"}},isBottomSheet:{defaultValue:{value:"true"},description:"",name:"isBottomSheet",required:!1,type:{name:"boolean"}},footer:{defaultValue:null,description:"Футер\n@deprecated Используйте bottomSheetProps.actionButton",name:"footer",required:!1,type:{name:"ReactNode"}},swipeable:{defaultValue:null,description:"Будет ли свайпаться шторка\n@deprecated Используйте bottomSheetProps.swipeable",name:"swipeable",required:!1,type:{name:"boolean"}},bottomSheetProps:{defaultValue:null,description:"Дополнительные пропсы шторки",name:"bottomSheetProps",required:!1,type:{name:"Partial<BottomSheetProps>"}},modalHeaderProps:{defaultValue:null,description:"Дополнительные пропсы шапки модалки",name:"modalHeaderProps",required:!1,type:{name:"Partial<HeaderProps>"}},modalProps:{defaultValue:null,description:"Дополнительные пропсы модалки",name:"modalProps",required:!1,type:{name:'Partial<BaseModalProps & { size?: "s" | "m" | "l" | "xl" | "fullscreen" | 500 | 600 | 800 | 1140; fullscreen?: boolean; fixedPosition?: boolean | undefined; hasCloser?: boolean | undefined; iOSLock?: boolean | undefined; } & { ...; } & RefAttributes<...>> | undefined'}},modalFooterProps:{defaultValue:null,description:"Дополнительные пропсы футера модалки",name:"modalFooterProps",required:!1,type:{name:"Partial<FooterProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/mobile/Component.mobile.tsx#SelectMobile"]={docgenInfo:SelectMobile.__docgenInfo,name:"SelectMobile",path:"packages/select/src/mobile/Component.mobile.tsx#SelectMobile"})}catch(__react_docgen_typescript_loader_error){}var SelectModalMobile=(0,react.forwardRef)(function(props,ref){return(0,jsx_runtime.jsx)(SelectMobile,(0,objectSpread2.Z)((0,objectSpread2.Z)({},props),{},{isBottomSheet:!1,ref:ref}))});try{SelectModalMobile.displayName="SelectModalMobile",SelectModalMobile.__docgenInfo={description:"",displayName:"SelectModalMobile",props:{size:{defaultValue:null,description:"Размер компонента\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"size",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},onChange:{defaultValue:null,description:"Обработчик выбора",name:"onChange",required:!1,type:{name:"((payload: BaseSelectChangePayload) => void)"}},disabled:{defaultValue:null,description:"Управление возможностью выбора значения",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"Возможность выбрать несколько значений",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Атрибут name",name:"name",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"Плейсхолдер поля",name:"placeholder",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Атрибут id",name:"id",required:!1,type:{name:"string"}},onFocus:{defaultValue:null,description:"Обработчик фокуса поля",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onBlur:{defaultValue:null,description:"Обработчик блюра поля",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLInputElement | HTMLDivElement, Element>) => void)"}},onScroll:{defaultValue:null,description:"Обработчик скрола",name:"onScroll",required:!1,type:{name:"((event: MouseEvent<HTMLDivElement, MouseEvent>) => void)"}},block:{defaultValue:null,description:"Растягивает компонент на ширину контейнера",name:"block",required:!1,type:{name:"boolean"}},error:{defaultValue:null,description:"Отображение ошибки",name:"error",required:!1,type:{name:"ReactNode"}},hint:{defaultValue:null,description:"Подсказка под полем",name:"hint",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"Лейбл поля",name:"label",required:!1,type:{name:"ReactNode"}},labelView:{defaultValue:null,description:"Вид лейбла внутри / снаружи",name:"labelView",required:!1,type:{name:"enum",value:[{value:'"inner"'},{value:'"outer"'}]}},fieldClassName:{defaultValue:null,description:"Дополнительный класс для поля",name:"fieldClassName",required:!1,type:{name:"string"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования.\nДля пункта меню используется модификатор -option, компонента поиска -search,\nкомпонента выпадающего меню -options-list, компонента BottomSheet -bottom-sheet,\nкомпонента поля -field, компонета FormControl -field-form-control",name:"dataTestId",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Управление открытием",name:"open",required:!1,type:{name:"boolean"}},popoverProps:{defaultValue:null,description:"Дополнительные пропсы для Popover",name:"popoverProps",required:!1,type:{name:'Omit<PopoverProps, "className" | "dataTestId" | "open" | "position" | "zIndex" | "update" | "anchorElement" | "preventFlip">'}},onOpen:{defaultValue:null,description:"Обработчик открытия\\закрытия селекта",name:"onOpen",required:!1,type:{name:"((payload: { open?: boolean; name?: string; }) => void) | undefined"}},updatePopover:{defaultValue:null,description:"Хранит функцию, с помощью которой можно обновить положение поповера",name:"updatePopover",required:!1,type:{name:"MutableRefObject<(() => void)>"}},preventFlip:{defaultValue:null,description:"Запрещает поповеру менять свою позицию.\nНапример, если места снизу недостаточно,то он все равно будет показан снизу",name:"preventFlip",required:!1,type:{name:"boolean"}},selected:{defaultValue:null,description:"Список value выбранных пунктов (controlled-селект)",name:"selected",required:!1,type:{name:"string | OptionShape | (string | OptionShape)[] | null"}},fieldProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент поля",name:"fieldProps",required:!1,type:{name:"unknown"}},optionsListClassName:{defaultValue:null,description:"Дополнительный класс выпадающего меню",name:"optionsListClassName",required:!1,type:{name:"string"}},optionClassName:{defaultValue:null,description:"Дополнительный класс для пункта меню",name:"optionClassName",required:!1,type:{name:"string"}},optionGroupClassName:{defaultValue:null,description:"Дополнительный класс для компонента группы пунктов",name:"optionGroupClassName",required:!1,type:{name:"string"}},popperClassName:{defaultValue:null,description:"Дополнительный класс для поповера",name:"popperClassName",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"Список вариантов выбора",name:"options",required:!0,type:{name:"(OptionShape | GroupShape)[]"}},defaultOpen:{defaultValue:null,description:"Начальное состояние селекта",name:"defaultOpen",required:!1,type:{name:"boolean"}},optionsSize:{defaultValue:null,description:"Размер пунктов меню\n@description s, m, l, xl deprecated, используйте вместо них 48, 56, 64, 72 соответственно",name:"optionsSize",required:!1,type:{name:"enum",value:[{value:'"s"'},{value:'"m"'},{value:'"l"'},{value:'"xl"'},{value:"48"},{value:"56"},{value:"64"},{value:"72"}]}},optionsListWidth:{defaultValue:null,description:"Управляет шириной выпадающего меню.\nШирину определяет контент, либо ширина равна ширине поля",name:"optionsListWidth",required:!1,type:{name:"enum",value:[{value:'"content"'},{value:'"field"'}]}},autocomplete:{defaultValue:null,description:"Возможность использовать селект как input-autocomplete",name:"autocomplete",required:!1,type:{name:"boolean"}},allowUnselect:{defaultValue:null,description:"Позволяет снять выбранное значение",name:"allowUnselect",required:!1,type:{name:"boolean"}},closeOnSelect:{defaultValue:null,description:"Закрывать меню после выбора?",name:"closeOnSelect",required:!1,type:{name:"boolean"}},circularNavigation:{defaultValue:null,description:"При навигации с клавиатуры переходить от последнего пункта меню к первому и наоборот.",name:"circularNavigation",required:!1,type:{name:"boolean"}},nativeSelect:{defaultValue:null,description:"Рендерит нативный селект вместо выпадающего меню. (на десктопе использовать только с multiple=false)",name:"nativeSelect",required:!1,type:{name:"boolean"}},popoverPosition:{defaultValue:null,description:"Позиционирование выпадающего списка",name:"popoverPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"right"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},visibleOptions:{defaultValue:null,description:"Количество видимых пунктов меню (5 = 5.5)",name:"visibleOptions",required:!1,type:{name:"number"}},valueRenderer:{defaultValue:null,description:"Кастомный рендер выбранного пункта",name:"valueRenderer",required:!1,type:{name:"(({ selected, selectedMultiple, }: { selected?: OptionShape; selectedMultiple: OptionShape[]; }) => ReactNode)"}},Arrow:{defaultValue:null,description:"Компонент стрелки",name:"Arrow",required:!1,type:{name:"false | ComponentType<ArrowProps> | null"}},Field:{defaultValue:null,description:"Компонент поля",name:"Field",required:!1,type:{name:"ComponentType<FieldProps>"}},optionsListProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент списка",name:"optionsListProps",required:!1,type:{name:"unknown"}},optionProps:{defaultValue:null,description:"Пропсы, которые будут прокинуты в компонент пункта меню",name:"optionProps",required:!1,type:{name:"unknown"}},OptionsList:{defaultValue:null,description:"Компонент выпадающего меню",name:"OptionsList",required:!1,type:{name:"ComponentType<OptionsListProps & RefAttributes<HTMLDivElement>>"}},Optgroup:{defaultValue:null,description:"Компонент группы",name:"Optgroup",required:!1,type:{name:"ComponentType<OptgroupProps>"}},Option:{defaultValue:null,description:"Компонент пункта меню",name:"Option",required:!1,type:{name:"ComponentType<OptionProps>"}},showSearch:{defaultValue:null,description:"Включает отображение поиска",name:"showSearch",required:!1,type:{name:"boolean"}},Search:{defaultValue:null,description:"Компонент поиска",name:"Search",required:!1,type:{name:"ComponentType<SearchProps>"}},searchProps:{defaultValue:null,description:"Настройки поиска",name:"searchProps",required:!1,type:{name:"{ componentProps?: SearchProps; accessor?: ((option: OptionShape) => string); filterFn?: ((optionText: string, search: string) => boolean) | undefined; value?: string | undefined; onChange?: ((value: string) => void) | undefined; } | undefined"}},zIndexPopover:{defaultValue:null,description:"z-index поповера",name:"zIndexPopover",required:!1,type:{name:"number"}},showEmptyOptionsList:{defaultValue:null,description:"Показывать OptionsList, если он пустой",name:"showEmptyOptionsList",required:!1,type:{name:"boolean"}},showClear:{defaultValue:null,description:"Показывать кнопку 'Сбросить' в футере мобильного компонента",name:"showClear",required:!1,type:{name:"boolean"}},showSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все"',name:"showSelectAll",required:!1,type:{name:"boolean"}},showHeaderWithSelectAll:{defaultValue:null,description:'Показывать пункт "Выбрать все" в заголовке списка у мобильного компонента',name:"showHeaderWithSelectAll",required:!1,type:{name:"boolean"}},useWithApplyHook:{defaultValue:null,description:"Использовать ли хук useSelectWithApply в мобильном компоненте",name:"useWithApplyHook",required:!1,type:{name:"boolean"}},modalHeaderProps:{defaultValue:null,description:"Дополнительные пропсы шапки модалки",name:"modalHeaderProps",required:!1,type:{name:"Partial<HeaderProps>"}},modalProps:{defaultValue:null,description:"Дополнительные пропсы модалки",name:"modalProps",required:!1,type:{name:'Partial<BaseModalProps & { size?: "s" | "m" | "l" | "xl" | "fullscreen" | 500 | 600 | 800 | 1140; fullscreen?: boolean; fixedPosition?: boolean | undefined; hasCloser?: boolean | undefined; iOSLock?: boolean | undefined; } & { ...; } & RefAttributes<...>> | undefined'}},modalFooterProps:{defaultValue:null,description:"Дополнительные пропсы футера модалки",name:"modalFooterProps",required:!1,type:{name:"Partial<FooterProps>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/select/src/mobile/Component.modal.mobile.tsx#SelectModalMobile"]={docgenInfo:SelectModalMobile.__docgenInfo,name:"SelectModalMobile",path:"packages/select/src/mobile/Component.modal.mobile.tsx#SelectModalMobile"})}catch(__react_docgen_typescript_loader_error){}},"./packages/select/src/utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{B_:function(){return defaultFilterFn},D9:function(){return usePrevious},JC:function(){return joinOptions},d_:function(){return lastIndexOf},jW:function(){return processOptions},kZ:function(){return useVisibleOptions},ty:function(){return isGroup},uj:function(){return defaultAccessor}});var _home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./dist/shared/modern/index.js");var isGroup=function(item){return Object.prototype.hasOwnProperty.call(item,"options")},isOptionShape=function(item){return!!item&&Object.prototype.hasOwnProperty.call(item,"key")},joinOptions=function(_ref){var selected=_ref.selected,options=_ref.selectedMultiple||(selected?[selected]:[]);return options.length?options.reduce(function(acc,option,index){return(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(option.content)?acc.push((0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(option.content,{key:option.key})):acc.push(option.content),index<options.length-1&&acc.push(", "),acc},[]):null};function processOptions(options){var selected=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],filterFn=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},flatOptions=[],filteredOptions=[],selectedArray=Array.isArray(selected)?selected:[selected],selectedOptions=selectedArray.filter(isOptionShape),selectedKeys=selectedArray.filter(function(option){return"string"==typeof option}),process=function(option){return selectedKeys.includes(option.key)&&selectedOptions.push(option),!!filterFn(option)&&(flatOptions.push(option),!0)};return options.forEach(function(option){if(isGroup(option)){var group=(0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},option),{},{options:[]});option.options.forEach(function(groupOption){process(groupOption)&&group.options.push(groupOption)}),group.options.length&&filteredOptions.push(group)}else process(option)&&filteredOptions.push(option)}),{filteredOptions:filteredOptions,flatOptions:flatOptions,selectedOptions:selectedOptions}}function useVisibleOptions(_ref2){var visibleOptions=_ref2.visibleOptions,listRef=_ref2.listRef,_ref2$styleTargetRef=_ref2.styleTargetRef,styleTargetRef=void 0===_ref2$styleTargetRef?listRef:_ref2$styleTargetRef,open=_ref2.open,invalidate=_ref2.invalidate;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){var list=listRef.current,styleTarget=styleTargetRef.current;if(open&&list&&styleTarget&&visibleOptions>0){var childCount=list.children.length,optionsNodes=[].slice.call(list.children,0,visibleOptions+1),height=optionsNodes.slice(0,visibleOptions).reduce(function(acc,child){return acc+child.clientHeight},0);if(visibleOptions<childCount){var lastVisibleOptionHeight=optionsNodes[optionsNodes.length-1].clientHeight;height+=Math.round(childCount-visibleOptions==1?lastVisibleOptionHeight:lastVisibleOptionHeight/2)}styleTarget.style.height="".concat(height,"px")}},[listRef,open,styleTargetRef,visibleOptions,invalidate])}function defaultFilterFn(optionText,search){return!search||optionText.toLowerCase().includes(search.toLowerCase())}function defaultAccessor(option){return"string"==typeof option.content?option.content:"string"==typeof option.value?option.value:option.key}function usePrevious(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){ref.current=value},[value]),ref.current}var lastIndexOf=function(array,predicate){for(var i=array.length-1;i>=0;i--)if(predicate(array[i]))return i;return -1}}}]);