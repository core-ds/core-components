"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7181],{"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/callSuper.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}__webpack_require__.d(__webpack_exports__,{Z:function(){return _callSuper}});var esm_typeof=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js");function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(t,e){if(e&&("object"==(0,esm_typeof.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}},"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _classCallCheck}});function _classCallCheck(a,n){if(!(a instanceof n))throw TypeError("Cannot call a class as a function")}},"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _createClass}});var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__.Z)(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}},"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}__webpack_require__.d(__webpack_exports__,{Z:function(){return _inherits}})},"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toConsumableArray}});var arrayLikeToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function _arrayWithoutHoles(r){if(Array.isArray(r))return(0,arrayLikeToArray.Z)(r)}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}var unsupportedIterableToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _nonIterableSpread(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||(0,unsupportedIterableToArray.Z)(r)||_nonIterableSpread()}},"./packages/account-select/node_modules/@maskito/react/index.esm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{I:function(){return useMaskito}});var prevValue,prevCaretIndex,prevEvent,prevRejectedSpace,slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),callSuper=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/callSuper.js"),inherits=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),toConsumableArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js");function getContentEditableSelection(element){var _ref=element.ownerDocument.getSelection()||{},_ref$anchorOffset=_ref.anchorOffset,anchorOffset=void 0===_ref$anchorOffset?0:_ref$anchorOffset,_ref$focusOffset=_ref.focusOffset,focusOffset=void 0===_ref$focusOffset?0:_ref$focusOffset;return[Math.min(anchorOffset,focusOffset),Math.max(anchorOffset,focusOffset)]}function setContentEditableSelection(element,_ref2){var _a,_b,_c,_d,_ref3=(0,slicedToArray.Z)(_ref2,2),from=_ref3[0],to=_ref3[1],document=element.ownerDocument,range=document.createRange();range.setStart(element.firstChild||element,Math.min(from,null!==(_b=null===(_a=element.textContent)||void 0===_a?void 0:_a.length)&&void 0!==_b?_b:0)),range.setEnd(element.lastChild||element,Math.min(to,null!==(_d=null===(_c=element.textContent)||void 0===_c?void 0:_c.length)&&void 0!==_d?_d:0));var selection=document.getSelection();selection&&(selection.removeAllRanges(),selection.addRange(range))}var ContentEditableAdapter=function(){function ContentEditableAdapter(element){(0,classCallCheck.Z)(this,ContentEditableAdapter),this.element=element,this.maxLength=1/0}return(0,createClass.Z)(ContentEditableAdapter,[{key:"value",get:function get(){return this.element.innerText.replace(/\n\n$/,"\n")},set:function set(value1){this.element.innerHTML=value1.replace(/\n$/,"\n\n")}},{key:"selectionStart",get:function get(){return getContentEditableSelection(this.element)[0]}},{key:"selectionEnd",get:function get(){return getContentEditableSelection(this.element)[1]}},{key:"setSelectionRange",value:function setSelectionRange(from,to){setContentEditableSelection(this.element,[null!=from?from:0,null!=to?to:0])}},{key:"select",value:function select(){this.setSelectionRange(0,this.value.length)}}])}();function maskitoAdaptContentEditable(element){var adapter=new ContentEditableAdapter(element);return new Proxy(element,{get:function get(target,prop){if(prop in adapter)return adapter[prop];var nativeProperty=target[prop];return"function"==typeof nativeProperty?nativeProperty.bind(target):nativeProperty},set:function set(target,prop,val,receiver){return Reflect.set(prop in adapter?adapter:target,prop,val,receiver)}})}var MASKITO_DEFAULT_ELEMENT_PREDICATE=function(e){return e.isContentEditable?maskitoAdaptContentEditable(e):e.querySelector("input,textarea")||e},MASKITO_DEFAULT_OPTIONS={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},MaskHistory=function(){function MaskHistory(){(0,classCallCheck.Z)(this,MaskHistory),this.now=null,this.past=[],this.future=[]}return(0,createClass.Z)(MaskHistory,[{key:"undo",value:function undo(){var state=this.past.pop();state&&this.now&&(this.future.push(this.now),this.updateElement(state,"historyUndo"))}},{key:"redo",value:function redo(){var state=this.future.pop();state&&this.now&&(this.past.push(this.now),this.updateElement(state,"historyRedo"))}},{key:"updateHistory",value:function updateHistory(state){if(!this.now){this.now=state;return}var isValueChanged=this.now.value!==state.value,isSelectionChanged=this.now.selection.some(function(item,index){return item!==state.selection[index]});(isValueChanged||isSelectionChanged)&&(isValueChanged&&(this.past.push(this.now),this.future=[]),this.now=state)}},{key:"updateElement",value:function updateElement(state,inputType){this.now=state,this.updateElementState(state,{inputType:inputType,data:null})}}])}();function areElementValuesEqual(sampleState){for(var _len=arguments.length,states=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)states[_key-1]=arguments[_key];return states.every(function(_ref4){return _ref4.value===sampleState.value})}function areElementStatesEqual(sampleState){for(var _len2=arguments.length,states=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)states[_key2-1]=arguments[_key2];return states.every(function(_ref5){var value1=_ref5.value,selection=_ref5.selection;return value1===sampleState.value&&selection[0]===sampleState.selection[0]&&selection[1]===sampleState.selection[1]})}function applyOverwriteMode(_ref6,newCharacters,mode){var value1=_ref6.value,selection=_ref6.selection,_selection=(0,slicedToArray.Z)(selection,2),from=_selection[0],to=_selection[1],computedMode="function"==typeof mode?mode({value:value1,selection:selection}):mode;return{value:value1,selection:"replace"===computedMode?[from,Math.max(from+newCharacters.length,to)]:[from,to]}}function isFixedCharacter(char){return"string"==typeof char}function getLeadingFixedCharacters(mask,validatedValuePart,newCharacter,initialElementState){for(var leadingFixedCharacters="",i=validatedValuePart.length;i<mask.length;i++){var charConstraint=mask[i]||"",isInitiallyExisted=(null==initialElementState?void 0:initialElementState.value[i])===charConstraint;if(!isFixedCharacter(charConstraint)||charConstraint===newCharacter&&!isInitiallyExisted)break;leadingFixedCharacters+=charConstraint}return leadingFixedCharacters}function validateValueWithMask(value1,maskExpression){return Array.isArray(maskExpression)?value1.length===maskExpression.length&&Array.from(value1).every(function(char,i){var charConstraint=maskExpression[i]||"";return isFixedCharacter(charConstraint)?char===charConstraint:char.match(charConstraint)}):maskExpression.test(value1)}function guessValidValueByPattern(elementState,mask,initialElementState){var maskedFrom=null,maskedTo=null,maskedValue=Array.from(elementState.value).reduce(function(validatedCharacters,char,charIndex){var leadingCharacters=getLeadingFixedCharacters(mask,validatedCharacters,char,initialElementState),newValidatedChars=validatedCharacters+leadingCharacters,charConstraint=mask[newValidatedChars.length]||"";return(null===maskedFrom&&charIndex>=elementState.selection[0]&&(maskedFrom=newValidatedChars.length),null===maskedTo&&charIndex>=elementState.selection[1]&&(maskedTo=newValidatedChars.length),isFixedCharacter(charConstraint))?newValidatedChars+charConstraint:char.match(charConstraint)?newValidatedChars+char:leadingCharacters.startsWith(char)?newValidatedChars:validatedCharacters},""),trailingFixedCharacters=getLeadingFixedCharacters(mask,maskedValue,"",initialElementState);return{value:validateValueWithMask(maskedValue+trailingFixedCharacters,mask)?maskedValue+trailingFixedCharacters:maskedValue,selection:[null!=maskedFrom?maskedFrom:maskedValue.length,null!=maskedTo?maskedTo:maskedValue.length]}}function guessValidValueByRegExp(_ref7,maskRegExp){var value1=_ref7.value,selection=_ref7.selection,_selection2=(0,slicedToArray.Z)(selection,2),from=_selection2[0],to=_selection2[1],newFrom=from,newTo=to,validatedValue=Array.from(value1).reduce(function(validatedValuePart,char,i){var newPossibleValue=validatedValuePart+char;return from===i&&(newFrom=validatedValuePart.length),to===i&&(newTo=validatedValuePart.length),newPossibleValue.match(maskRegExp)?newPossibleValue:validatedValuePart},"");return{value:validatedValue,selection:[Math.min(newFrom,validatedValue.length),Math.min(newTo,validatedValue.length)]}}function calibrateValueByMask(elementState,mask){var initialElementState=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(validateValueWithMask(elementState.value,mask))return elementState;var _ref8=Array.isArray(mask)?guessValidValueByPattern(elementState,mask,initialElementState):guessValidValueByRegExp(elementState,mask),value1=_ref8.value;return{selection:_ref8.selection,value:Array.isArray(mask)?value1.slice(0,mask.length):value1}}function removeFixedMaskCharacters(initialElementState,mask){if(!Array.isArray(mask))return initialElementState;var _initialElementState$=(0,slicedToArray.Z)(initialElementState.selection,2),from=_initialElementState$[0],to=_initialElementState$[1],selection=[],unmaskedValue=Array.from(initialElementState.value).reduce(function(rawValue,char,i){var charConstraint=mask[i]||"";return i===from&&selection.push(rawValue.length),i===to&&selection.push(rawValue.length),isFixedCharacter(charConstraint)&&charConstraint===char?rawValue:rawValue+char},"");return selection.length<2&&selection.push.apply(selection,(0,toConsumableArray.Z)(Array(2-selection.length).fill(unmaskedValue.length))),{value:unmaskedValue,selection:[selection[0],selection[1]]}}var MaskModel=function(){function MaskModel(initialElementState,maskOptions){(0,classCallCheck.Z)(this,MaskModel),this.maskOptions=maskOptions,this.unmaskInitialState={value:"",selection:[0,0]},this.value="",this.selection=[0,0];var expression=this.getMaskExpression(initialElementState),_calibrateValueByMask=calibrateValueByMask(initialElementState,expression),value1=_calibrateValueByMask.value,selection=_calibrateValueByMask.selection;this.unmaskInitialState=removeFixedMaskCharacters({value:value1,selection:selection},expression),this.value=value1,this.selection=selection}return(0,createClass.Z)(MaskModel,[{key:"addCharacters",value:function addCharacters(newCharacters){var value1=this.value,selection=this.selection,maskOptions=this.maskOptions,initialElementState={value:value1,selection:selection},_applyOverwriteMode=applyOverwriteMode(initialElementState,newCharacters,maskOptions.overwriteMode),_applyOverwriteMode$s=(0,slicedToArray.Z)(_applyOverwriteMode.selection,2),from=_applyOverwriteMode$s[0],to=_applyOverwriteMode$s[1],maskExpression=this.getMaskExpression({value:value1.slice(0,from)+newCharacters+value1.slice(to),selection:[from+newCharacters.length,from+newCharacters.length]}),_applyOverwriteMode$s2=(0,slicedToArray.Z)(applyOverwriteMode(this.unmaskInitialState,newCharacters,maskOptions.overwriteMode).selection,2),unmaskedFrom=_applyOverwriteMode$s2[0],unmaskedTo=_applyOverwriteMode$s2[1],newUnmaskedLeadingValuePart=this.unmaskInitialState.value.slice(0,unmaskedFrom)+newCharacters,newCaretIndex=newUnmaskedLeadingValuePart.length,maskedElementState=calibrateValueByMask({value:newUnmaskedLeadingValuePart+this.unmaskInitialState.value.slice(unmaskedTo),selection:[newCaretIndex,newCaretIndex]},maskExpression,initialElementState),prevLeadingPart=value1.slice(0,from),newLeadingPartState=calibrateValueByMask({value:newUnmaskedLeadingValuePart,selection:[newCaretIndex,newCaretIndex]},maskExpression,initialElementState);if(newLeadingPartState.value===prevLeadingPart||newLeadingPartState.value.length<prevLeadingPart.length&&removeFixedMaskCharacters(newLeadingPartState,maskExpression).value===this.unmaskInitialState.value.slice(0,unmaskedFrom)||areElementStatesEqual(this,maskedElementState))throw Error("Invalid mask value");this.value=maskedElementState.value,this.selection=maskedElementState.selection}},{key:"deleteCharacters",value:function deleteCharacters(){var _this$selection=(0,slicedToArray.Z)(this.selection,2),from=_this$selection[0],to=_this$selection[1];if(from!==to&&to){var value1=this.value,maskExpression=this.getMaskExpression({value:value1.slice(0,from)+value1.slice(to),selection:[from,from]}),_this$unmaskInitialSt=(0,slicedToArray.Z)(this.unmaskInitialState.selection,2),unmaskedFrom=_this$unmaskInitialSt[0],unmaskedTo=_this$unmaskInitialSt[1],maskedElementState=calibrateValueByMask({value:this.unmaskInitialState.value.slice(0,unmaskedFrom)+this.unmaskInitialState.value.slice(unmaskedTo),selection:[unmaskedFrom,unmaskedFrom]},maskExpression,{value:value1});this.value=maskedElementState.value,this.selection=maskedElementState.selection}}},{key:"getMaskExpression",value:function getMaskExpression(elementState){var mask=this.maskOptions.mask;return"function"==typeof mask?mask(elementState):mask}}])}(),EventListener=function(){function EventListener(element){(0,classCallCheck.Z)(this,EventListener),this.element=element,this.listeners=[]}return(0,createClass.Z)(EventListener,[{key:"listen",value:function listen(eventType,fn,options){var _this=this;this.element.addEventListener(eventType,fn,options),this.listeners.push(function(){return _this.element.removeEventListener(eventType,fn,options)})}},{key:"destroy",value:function destroy(){this.listeners.forEach(function(stopListen){return stopListen()})}}])}(),HotkeyModifier={CTRL:1,ALT:2,SHIFT:4,META:8},HotkeyCode={Y:89,Z:90};function isHotkey(event,modifiers,hotkeyCode){return!!(modifiers&HotkeyModifier.CTRL)===event.ctrlKey&&!!(modifiers&HotkeyModifier.ALT)===event.altKey&&!!(modifiers&HotkeyModifier.SHIFT)===event.shiftKey&&!!(modifiers&HotkeyModifier.META)===event.metaKey&&event.keyCode===hotkeyCode}function isRedo(event){return isHotkey(event,HotkeyModifier.CTRL,HotkeyCode.Y)||isHotkey(event,HotkeyModifier.CTRL|HotkeyModifier.SHIFT,HotkeyCode.Z)||isHotkey(event,HotkeyModifier.META|HotkeyModifier.SHIFT,HotkeyCode.Z)}function isUndo(event){return isHotkey(event,HotkeyModifier.CTRL,HotkeyCode.Z)||isHotkey(event,HotkeyModifier.META,HotkeyCode.Z)}function getLineSelection(_ref9,isForward){var value1=_ref9.value,selection=_ref9.selection,_selection3=(0,slicedToArray.Z)(selection,2),from=_selection3[0],to=_selection3[1];if(from!==to)return[from,to];var nearestBreak=isForward?value1.slice(from).indexOf("\n")+1||value1.length:value1.slice(0,to).lastIndexOf("\n")+1;return[isForward?from:nearestBreak,isForward?nearestBreak:to]}function getNotEmptySelection(_ref0,isForward){var value1=_ref0.value,selection=_ref0.selection,_selection4=(0,slicedToArray.Z)(selection,2),from=_selection4[0],to=_selection4[1];return from!==to?[from,to]:(isForward?[from,to+1]:[from-1,to]).map(function(x){return Math.min(Math.max(x,0),value1.length)})}var TRAILING_SPACES_REG=/\s+$/g,LEADING_SPACES_REG=/^\s+/g,SPACE_REG=/\s/;function getWordSelection(_ref1,isForward){var value1=_ref1.value,selection=_ref1.selection,_selection5=(0,slicedToArray.Z)(selection,2),from=_selection5[0],to=_selection5[1];if(from!==to)return[from,to];if(isForward){var valueAfterSelectionStart=value1.slice(from),_ref10=valueAfterSelectionStart.match(LEADING_SPACES_REG)||[""],leadingSpaces=(0,slicedToArray.Z)(_ref10,1)[0],nearestWordEndIndex=valueAfterSelectionStart.trimStart().search(SPACE_REG);return[from,-1!==nearestWordEndIndex?from+leadingSpaces.length+nearestWordEndIndex:value1.length]}var valueBeforeSelectionEnd=value1.slice(0,to),_ref12=valueBeforeSelectionEnd.match(TRAILING_SPACES_REG)||[""],trailingSpaces=(0,slicedToArray.Z)(_ref12,1)[0],selectedWordLength=valueBeforeSelectionEnd.trimEnd().split("").reverse().findIndex(function(char){return SPACE_REG.exec(char)});return[-1!==selectedWordLength?to-trailingSpaces.length-selectedWordLength:0,to]}function maskitoPipe(){var processors=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(initialData){for(var _len3=arguments.length,readonlyArgs=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)readonlyArgs[_key3-1]=arguments[_key3];return processors.reduce(function(data,fn){return Object.assign(Object.assign({},data),fn.apply(void 0,[data].concat(readonlyArgs)))},initialData)}}function maskitoTransform(valueOrState,maskitoOptions){var options=Object.assign(Object.assign({},MASKITO_DEFAULT_OPTIONS),maskitoOptions),preprocessor=maskitoPipe(options.preprocessors),postprocessor=maskitoPipe(options.postprocessors),initialElementState="string"==typeof valueOrState?{value:valueOrState,selection:[0,0]}:valueOrState,_postprocessor=postprocessor(new MaskModel(preprocessor({elementState:initialElementState,data:""},"validation").elementState,options),initialElementState),value1=_postprocessor.value,selection=_postprocessor.selection;return"string"==typeof valueOrState?value1:{value:value1,selection:selection}}var BUILT_IN_PLUGINS=[(prevValue="",prevCaretIndex=0,prevEvent=null,prevRejectedSpace=!1,function(element){var eventListener=new EventListener(element);return eventListener.listen("beforeinput",function(event){var _a,_b,value1=element.value,selectionStart=element.selectionStart,selectionEnd=element.selectionEnd,rejectedSpace=(null==prevEvent?void 0:prevEvent.inputType)==="insertText"&&(null==prevEvent?void 0:prevEvent.data)===" "&&!value1.slice(0,Number(selectionEnd)).endsWith(" ");"insertText"===event.inputType&&event.data===".".concat(" ")&&((null==prevEvent?void 0:prevEvent.inputType)==="deleteContentBackward"&&prevRejectedSpace?(element.value=prevValue,null===(_a=element.setSelectionRange)||void 0===_a||_a.call(element,prevCaretIndex,prevCaretIndex)):rejectedSpace&&(null===(_b=element.setSelectionRange)||void 0===_b||_b.call(element,selectionStart,selectionStart))),prevRejectedSpace=rejectedSpace,prevEvent=event,prevValue=value1,prevCaretIndex=Number((rejectedSpace?prevCaretIndex:selectionEnd)===value1.length?selectionEnd:selectionStart)}),function(){return eventListener.destroy()}}),function(element){var beforeinputEvent,eventListener=new EventListener(element),isVirtualAndroidKeyboard=!1,value1=element.value;return eventListener.listen("keydown",function(_ref14){isVirtualAndroidKeyboard="Unidentified"===_ref14.key}),eventListener.listen("beforeinput",function(event){beforeinputEvent=event,value1=element.value}),eventListener.listen("input",function(event){isVirtualAndroidKeyboard&&beforeinputEvent.defaultPrevented&&"deleteContentBackward"===beforeinputEvent.inputType&&"deleteContentBackward"===event.inputType&&(element.value=value1)},{capture:!0}),function(){return eventListener.destroy()}}],Maskito=function(_MaskHistory){function Maskito(element,maskitoOptions){var _this2;return(0,classCallCheck.Z)(this,Maskito),(_this2=(0,callSuper.Z)(this,Maskito)).element=element,_this2.maskitoOptions=maskitoOptions,_this2.isTextArea="TEXTAREA"===_this2.element.nodeName,_this2.eventListener=new EventListener(_this2.element),_this2.options=Object.assign(Object.assign({},MASKITO_DEFAULT_OPTIONS),_this2.maskitoOptions),_this2.upcomingElementState=null,_this2.preprocessor=maskitoPipe(_this2.options.preprocessors),_this2.postprocessor=maskitoPipe(_this2.options.postprocessors),_this2.teardowns=_this2.options.plugins.concat(BUILT_IN_PLUGINS).map(function(plugin){return plugin(_this2.element,_this2.options)}),_this2.updateHistory(_this2.elementState),_this2.eventListener.listen("keydown",function(event){return isRedo(event)?(event.preventDefault(),_this2.redo()):isUndo(event)?(event.preventDefault(),_this2.undo()):void 0}),_this2.eventListener.listen("beforeinput",function(event){var _a,_b,_c,isForward=event.inputType.includes("Forward");switch(_this2.updateHistory(_this2.elementState),event.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return _this2.handleDelete({event:event,isForward:isForward,selection:getNotEmptySelection(_this2.elementState,isForward)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return _this2.handleDelete({event:event,isForward:isForward,selection:getLineSelection(_this2.elementState,isForward),force:!0});case"deleteWordBackward":case"deleteWordForward":return _this2.handleDelete({event:event,isForward:isForward,selection:getWordSelection(_this2.elementState,isForward)});case"historyRedo":return event.preventDefault(),_this2.redo();case"historyUndo":return event.preventDefault(),_this2.undo();case"insertCompositionText":case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return _this2.handleEnter(event);default:return _this2.handleInsert(event,null!==(_c=null!==(_a=event.data)&&void 0!==_a?_a:null===(_b=event.dataTransfer)||void 0===_b?void 0:_b.getData("text/plain"))&&void 0!==_c?_c:"")}}),_this2.eventListener.listen("input",function(){_this2.upcomingElementState&&!areElementStatesEqual(_this2.upcomingElementState,_this2.elementState)&&_this2.updateElementState(_this2.upcomingElementState),_this2.upcomingElementState=null},{capture:!0}),_this2.eventListener.listen("input",function(_ref15){"insertCompositionText"!==_ref15.inputType&&(_this2.ensureValueFitsMask(),_this2.updateHistory(_this2.elementState))}),_this2.eventListener.listen("compositionend",function(){_this2.ensureValueFitsMask(),_this2.updateHistory(_this2.elementState)}),_this2}return(0,inherits.Z)(Maskito,_MaskHistory),(0,createClass.Z)(Maskito,[{key:"destroy",value:function destroy(){this.eventListener.destroy(),this.teardowns.forEach(function(teardown){return null==teardown?void 0:teardown()})}},{key:"updateElementState",value:function updateElementState(_ref16,eventInit){var value1=_ref16.value,selection=_ref16.selection,initialValue=this.elementState.value;this.updateValue(value1),this.updateSelectionRange(selection),eventInit&&initialValue!==value1&&this.dispatchInputEvent(eventInit)}},{key:"elementState",get:function get(){var _this$element=this.element,value1=_this$element.value,selectionStart=_this$element.selectionStart,selectionEnd=_this$element.selectionEnd;return{value:value1,selection:[null!=selectionStart?selectionStart:0,null!=selectionEnd?selectionEnd:0]}}},{key:"maxLength",get:function get(){var maxLength=this.element.maxLength;return -1===maxLength?1/0:maxLength}},{key:"updateSelectionRange",value:function updateSelectionRange(_ref17){var _a,_ref18=(0,slicedToArray.Z)(_ref17,2),from=_ref18[0],to=_ref18[1],element=this.element;element.matches(":focus")&&(element.selectionStart!==from||element.selectionEnd!==to)&&(null===(_a=element.setSelectionRange)||void 0===_a||_a.call(element,from,to))}},{key:"updateValue",value:function updateValue(value1){(this.element.value!==value1||this.element.isContentEditable)&&(this.element.value=value1)}},{key:"ensureValueFitsMask",value:function ensureValueFitsMask(){this.updateElementState(maskitoTransform(this.elementState,this.options),{inputType:"insertText",data:null})}},{key:"dispatchInputEvent",value:function dispatchInputEvent(){var eventInit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inputType:"insertText",data:null};globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},eventInit),{bubbles:!0,cancelable:!1})))}},{key:"handleDelete",value:function handleDelete(_ref19){var event=_ref19.event,selection=_ref19.selection,isForward=_ref19.isForward,initialState={value:this.elementState.value,selection:selection},elementState=this.preprocessor({elementState:initialState,data:""},isForward?"deleteForward":"deleteBackward").elementState,maskModel=new MaskModel(elementState,this.options);maskModel.deleteCharacters();var newElementState=this.postprocessor(maskModel,initialState);if(areElementValuesEqual(initialState,elementState,maskModel,newElementState)){var _elementState$selecti=(0,slicedToArray.Z)(elementState.selection,2),from=_elementState$selecti[0],to=_elementState$selecti[1];return event.preventDefault(),this.updateSelectionRange(isForward?[to,to]:[from,from])}this.upcomingElementState=newElementState}},{key:"handleInsert",value:function handleInsert(event,data){var options=this.options,maxLength=this.maxLength,initialElementState=this.elementState,_initialElementState$2=(0,slicedToArray.Z)(initialElementState.selection,2),from=_initialElementState$2[0],to=_initialElementState$2[1],_this$preprocessor2=this.preprocessor({data:data,elementState:initialElementState},"insert"),elementState=_this$preprocessor2.elementState,_this$preprocessor2$d=_this$preprocessor2.data,maskModel=new MaskModel(elementState,options);try{maskModel.addCharacters(void 0===_this$preprocessor2$d?data:_this$preprocessor2$d)}catch(_a){return event.preventDefault()}this.upcomingElementState=this.clampState(this.postprocessor(maskModel,initialElementState)),initialElementState.value.length>=maxLength&&from===to&&("replace"!==options.overwriteMode||areElementStatesEqual(this.upcomingElementState,initialElementState)?this.upcomingElementState=null:this.dispatchInputEvent({inputType:"insertText",data:data}))}},{key:"handleEnter",value:function handleEnter(event){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(event,"\n")}},{key:"clampState",value:function clampState(_ref20){var value1=_ref20.value,selection=_ref20.selection,_selection6=(0,slicedToArray.Z)(selection,2),from=_selection6[0],to=_selection6[1],max=this.maxLength;return{value:value1.slice(0,max),selection:[Math.min(from,max),Math.min(to,max)]}}}])}(MaskHistory),react=__webpack_require__("./node_modules/react/index.js");function adaptReactControlledElement(element){var _a,valueSetter=null===(_a=Object.getOwnPropertyDescriptor(getPrototype(element),"value"))||void 0===_a?void 0:_a.set;if(!valueSetter)return element;var adapter={set value(value){valueSetter.call(element,value)}};return new Proxy(element,{get:function get(target,prop){var nativeProperty=target[prop];return"function"==typeof nativeProperty?nativeProperty.bind(target):nativeProperty},set:function set(target,prop,val,receiver){return Reflect.set(prop in adapter?adapter:target,prop,val,receiver)}})}function getPrototype(element){var _a,_b;switch(element.nodeName){case"INPUT":return null===(_a=globalThis.HTMLInputElement)||void 0===_a?void 0:_a.prototype;case"TEXTAREA":return null===(_b=globalThis.HTMLTextAreaElement)||void 0===_b?void 0:_b.prototype;default:return null}}var useIsomorphicLayoutEffect="undefined"!=typeof window?react.useLayoutEffect:react.useEffect;function isThenable(x){return x&&"object"==typeof x&&"then"in x}var useMaskito=function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$options=_ref.options,options=void 0===_ref$options?null:_ref$options,_ref$elementPredicate=_ref.elementPredicate,elementPredicate=void 0===_ref$elementPredicate?MASKITO_DEFAULT_ELEMENT_PREDICATE:_ref$elementPredicate,_useState=(0,react.useState)(null),_useState2=(0,slicedToArray.Z)(_useState,2),hostElement=_useState2[0],setHostElement=_useState2[1],_useState3=(0,react.useState)(null),_useState4=(0,slicedToArray.Z)(_useState3,2),element=_useState4[0],setElement=_useState4[1],onRefChange=(0,react.useCallback)(function(node){setHostElement(node)},[]),latestPredicateRef=(0,react.useRef)(elementPredicate),latestOptionsRef=(0,react.useRef)(options);return latestPredicateRef.current=elementPredicate,latestOptionsRef.current=options,useIsomorphicLayoutEffect(function(){if(hostElement){var elementOrPromise=elementPredicate(hostElement);isThenable(elementOrPromise)?elementOrPromise.then(function(el){latestPredicateRef.current===elementPredicate&&latestOptionsRef.current===options&&setElement(el)}):setElement(elementOrPromise)}},[hostElement,elementPredicate,latestPredicateRef,options,latestOptionsRef]),useIsomorphicLayoutEffect(function(){if(element&&options){var maskedElement=new Maskito(adaptReactControlledElement(element),options);return function(){maskedElement.destroy(),setElement(null)}}},[options,element]),onRefChange}}}]);