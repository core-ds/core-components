"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1755],{"./packages/calendar/src/components/calendar-mobile/index.module.css":function(__unused_webpack_module,__webpack_exports__){__webpack_exports__.Z={wrapper:"wrapper_tvQrj",withZIndex:"withZIndex_K0qU1",calendar:"calendar_UA1ux",dayNames:"dayNames_ACwpt",withHeader:"withHeader_AYPX8",month:"month_jeO5O",clickableMonth:"clickableMonth_cxiv4",rectangular:"rectangular_L5O9L",active:"active_cGo56",monthTitle:"monthTitle_aqZjg",disabled:"disabled_Nk_rG",daysTable:"daysTable_VVzAa",dayName:"dayName_f8CKS",virtuoso:"virtuoso_cs1wq",contentModal:"contentModal_DQAZY",content:"content_dhMN3"}},"./packages/calendar/src/Component.responsive.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{t:function(){return CalendarResponsive}});var _home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_alfalab_core_components_mq__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/mq/modern/index.js"),_components_calendar_mobile__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/calendar/src/components/calendar-mobile/Component.tsx"),_desktop__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/calendar/src/desktop/Component.desktop.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["breakpoint","client","defaultMatchMediaValue"],CalendarResponsive=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function(_ref,ref){var breakpoint=_ref.breakpoint,client=_ref.client,_ref$defaultMatchMedi=_ref.defaultMatchMediaValue,restProps=(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.Z)(_ref,_excluded);return(0,_alfalab_core_components_mq__WEBPACK_IMPORTED_MODULE_1__.useIsDesktop)(breakpoint,void 0===_ref$defaultMatchMedi?void 0===client?void 0:"desktop"===client:_ref$defaultMatchMedi)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_desktop__WEBPACK_IMPORTED_MODULE_4__.l,(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},restProps),{},{ref:ref})):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components_calendar_mobile__WEBPACK_IMPORTED_MODULE_6__.S,(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__.Z)({},restProps),{},{ref:ref}))});CalendarResponsive.displayName="CalendarResponsive";try{CalendarResponsive.displayName="CalendarResponsive",CalendarResponsive.__docgenInfo={description:"",displayName:"CalendarResponsive",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},headerClassName:{defaultValue:null,description:"Дополнительный класс шапки десктопного календаря",name:"headerClassName",required:!1,type:{name:"string"}},contentClassName:{defaultValue:null,description:"Дополнительный класс контента десктопного календаря",name:"contentClassName",required:!1,type:{name:"string"}},defaultView:{defaultValue:null,description:"Вид по умолчанию (выбор дней, месяцев, лет)",name:"defaultView",required:!1,type:{name:"enum",value:[{value:'"years"'},{value:'"months"'},{value:'"days"'}]}},selectorView:{defaultValue:null,description:"Вид шапки — месяц и год или только месяц",name:"selectorView",required:!1,type:{name:"enum",value:[{value:'"month-only"'},{value:'"full"'}]}},value:{defaultValue:null,description:"Выбранная дата (timestamp)",name:"value",required:!1,type:{name:"number | { dateFrom?: number; dateTo?: number; } | undefined"}},mode:{defaultValue:{value:"single"},description:"Режим выбора дат",name:"mode",required:!1,type:{name:"enum",value:[{value:'"range"'},{value:'"single"'}]}},rangeBehavior:{defaultValue:{value:"clarification"},description:"Тип выбора границ в календаре",name:"rangeBehavior",required:!1,type:{name:"enum",value:[{value:'"reset"'},{value:'"clarification"'}]}},month:{defaultValue:null,description:"Открытый месяц (timestamp)",name:"month",required:!1,type:{name:"number"}},defaultMonth:{defaultValue:null,description:"Месяц, открытый по умолчанию (timestamp)",name:"defaultMonth",required:!1,type:{name:"number"}},minDate:{defaultValue:null,description:"Минимальная дата, доступная для выбора (timestamp)",name:"minDate",required:!1,type:{name:"number"}},maxDate:{defaultValue:null,description:"Максимальная дата, доступная для выбора (timestamp)",name:"maxDate",required:!1,type:{name:"number"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода (timestamp)\n@deprecated используйте value вместе с mode='range'",name:"selectedFrom",required:!1,type:{name:"number"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода (timestamp)\n@deprecated используйте value вместе с mode='range'",name:"selectedTo",required:!1,type:{name:"number"}},rangeComplete:{defaultValue:null,description:"Индикатор, что выбран полный период",name:"rangeComplete",required:!1,type:{name:"boolean"}},events:{defaultValue:null,description:"Список событий",name:"events",required:!1,type:{name:"(number | Date)[]"}},offDays:{defaultValue:null,description:"Список отключенных для выбора дней.",name:"offDays",required:!1,type:{name:"(number | Date)[]"}},holidays:{defaultValue:null,description:"Список выходных",name:"holidays",required:!1,type:{name:"(number | Date)[]"}},onMonthChange:{defaultValue:null,description:"Обработчик изменения месяца (или года)",name:"onMonthChange",required:!1,type:{name:"((month: number) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора даты",name:"onChange",required:!1,type:{name:"((date?: number, dateTo?: number) => void) | undefined"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на кнопку года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onPeriodClick:{defaultValue:null,description:"Обработчик нажатия на период",name:"onPeriodClick",required:!1,type:{name:"((event: MouseEvent<HTMLAnchorElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},hasHeader:{defaultValue:null,description:"Нужно ли рендерить шапку календаря\nНужно ли рендерить шапку",name:"hasHeader",required:!1,type:{name:"boolean"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},shape:{defaultValue:null,description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},showCurrentYearSelector:{defaultValue:{value:"false"},description:"Отображать ли текущий год, если selectorView 'month-only'",name:"showCurrentYearSelector",required:!1,type:{name:"boolean"}},hideDisabledArrows:{defaultValue:{value:"true"},description:"Скрывает заблокированные кнопки в периоде, если selectorView 'month-only'",name:"hideDisabledArrows",required:!1,type:{name:"boolean"}},mobile:{defaultValue:null,description:"CalendarDesktop используется в мобильной и десктопной версии\nПропс позволяет определить платформу",name:"mobile",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"Заголовок календаря",name:"title",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Управление видимостью модалки",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Обработчик закрытия модалки",name:"onClose",required:!1,type:{name:"(() => void)"}},allowSelectionFromEmptyRange:{defaultValue:null,description:"Разрешить выбор из недозаполненного диапазона дат.",name:"allowSelectionFromEmptyRange",required:!1,type:{name:"boolean"}},onApply:{defaultValue:null,description:"Обработчик клика на кнопку выбрать",name:"onApply",required:!1,type:{name:"(() => void)"}},clickableMonth:{defaultValue:null,description:"При клике на месяц будут выбраны все доступные дни месяца",name:"clickableMonth",required:!1,type:{name:"boolean"}},cancelButtonContent:{defaultValue:{value:"Отмена"},description:'Контент кнопки "Отмена"',name:"cancelButtonContent",required:!1,type:{name:"string"}},selectButtonContent:{defaultValue:{value:"Выбрать"},description:'Контент кнопки "Выбрать"',name:"selectButtonContent",required:!1,type:{name:"string"}},resetButtonContent:{defaultValue:{value:"Сбросить"},description:'Контент кнопки "Сбросить"',name:"resetButtonContent",required:!1,type:{name:"string"}},onMonthTitleClick:{defaultValue:null,description:"Обработчик клика на название месяца в мобильном календаре",name:"onMonthTitleClick",required:!1,type:{name:"((event: MouseEvent<HTMLSpanElement, MouseEvent>) => void)"}},yearsAmount:{defaultValue:null,description:"Количество лет для генерации в обе стороны от текущего года",name:"yearsAmount",required:!1,type:{name:"number"}},scrollableContainer:{defaultValue:null,description:"Родительский контейнер для отслеживания скролла",name:"scrollableContainer",required:!1,type:{name:"HTMLElement"}},hasBackButton:{defaultValue:null,description:"",name:"hasBackButton",required:!0,type:{name:"ModalHeaderProps"}},onBack:{defaultValue:null,description:"",name:"onBack",required:!0,type:{name:"ModalHeaderProps"}},breakpoint:{defaultValue:{value:"1024"},description:"Контрольная точка, с нее начинается desktop версия",name:"breakpoint",required:!1,type:{name:"number"}},client:{defaultValue:null,description:"Версия, которая будет использоваться при серверном рендеринге",name:"client",required:!1,type:{name:"enum",value:[{value:'"desktop"'},{value:'"mobile"'}]}},defaultMatchMediaValue:{defaultValue:{value:"client === undefined ? undefined : client === 'desktop'"},description:"Значение по-умолчанию для хука useMatchMedia\n@deprecated Используйте client",name:"defaultMatchMediaValue",required:!1,type:{name:"boolean | (() => boolean)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/Component.responsive.tsx#CalendarResponsive"]={docgenInfo:CalendarResponsive.__docgenInfo,name:"CalendarResponsive",path:"packages/calendar/src/Component.responsive.tsx#CalendarResponsive"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/components/calendar-mobile/Component.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{S:function(){return CalendarMobile},r:function(){return CalendarMonthOnlyViewHeader}});var defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),react_merge_refs_esm=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),resize_observer=__webpack_require__("./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),mobile=__webpack_require__("./dist/button/modern/mobile/index.js"),modern_mobile=__webpack_require__("./dist/modal/modern/mobile/index.js"),modern=__webpack_require__("./dist/shared/modern/index.js"),Component_desktop=__webpack_require__("./packages/calendar/src/desktop/Component.desktop.tsx"),utils=__webpack_require__("./packages/calendar/src/utils.ts"),calendarMonthOnlyView=__webpack_require__("./packages/calendar/src/components/calendar-mobile/calendarMonthOnlyView.tsx"),backdrop_transitions_module={appear:"appear_vqxO3",enter:"enter_Yty67",appearActive:"appearActive_kNVsU",enterActive:"enterActive_x0nrN",appearDone:"appearDone_CyZLM",enterDone:"enterDone_V5dn0",exit:"exit_zWPLg",exitActive:"exitActive_G7L_e",exitDone:"exitDone_Yj28t"},index_module=__webpack_require__("./packages/calendar/src/components/calendar-mobile/index.module.css"),transitions_module={appear:"appear_fazPA",enter:"enter_QeO1l",appearActive:"appearActive__velO",enterActive:"enterActive_D_AiS",exit:"exit_xeIlG",exitActive:"exitActive_aeW_G",exitDone:"exitDone_b6UaT"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["hasHeader","allowSelectionFromEmptyRange","className","defaultView","selectorView","value","selectedFrom","selectedTo","onChange","onMonthTitleClick","dataTestId","open","onClose","title","yearsAmount","onApply","clickableMonth","cancelButtonContent","selectButtonContent","resetButtonContent","hasBackButton","onBack"];"undefined"==typeof window||window.ResizeObserver||(window.ResizeObserver=resize_observer.do);var CalendarMonthOnlyViewHeader=function(){return(0,jsx_runtime.jsx)("table",{className:index_module.Z.dayNames,children:(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsx)("tr",{children:utils.c8.map(function(dayName){return(0,jsx_runtime.jsx)("th",{className:index_module.Z.dayName,children:dayName},dayName)})})})})},CalendarMobile=(0,react.forwardRef)(function(_ref,ref){var commonProps,_ref$hasHeader=_ref.hasHeader,_ref$allowSelectionFr=_ref.allowSelectionFromEmptyRange,allowSelectionFromEmptyRange=void 0!==_ref$allowSelectionFr&&_ref$allowSelectionFr,className=_ref.className,_ref$defaultView=_ref.defaultView,_ref$selectorView=_ref.selectorView,selectorView=void 0===_ref$selectorView?"full":_ref$selectorView,value=_ref.value,selectedFrom=_ref.selectedFrom,selectedTo=_ref.selectedTo,onChange=_ref.onChange,onMonthTitleClick=_ref.onMonthTitleClick,dataTestId=_ref.dataTestId,open=_ref.open,onClose=_ref.onClose,_ref$title=_ref.title,_ref$yearsAmount=_ref.yearsAmount,onApply=_ref.onApply,clickableMonth=_ref.clickableMonth,_ref$cancelButtonCont=_ref.cancelButtonContent,cancelButtonContent=void 0===_ref$cancelButtonCont?"Отмена":_ref$cancelButtonCont,_ref$selectButtonCont=_ref.selectButtonContent,selectButtonContent=void 0===_ref$selectButtonCont?"Выбрать":_ref$selectButtonCont,_ref$resetButtonConte=_ref.resetButtonContent,resetButtonContent=void 0===_ref$resetButtonConte?"Сбросить":_ref$resetButtonConte,_ref$hasBackButton=_ref.hasBackButton,onBack=_ref.onBack,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded),_useState=(0,react.useState)(),_useState2=(0,slicedToArray.Z)(_useState,2),modalRef=_useState2[0],setModalRef=_useState2[1],monthOnlyView="month-only"===selectorView,handleClose=function(){onClose&&onClose()},handleApply=function(){null==onApply||onApply(),null==handleClose||handleClose()},handleClear=function(){onChange&&onChange()};return(0,jsx_runtime.jsxs)(modern_mobile.ModalMobile,{open:open,onClose:handleClose,ref:(0,react_merge_refs_esm.Z)([function(node){return setModalRef(node)},ref]),className:className,wrapperClassName:index_module.Z.wrapper,transitionProps:{timeout:360,classNames:transitions_module},backdropProps:{transitionClassNames:backdrop_transitions_module,timeout:360},dataTestId:dataTestId,children:[(void 0===_ref$hasHeader||_ref$hasHeader)&&(0,jsx_runtime.jsx)(modern_mobile.ModalMobile.Header,{hasCloser:!0,hasBackButton:void 0!==_ref$hasBackButton&&_ref$hasBackButton,title:void 0===_ref$title?"Календарь":_ref$title,sticky:!0,bottomAddons:monthOnlyView?(0,jsx_runtime.jsx)(CalendarMonthOnlyViewHeader,{}):null,className:classnames_default()((0,defineProperty.Z)({},index_module.Z.withZIndex,"full"===selectorView)),onBack:onBack}),(0,jsx_runtime.jsx)(modern_mobile.ModalMobile.Content,{className:index_module.Z.contentModal,flex:!0,children:(commonProps={value:value,onChange:onChange,defaultView:void 0===_ref$defaultView?"days":_ref$defaultView,selectorView:selectorView,selectedFrom:selectedFrom,selectedTo:selectedTo},monthOnlyView?(0,jsx_runtime.jsx)(calendarMonthOnlyView.k,(0,objectSpread2.Z)((0,objectSpread2.Z)({yearsAmount:void 0===_ref$yearsAmount?3:_ref$yearsAmount,scrollableContainer:modalRef,onMonthTitleClick:onMonthTitleClick,clickableMonth:clickableMonth},commonProps),restProps)):(0,jsx_runtime.jsx)(Component_desktop.l,(0,objectSpread2.Z)((0,objectSpread2.Z)({responsive:!0,className:classnames_default()(className,index_module.Z.calendar),contentClassName:index_module.Z.content,dataTestId:(0,modern.getDataTestId)(dataTestId,"mobile"),mobile:!0},commonProps),restProps)))}),(0,jsx_runtime.jsx)(modern_mobile.ModalMobile.Footer,{sticky:!0,className:classnames_default()((0,defineProperty.Z)({},index_module.Z.withZIndex,"full"===selectorView)),children:function(){var valueFrom=(0,utils.YG)(value)?value.dateFrom:selectedFrom,valueTo=(0,utils.YG)(value)?value.dateTo:selectedTo;if(valueFrom||valueTo){var selectButtonDisabled=!valueFrom||!valueTo;return allowSelectionFromEmptyRange&&(selectButtonDisabled=!valueFrom),(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(mobile.ButtonMobile,{view:"secondary",size:"m",block:!0,onClick:handleClear,dataTestId:(0,modern.getDataTestId)(dataTestId,"btn-reset"),children:resetButtonContent}),(0,jsx_runtime.jsx)(mobile.ButtonMobile,{view:"primary",size:"m",block:!0,onClick:handleApply,disabled:selectButtonDisabled,dataTestId:(0,modern.getDataTestId)(dataTestId,"btn-apply"),children:selectButtonContent})]})}return value&&"number"==typeof value?(0,jsx_runtime.jsx)(mobile.ButtonMobile,{view:"primary",size:"m",block:!0,onClick:handleApply,dataTestId:(0,modern.getDataTestId)(dataTestId,"btn-apply"),children:selectButtonContent}):(0,jsx_runtime.jsx)(mobile.ButtonMobile,{view:"secondary",size:"m",block:!0,onClick:handleClose,dataTestId:(0,modern.getDataTestId)(dataTestId,"btn-reset"),children:cancelButtonContent})}()})]})});try{CalendarMobile.displayName="CalendarMobile",CalendarMobile.__docgenInfo={description:"",displayName:"CalendarMobile",props:{title:{defaultValue:{value:"Календарь"},description:"Заголовок календаря",name:"title",required:!1,type:{name:"string"}},open:{defaultValue:null,description:"Управление видимостью модалки",name:"open",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"Обработчик закрытия модалки",name:"onClose",required:!1,type:{name:"(() => void)"}},allowSelectionFromEmptyRange:{defaultValue:{value:"false"},description:"Разрешить выбор из недозаполненного диапазона дат.",name:"allowSelectionFromEmptyRange",required:!1,type:{name:"boolean"}},hasHeader:{defaultValue:{value:"true"},description:"Нужно ли рендерить шапку\nНужно ли рендерить шапку календаря",name:"hasHeader",required:!1,type:{name:"boolean"}},onApply:{defaultValue:null,description:"Обработчик клика на кнопку выбрать",name:"onApply",required:!1,type:{name:"(() => void)"}},clickableMonth:{defaultValue:null,description:"При клике на месяц будут выбраны все доступные дни месяца",name:"clickableMonth",required:!1,type:{name:"boolean"}},cancelButtonContent:{defaultValue:{value:"Отмена"},description:'Контент кнопки "Отмена"',name:"cancelButtonContent",required:!1,type:{name:"string"}},selectButtonContent:{defaultValue:{value:"Выбрать"},description:'Контент кнопки "Выбрать"',name:"selectButtonContent",required:!1,type:{name:"string"}},resetButtonContent:{defaultValue:{value:"Сбросить"},description:'Контент кнопки "Сбросить"',name:"resetButtonContent",required:!1,type:{name:"string"}},onMonthTitleClick:{defaultValue:null,description:"Обработчик клика на название месяца в мобильном календаре",name:"onMonthTitleClick",required:!1,type:{name:"((event: MouseEvent<HTMLSpanElement, MouseEvent>) => void)"}},yearsAmount:{defaultValue:{value:"3"},description:"Количество лет для генерации в обе стороны от текущего года",name:"yearsAmount",required:!1,type:{name:"number"}},scrollableContainer:{defaultValue:null,description:"Родительский контейнер для отслеживания скролла",name:"scrollableContainer",required:!1,type:{name:"HTMLElement"}},defaultMonth:{defaultValue:null,description:"Месяц, открытый по умолчанию (timestamp)",name:"defaultMonth",required:!1,type:{name:"number"}},minDate:{defaultValue:null,description:"Минимальная дата, доступная для выбора (timestamp)",name:"minDate",required:!1,type:{name:"number"}},maxDate:{defaultValue:null,description:"Максимальная дата, доступная для выбора (timestamp)",name:"maxDate",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"Обработчик выбора даты",name:"onChange",required:!1,type:{name:"((date?: number, dateTo?: number) => void) | undefined"}},events:{defaultValue:null,description:"Список событий",name:"events",required:!1,type:{name:"(number | Date)[]"}},offDays:{defaultValue:null,description:"Список отключенных для выбора дней.",name:"offDays",required:!1,type:{name:"(number | Date)[]"}},mode:{defaultValue:{value:"single"},description:"Режим выбора дат",name:"mode",required:!1,type:{name:"enum",value:[{value:'"range"'},{value:'"single"'}]}},mobile:{defaultValue:null,description:"CalendarDesktop используется в мобильной и десктопной версии\nПропс позволяет определить платформу",name:"mobile",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"Выбранная дата (timestamp)",name:"value",required:!1,type:{name:"number | { dateFrom?: number; dateTo?: number; } | undefined"}},rangeBehavior:{defaultValue:{value:"clarification"},description:"Тип выбора границ в календаре",name:"rangeBehavior",required:!1,type:{name:"enum",value:[{value:'"reset"'},{value:'"clarification"'}]}},shape:{defaultValue:null,description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},month:{defaultValue:null,description:"Открытый месяц (timestamp)",name:"month",required:!1,type:{name:"number"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода (timestamp)\n@deprecated используйте value вместе с mode='range'",name:"selectedFrom",required:!1,type:{name:"number"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода (timestamp)\n@deprecated используйте value вместе с mode='range'",name:"selectedTo",required:!1,type:{name:"number"}},holidays:{defaultValue:null,description:"Список выходных",name:"holidays",required:!1,type:{name:"(number | Date)[]"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},hideDisabledArrows:{defaultValue:{value:"true"},description:"Скрывает заблокированные кнопки в периоде, если selectorView 'month-only'",name:"hideDisabledArrows",required:!1,type:{name:"boolean"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},defaultView:{defaultValue:{value:"days"},description:"Вид по умолчанию (выбор дней, месяцев, лет)",name:"defaultView",required:!1,type:{name:"enum",value:[{value:'"years"'},{value:'"months"'},{value:'"days"'}]}},selectorView:{defaultValue:{value:"full"},description:"Вид шапки — месяц и год или только месяц",name:"selectorView",required:!1,type:{name:"enum",value:[{value:'"month-only"'},{value:'"full"'}]}},rangeComplete:{defaultValue:null,description:"Индикатор, что выбран полный период",name:"rangeComplete",required:!1,type:{name:"boolean"}},onMonthChange:{defaultValue:null,description:"Обработчик изменения месяца (или года)",name:"onMonthChange",required:!1,type:{name:"((month: number) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на кнопку года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onPeriodClick:{defaultValue:null,description:"Обработчик нажатия на период",name:"onPeriodClick",required:!1,type:{name:"((event: MouseEvent<HTMLAnchorElement, MouseEvent>) => void)"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}},showCurrentYearSelector:{defaultValue:{value:"false"},description:"Отображать ли текущий год, если selectorView 'month-only'",name:"showCurrentYearSelector",required:!1,type:{name:"boolean"}},hasBackButton:{defaultValue:{value:"false"},description:"",name:"hasBackButton",required:!1,type:{name:"ModalHeaderProps"}},onBack:{defaultValue:null,description:"",name:"onBack",required:!0,type:{name:"ModalHeaderProps"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/calendar-mobile/Component.tsx#CalendarMobile"]={docgenInfo:CalendarMobile.__docgenInfo,name:"CalendarMobile",path:"packages/calendar/src/components/calendar-mobile/Component.tsx#CalendarMobile"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/components/calendar-mobile/calendarMonthOnlyView.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{k:function(){return CalendarMonthOnlyView}});var _home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_virtuoso__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react-virtuoso/dist/index.mjs"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/date-fns/esm/endOfDay/index.js"),date_fns_isAfter__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/date-fns/esm/isAfter/index.js"),date_fns_isBefore__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/date-fns/esm/isBefore/index.js"),date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/date-fns/esm/isSameMonth/index.js"),date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/date-fns/esm/startOfDay/index.js"),date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),_alfalab_core_components_typography__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./dist/typography/modern/index.js"),_useCalendar__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./packages/calendar/src/useCalendar.ts"),_useRange__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/calendar/src/useRange.ts"),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./packages/calendar/src/utils.ts"),_days_table__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./packages/calendar/src/components/days-table/Component.tsx"),_index_module_css__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/calendar/src/components/calendar-mobile/index.module.css"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),CalendarMonthOnlyView=function(_ref){var value=_ref.value,_ref$mode=_ref.mode,_ref$rangeBehavior=_ref.rangeBehavior,monthTimestamp=_ref.month,minDateTimestamp=_ref.minDate,maxDateTimestamp=_ref.maxDate,defaultMonthTimestamp=_ref.defaultMonth,offDays=_ref.offDays,events=_ref.events,holidays=_ref.holidays,onChange=_ref.onChange,onMonthTitleClick=_ref.onMonthTitleClick,selectedFrom=_ref.selectedFrom,selectedTo=_ref.selectedTo,_ref$yearsAmount=_ref.yearsAmount,yearsAmount=void 0===_ref$yearsAmount?3:_ref$yearsAmount,dayAddons=_ref.dayAddons,_ref$shape=_ref.shape,shape=void 0===_ref$shape?"rounded":_ref$shape,scrollableContainer=_ref.scrollableContainer,clickableMonth=_ref.clickableMonth,range=(0,_useRange__WEBPACK_IMPORTED_MODULE_5__.C)({mode:void 0===_ref$mode?"single":_ref$mode,value:value,selectedFrom:selectedFrom,selectedTo:selectedTo,rangeBehavior:void 0===_ref$rangeBehavior?"clarification":_ref$rangeBehavior,onChange:onChange}),month=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return monthTimestamp?new Date(monthTimestamp):void 0},[monthTimestamp]),minDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return minDateTimestamp?(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_6__.Z)(minDateTimestamp):void 0},[minDateTimestamp]),maxDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return clickableMonth&&!maxDateTimestamp?new Date:maxDateTimestamp?(0,date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_7__.Z)(maxDateTimestamp):void 0},[maxDateTimestamp,clickableMonth]),selected=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return range.value?new Date(range.value):void 0},[range.value]),startingDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(range.value),defaultMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_8__.Z)(selected||(0,_utils__WEBPACK_IMPORTED_MODULE_9__.zi)(defaultMonthTimestamp||Date.now(),minDateTimestamp,maxDateTimestamp))},[defaultMonthTimestamp,maxDateTimestamp,minDateTimestamp,selected]),_useCalendar=(0,_useCalendar__WEBPACK_IMPORTED_MODULE_10__.G)({month:month,defaultMonth:defaultMonth,view:"months",minDate:minDate,maxDate:maxDate,selected:selected,offDays:offDays,events:events,onChange:range.onChange,dayAddons:dayAddons}),activeMonth=_useCalendar.activeMonth,highlighted=_useCalendar.highlighted,getDayProps=_useCalendar.getDayProps,activeMonths=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){for(var eventsMap=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.LT)(events||[]),offDaysMap=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.LT)(offDays||[]),holidaysMap=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.LT)(holidays||[]),dayAddonsMap=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.j1)(dayAddons||[]),prevMonths=[],nextMonths=[],date=startingDate.current?new Date(startingDate.current):new Date,currentYear=date.getFullYear(),currYearMonths=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.NB)(date,{}),i=0;i<yearsAmount;i++){var prevYear=date.setFullYear(currentYear-(i+1)),nextYear=date.setFullYear(currentYear+(i+1)),prevYearMonths=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.NB)(new Date(prevYear),{}),nextYearMonths=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.NB)(new Date(nextYear),{});prevMonths.unshift.apply(prevMonths,(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(prevYearMonths)),nextMonths.push.apply(nextMonths,(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(nextYearMonths))}return[].concat(prevMonths,(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(currYearMonths),nextMonths).reduce(function(acc,item){return minDate&&(0,date_fns_isBefore__WEBPACK_IMPORTED_MODULE_12__.Z)(item.date,(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_8__.Z)(minDate))||maxDate&&(0,date_fns_isAfter__WEBPACK_IMPORTED_MODULE_13__.Z)(item.date,(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_8__.Z)(maxDate))?acc:[].concat((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_11__.Z)(acc),[(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__.Z)({},item),{},{weeks:(0,_utils__WEBPACK_IMPORTED_MODULE_9__.zK)(item.date,{minDate:minDate,maxDate:maxDate,selected:selected,eventsMap:eventsMap,offDaysMap:offDaysMap,holidaysMap:holidaysMap,dayAddonsMap:dayAddonsMap}),title:"".concat((0,_utils__WEBPACK_IMPORTED_MODULE_9__.oz)(item.date)," ").concat(item.date.getFullYear())})])},[])},[events,offDays,holidays,dayAddons,minDate,maxDate,yearsAmount,selected]),initialMonthIndex=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){var date=range.value||range.selectedFrom||activeMonth.getTime()||Date.now();return Math.max(activeMonths.findIndex(function(m){return(0,date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_15__.Z)(date,m.date)}),0)},[range.value,range.selectedFrom,activeMonth,activeMonths]),isMonthActive=function(currentMonthIndex){if(!value||!(0,_utils__WEBPACK_IMPORTED_MODULE_9__.YG)(value)||!value.dateFrom||!value.dateTo)return!1;var dateFrom=value.dateFrom,dateTo=value.dateTo,currentMonthDate=activeMonths[currentMonthIndex].date,monthStartTimestamp=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.PM)(currentMonthDate),monthEndTimestamp=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.cp)(currentMonthDate);return dateFrom<=monthStartTimestamp&&dateTo>=monthEndTimestamp},handleClickMonthLabel=function(index){if(onChange){var dateActiveMonths=activeMonths[index].date,clickedMonthStartTimestamp=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.PM)(dateActiveMonths),clickedMonthEndTimestamp=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.cp)(dateActiveMonths);if(!value||!(0,_utils__WEBPACK_IMPORTED_MODULE_9__.YG)(value)||!value.dateFrom||!value.dateTo){onChange(clickedMonthStartTimestamp,clickedMonthEndTimestamp);return}var dateFrom=value.dateFrom,dateTo=value.dateTo,selectedRangeStartDate=new Date(dateFrom),selectedRangeEndDate=new Date(dateTo),selectedRangeStartTimestamp=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.PM)(selectedRangeStartDate),selectedRangeEndTimestamp=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.cp)(selectedRangeEndDate),isSingleMonthSelected=(0,date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_15__.Z)(selectedRangeStartDate,selectedRangeEndDate)&&dateFrom<=selectedRangeStartTimestamp&&dateTo>=selectedRangeEndTimestamp,isSameMonthClicked=(0,date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_15__.Z)(selectedRangeStartDate,dateActiveMonths),isClickedMonthInsideRange=clickedMonthEndTimestamp>=selectedRangeStartTimestamp&&clickedMonthStartTimestamp<=selectedRangeEndTimestamp;isSingleMonthSelected&&isSameMonthClicked?onChange():isClickedMonthInsideRange||!(selectedRangeStartTimestamp===dateFrom&&selectedRangeEndTimestamp===dateTo)?onChange(clickedMonthStartTimestamp,clickedMonthEndTimestamp):onChange(Math.min(selectedRangeStartTimestamp,clickedMonthStartTimestamp),Math.max(selectedRangeEndTimestamp,clickedMonthEndTimestamp))}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_virtuoso__WEBPACK_IMPORTED_MODULE_18__.OO,{totalCount:activeMonths.length,itemContent:function(index){var isAfterDate=(0,date_fns_isAfter__WEBPACK_IMPORTED_MODULE_13__.Z)(activeMonths[index].date,null!=maxDate?maxDate:new Date);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.daysTable,id:"month-".concat(index),children:[onMonthTitleClick?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.month,onClick:onMonthTitleClick,tabIndex:0,role:"button",children:activeMonths[index].title}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__.Z)({className:classnames__WEBPACK_IMPORTED_MODULE_1___default()(_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.month,(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_14__.Z)({},clickableMonth&&(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_16__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_16__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_16__.Z)((0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_16__.Z)({},_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.clickableMonth,!0),_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.rectangular,"rectangular"===shape),_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.active,isMonthActive(index)),_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.disabled,isAfterDate)))},clickableMonth&&{onClick:function onClick(){return handleClickMonthLabel(index)}}),{},{children:clickableMonth?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_alfalab_core_components_typography__WEBPACK_IMPORTED_MODULE_2__.Typography.Text,{className:_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.monthTitle,view:"primary-small",color:"primary",children:activeMonths[index].title}):"\xa0".concat(activeMonths[index].title,"\xa0")})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_days_table__WEBPACK_IMPORTED_MODULE_17__.n,{withTransition:!1,weeks:activeMonths[index].weeks,activeMonth:activeMonth,selectedFrom:range.selectedFrom,selectedTo:range.selectedTo,getDayProps:getDayProps,highlighted:highlighted,hasHeader:!1,responsive:!0,shape:shape})]})},initialTopMostItemIndex:{index:null!=initialMonthIndex?initialMonthIndex:0,align:"center"},increaseViewportBy:500,itemSize:function itemSize(el){return el.getBoundingClientRect().height+32},customScrollParent:scrollableContainer,useWindowScroll:!0,className:_index_module_css__WEBPACK_IMPORTED_MODULE_3__.Z.virtuoso})};try{CalendarMonthOnlyView.displayName="CalendarMonthOnlyView",CalendarMonthOnlyView.__docgenInfo={description:"",displayName:"CalendarMonthOnlyView",props:{onMonthTitleClick:{defaultValue:null,description:"Обработчик клика на название месяца в мобильном календаре",name:"onMonthTitleClick",required:!1,type:{name:"((event: MouseEvent<HTMLSpanElement, MouseEvent>) => void)"}},yearsAmount:{defaultValue:{value:"3"},description:"Количество лет для генерации в обе стороны от текущего года",name:"yearsAmount",required:!1,type:{name:"number"}},scrollableContainer:{defaultValue:null,description:"Родительский контейнер для отслеживания скролла",name:"scrollableContainer",required:!1,type:{name:"HTMLElement"}},defaultMonth:{defaultValue:null,description:"Месяц, открытый по умолчанию (timestamp)",name:"defaultMonth",required:!1,type:{name:"number"}},minDate:{defaultValue:null,description:"Минимальная дата, доступная для выбора (timestamp)",name:"minDate",required:!1,type:{name:"number"}},maxDate:{defaultValue:null,description:"Максимальная дата, доступная для выбора (timestamp)",name:"maxDate",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"Обработчик выбора даты",name:"onChange",required:!1,type:{name:"((date?: number, dateTo?: number) => void) | undefined"}},events:{defaultValue:null,description:"Список событий",name:"events",required:!1,type:{name:"(number | Date)[]"}},offDays:{defaultValue:null,description:"Список отключенных для выбора дней.",name:"offDays",required:!1,type:{name:"(number | Date)[]"}},mode:{defaultValue:{value:"single"},description:"Режим выбора дат",name:"mode",required:!1,type:{name:"enum",value:[{value:'"range"'},{value:'"single"'}]}},mobile:{defaultValue:null,description:"CalendarDesktop используется в мобильной и десктопной версии\nПропс позволяет определить платформу",name:"mobile",required:!1,type:{name:"boolean"}},value:{defaultValue:null,description:"Выбранная дата (timestamp)",name:"value",required:!1,type:{name:"number | { dateFrom?: number; dateTo?: number; } | undefined"}},rangeBehavior:{defaultValue:{value:"clarification"},description:"Тип выбора границ в календаре",name:"rangeBehavior",required:!1,type:{name:"enum",value:[{value:'"reset"'},{value:'"clarification"'}]}},shape:{defaultValue:{value:"rounded"},description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},month:{defaultValue:null,description:"Открытый месяц (timestamp)",name:"month",required:!1,type:{name:"number"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода (timestamp)\n@deprecated используйте value вместе с mode='range'",name:"selectedFrom",required:!1,type:{name:"number"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода (timestamp)\n@deprecated используйте value вместе с mode='range'",name:"selectedTo",required:!1,type:{name:"number"}},holidays:{defaultValue:null,description:"Список выходных",name:"holidays",required:!1,type:{name:"(number | Date)[]"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},hideDisabledArrows:{defaultValue:{value:"true"},description:"Скрывает заблокированные кнопки в периоде, если selectorView 'month-only'",name:"hideDisabledArrows",required:!1,type:{name:"boolean"}},clickableMonth:{defaultValue:null,description:"",name:"clickableMonth",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/calendar-mobile/calendarMonthOnlyView.tsx#CalendarMonthOnlyView"]={docgenInfo:CalendarMonthOnlyView.__docgenInfo,name:"CalendarMonthOnlyView",path:"packages/calendar/src/components/calendar-mobile/calendarMonthOnlyView.tsx#CalendarMonthOnlyView"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/components/days-table/Component.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{n:function(){return DaysTable}});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),TransitionGroup=__webpack_require__("./node_modules/react-transition-group/esm/TransitionGroup.js"),CSSTransition=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),isEqual=__webpack_require__("./node_modules/date-fns/esm/isEqual/index.js"),isLastDayOfMonth=__webpack_require__("./node_modules/date-fns/esm/isLastDayOfMonth/index.js"),isSameDay=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),isToday=__webpack_require__("./node_modules/date-fns/esm/isToday/index.js"),isWithinInterval=__webpack_require__("./node_modules/date-fns/esm/isWithinInterval/index.js"),startOfMonth=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),desktop=__webpack_require__("./dist/button/modern/desktop/index.js"),hook=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/usePrevious/hook.js"),utils=__webpack_require__("./packages/calendar/src/utils.ts"),index_module={daysTable:"daysTable_ienHc",responsive:"responsive_hox6R",dayName:"dayName_YMtAm",day:"day_k4E_o",rounded:"rounded_ACnj8",rectangular:"rectangular__Jdtd",highlighted:"highlighted_LI5WC",range:"range_EniRW",disabled:"disabled_LvQBx",holiday:"holiday_Zlu1b",today:"today_A07Pv",rangeComplete:"rangeComplete_HNZCQ",selected:"selected_ybNjY",dayWrapper:"dayWrapper_xipXu",cursorPointer:"cursorPointer_gBFq6",rangeEnd:"rangeEnd_E5hCP",shapeRectangular:"shapeRectangular_UVWC0",rangeStart:"rangeStart_Evclc",transitLeft:"transitLeft_YRcw5",transitRight:"transitRight_iklL3",sharpTransitLeft:"sharpTransitLeft_MGzps",sharpTransitRight:"sharpTransitRight_uk_MG",daysEnter:"daysEnter_mXECn",left:"left_PkLol",daysEnterActive:"daysEnterActive_ErNTG",daysExit:"daysExit_JHJJr",daysExitActive:"daysExitActive_WCtDb",right:"right_fezZS",dayAddons:"dayAddons_ZK5A0",dayContent:"dayContent_J_3Xc",addons:"addons_rEEvG",dot:"dot_J6CgM",bottomAddon:"bottomAddon_iLX3Y"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),DaysTable=function(_ref){var _ref$weeks=_ref.weeks,weeks=void 0===_ref$weeks?[]:_ref$weeks,_ref$activeMonth=_ref.activeMonth,activeMonth=void 0===_ref$activeMonth?new Date:_ref$activeMonth,highlighted=_ref.highlighted,selectedFrom=_ref.selectedFrom,selectedTo=_ref.selectedTo,_ref$rangeComplete=_ref.rangeComplete,rangeComplete=void 0===_ref$rangeComplete?selectedFrom&&selectedTo:_ref$rangeComplete,getDayProps=_ref.getDayProps,_ref$hasHeader=_ref.hasHeader,responsive=_ref.responsive,_ref$shape=_ref.shape,shape=void 0===_ref$shape?"rounded":_ref$shape,_ref$withTransition=_ref.withTransition,activeMonthRef=(0,react.useRef)(activeMonth),directionRef=(0,react.useRef)();activeMonthRef.current=activeMonth;var prevActiveMonth=(0,hook.D)(activeMonth);prevActiveMonth&&prevActiveMonth!==activeMonth&&(directionRef.current=activeMonth<prevActiveMonth?"right":"left");var selection=(0,utils.pl)(selectedFrom,selectedTo,highlighted),renderHeader=(0,react.useCallback)(function(){return utils.c8.map(function(dayName){return(0,jsx_runtime.jsx)("th",{className:index_module.dayName,children:dayName},dayName)})},[]),renderDay=function(day,dayIdx){if(!day)return(0,jsx_runtime.jsx)("td",{},dayIdx);var daySelected=day.selected||selectedFrom&&(0,isSameDay.Z)(day.date,selectedFrom)||selectedTo&&(0,isSameDay.Z)(day.date,selectedTo),dayHighlighted=highlighted&&(0,isEqual.Z)(day.date,highlighted),inRange=selection&&(0,isWithinInterval.Z)(day.date,selection),firstDayOfMonth=1===day.date.getDate(),lastDayOfMonth=(0,isLastDayOfMonth.Z)(day.date),firstDayOfWeek=0===(0,utils.zx)(day.date),lastDayOfWeek=6===(0,utils.zx)(day.date),transitLeft=firstDayOfMonth&&inRange&&selection&&day.date>selection.start,transitRight=lastDayOfMonth&&inRange&&selection&&day.date<selection.end,rangeStart=selection&&(0,isSameDay.Z)(day.date,selection.start),rangeEnd=selection&&(0,isSameDay.Z)(day.date,selection.end),sharpTransitLeft=firstDayOfWeek&&firstDayOfMonth&&inRange&&selection&&((0,isSameDay.Z)(day.date,selection.start)||(0,isSameDay.Z)(day.date,selection.end)),sharpTransitRight=lastDayOfWeek&&lastDayOfMonth&&inRange&&selection&&((0,isSameDay.Z)(day.date,selection.start)||(0,isSameDay.Z)(day.date,selection.end)),dayProps=getDayProps(day),onClick=dayProps.onClick;return(0,react.createElement)("td",(0,objectSpread2.Z)((0,objectSpread2.Z)({},dayProps),{},{key:day.date.getTime(),className:classnames_default()(index_module.dayWrapper,(0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)({},index_module.range,inRange),index_module.rangeComplete,inRange&&rangeComplete),index_module.transitLeft,transitLeft),index_module.transitRight,transitRight),index_module.sharpTransitLeft,sharpTransitLeft),index_module.sharpTransitRight,sharpTransitRight),index_module.rangeStart,rangeStart),index_module.rangeEnd,rangeEnd),index_module.cursorPointer,!day.disabled),index_module.shapeRectangular,"rectangular"===shape)),align:"center",ref:function ref(node){(0,startOfMonth.Z)(day.date).getTime()===activeMonthRef.current.getTime()&&dayProps.ref(node)},onClick:function(e){day.disabled||onClick(e)}}),(0,jsx_runtime.jsxs)(desktop.ButtonDesktop,{type:"button",view:"text",size:"xs",disabled:day.disabled,className:classnames_default()(index_module.day,index_module[shape],(0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)({},index_module.dayAddons,day.dayAddon),index_module.selected,daySelected),index_module.today,(0,isToday.Z)(day.date)),index_module.disabled,day.disabled),index_module.holiday,!day.disabled&&day.holiday),index_module.highlighted,dayHighlighted)),children:[(0,jsx_runtime.jsx)("span",{className:classnames_default()(index_module.dayContent,(0,defineProperty.Z)({},index_module.today,(0,isToday.Z)(day.date))),children:day.date.getDate()}),(0,jsx_runtime.jsx)("span",{className:classnames_default()(index_module.addons,(0,defineProperty.Z)((0,defineProperty.Z)((0,defineProperty.Z)({},index_module.dot,day.event),index_module.bottomAddon,day.dayAddon),index_module.selected,daySelected)),children:day.dayAddon})]}))},renderWeek=function(week,weekIdx){return(0,jsx_runtime.jsx)("tr",{children:week.map(renderDay)},weekIdx)},renderMonth=function(){return(0,jsx_runtime.jsx)("tbody",{children:weeks.map(renderWeek)})};return(0,jsx_runtime.jsxs)("table",{className:classnames_default()(index_module.daysTable,directionRef.current&&index_module[directionRef.current],(0,defineProperty.Z)({},index_module.responsive,responsive)),children:[(void 0===_ref$hasHeader||_ref$hasHeader)&&(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsx)("tr",{children:renderHeader()})}),void 0===_ref$withTransition||_ref$withTransition?(0,jsx_runtime.jsx)(TransitionGroup.Z,{component:null,children:(0,jsx_runtime.jsx)(CSSTransition.Z,{timeout:300,classNames:{enter:index_module.daysEnter,enterActive:index_module.daysEnterActive,exit:index_module.daysExit,exitActive:index_module.daysExitActive},children:renderMonth()},activeMonth.getTime())}):renderMonth()]})};try{DaysTable.displayName="DaysTable",DaysTable.__docgenInfo={description:"",displayName:"DaysTable",props:{weeks:{defaultValue:{value:"[]"},description:"Массив-календарь недель",name:"weeks",required:!1,type:{name:"Day[][]"}},activeMonth:{defaultValue:{value:"new Date()"},description:"Активный месяц",name:"activeMonth",required:!1,type:{name:"Date"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода",name:"selectedFrom",required:!1,type:{name:"number | Date"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода",name:"selectedTo",required:!1,type:{name:"number | Date"}},rangeComplete:{defaultValue:{value:"selectedFrom && selectedTo"},description:"Индикатор, что выбран полный период",name:"rangeComplete",required:!1,type:{name:"boolean"}},highlighted:{defaultValue:null,description:"Подсвеченная дата (ховер)",name:"highlighted",required:!1,type:{name:"number | Date"}},getDayProps:{defaultValue:null,description:"Доп. пропсы для переданного дня",name:"getDayProps",required:!0,type:{name:"(day: Day) => Record<string, unknown> & { ref: (instance: HTMLTableDataCellElement | null) => void; onClick: (e: MouseEvent<HTMLTableDataCellElement, MouseEvent>) => void; }"}},hasHeader:{defaultValue:{value:"true"},description:"Нужно ли рендерить шапку",name:"hasHeader",required:!1,type:{name:"boolean"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},shape:{defaultValue:{value:"rounded"},description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},withTransition:{defaultValue:{value:"true"},description:"Рендерит компонент, обернутый в Transition",name:"withTransition",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/days-table/Component.tsx#DaysTable"]={docgenInfo:DaysTable.__docgenInfo,name:"DaysTable",path:"packages/calendar/src/components/days-table/Component.tsx#DaysTable"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/components/period-slider/Component.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{h:function(){return PeriodSlider}});var slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),endOfWeek=__webpack_require__("./node_modules/date-fns/esm/endOfWeek/index.js"),startOfWeek=__webpack_require__("./node_modules/date-fns/esm/startOfWeek/index.js"),desktop=__webpack_require__("./dist/button/modern/desktop/index.js"),modern=__webpack_require__("./dist/icon-button/modern/index.js"),shared_modern=__webpack_require__("./dist/shared/modern/index.js"),ChevronBackMIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/ChevronBackMIcon.js"),utils=__webpack_require__("./packages/calendar/src/utils.ts"),addDays=__webpack_require__("./node_modules/date-fns/esm/addDays/index.js"),addMonths=__webpack_require__("./node_modules/date-fns/esm/addMonths/index.js"),addQuarters=__webpack_require__("./node_modules/date-fns/esm/addQuarters/index.js"),addWeeks=__webpack_require__("./node_modules/date-fns/esm/addWeeks/index.js"),addYears=__webpack_require__("./node_modules/date-fns/esm/addYears/index.js"),differenceInDays=__webpack_require__("./node_modules/date-fns/esm/differenceInDays/index.js"),endOfMonth=__webpack_require__("./node_modules/date-fns/esm/endOfMonth/index.js"),endOfQuarter=__webpack_require__("./node_modules/date-fns/esm/endOfQuarter/index.js"),endOfYear=__webpack_require__("./node_modules/date-fns/esm/endOfYear/index.js"),getQuarter=__webpack_require__("./node_modules/date-fns/esm/getQuarter/index.js"),getYear=__webpack_require__("./node_modules/date-fns/esm/getYear/index.js"),isToday=__webpack_require__("./node_modules/date-fns/esm/isToday/index.js"),isYesterday=__webpack_require__("./node_modules/date-fns/esm/isYesterday/index.js"),startOfMonth=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),startOfQuarter=__webpack_require__("./node_modules/date-fns/esm/startOfQuarter/index.js"),startOfYear=__webpack_require__("./node_modules/date-fns/esm/startOfYear/index.js"),formatPeriod=function(valueFrom,valueTo,periodType,showCurrentYear){if("day"===periodType)return(0,isToday.Z)(valueFrom)?"Сегодня":(0,isYesterday.Z)(valueFrom)?"Вчера":(0,utils.p6)(valueFrom);if("month"===periodType){var monthAndYear="".concat((0,utils.oz)(valueFrom)," ").concat((0,getYear.Z)(valueFrom));return showCurrentYear?monthAndYear:(0,getYear.Z)(valueFrom)===(0,getYear.Z)(new Date)?(0,utils.oz)(valueFrom):monthAndYear}return"quarter"===periodType?"".concat((0,getQuarter.Z)(valueFrom)," квартал ").concat((0,getYear.Z)(valueFrom)):"year"===periodType?"".concat((0,getYear.Z)(valueFrom)," год"):"".concat((0,utils.p6)(valueFrom)," - ").concat((0,utils.p6)(valueTo))},getYearSelectorValue=function(valueFrom,showCurrentYear){if(!valueFrom)return"";var year=(0,getYear.Z)(valueFrom);return year===(0,getYear.Z)(new Date)?showCurrentYear?year:"":year},shiftValues=function(valueFrom,valueTo,periodType,direction){var newValueFrom=valueFrom,newValueTo=valueTo,amount="next"===direction?1:-1;switch(periodType){case"day":newValueFrom=(0,addDays.Z)(valueFrom,amount),newValueTo=(0,addDays.Z)(valueFrom,amount);break;case"week":newValueFrom=(0,startOfWeek.Z)((0,addWeeks.Z)(valueFrom,amount),{weekStartsOn:1}),newValueTo=(0,endOfWeek.Z)(newValueFrom,{weekStartsOn:1});break;case"month":newValueFrom=(0,startOfMonth.Z)((0,addMonths.Z)(valueFrom,amount)),newValueTo=(0,endOfMonth.Z)(newValueFrom);break;case"quarter":newValueFrom=(0,startOfQuarter.Z)((0,addQuarters.Z)(valueFrom,amount)),newValueTo=(0,endOfQuarter.Z)(newValueFrom);break;case"year":newValueFrom=(0,startOfYear.Z)((0,addYears.Z)(valueFrom,amount)),newValueTo=(0,endOfYear.Z)(newValueFrom);break;case"range":var diffInDays=(0,differenceInDays.Z)(valueTo,valueFrom);newValueFrom=(0,addDays.Z)(valueFrom,diffInDays*amount),newValueTo=(0,addDays.Z)(valueTo,diffInDays*amount)}return{valueFrom:newValueFrom,valueTo:newValueTo}},index_module={component:"component_yOD0m",period:"period_EGEyc",clicablePeriod:"clicablePeriod_lfFFP",empty:"empty_OPNF6",arrow:"arrow_gz7uq",yearSelectorButton:"yearSelectorButton_pYEbe"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),PeriodSlider=function(_ref){var value=_ref.value,_ref$periodType=_ref.periodType,periodType=void 0===_ref$periodType?"month":_ref$periodType,className=_ref.className,_ref$periodFormatter=_ref.periodFormatter,periodFormatter=void 0===_ref$periodFormatter?formatPeriod:_ref$periodFormatter,_ref$prevArrowDisable=_ref.prevArrowDisabled,prevArrowDisabled=void 0!==_ref$prevArrowDisable&&_ref$prevArrowDisable,_ref$nextArrowDisable=_ref.nextArrowDisabled,nextArrowDisabled=void 0!==_ref$nextArrowDisable&&_ref$nextArrowDisable,_ref$hideDisabledArro=_ref.hideDisabledArrows,hideDisabledArrows=void 0!==_ref$hideDisabledArro&&_ref$hideDisabledArro,_ref$isMonthAndYearSe=_ref.isMonthAndYearSelectable,_ref$showCurrentYearS=_ref.showCurrentYearSelector,showCurrentYearSelector=void 0!==_ref$showCurrentYearS&&_ref$showCurrentYearS,_ref$onPrevArrowClick=_ref.onPrevArrowClick,onPrevArrowClick=void 0===_ref$onPrevArrowClick?function(){return null}:_ref$onPrevArrowClick,_ref$onNextArrowClick=_ref.onNextArrowClick,onNextArrowClick=void 0===_ref$onNextArrowClick?function(){return null}:_ref$onNextArrowClick,onMonthClick=_ref.onMonthClick,onYearClick=_ref.onYearClick,onPeriodClick=_ref.onPeriodClick,_ref$dataTestId=_ref.dataTestId,dataTestId=void 0===_ref$dataTestId?"period-slider":_ref$dataTestId,_ref$emptyValueText=_ref.emptyValueText,_useMemo=(0,react.useMemo)(function(){if(!value)return[void 0,void 0];if(Array.isArray(value)){var from,to,_value=(0,slicedToArray.Z)(value,2);from=_value[0],to=_value[1]}else from=value,to=value,"week"===periodType&&(from=(0,startOfWeek.Z)(from,{weekStartsOn:1}),to=(0,endOfWeek.Z)(from,{weekStartsOn:1}));return[from,to]},[periodType,value]),_useMemo2=(0,slicedToArray.Z)(_useMemo,2),valueFrom=_useMemo2[0],valueTo=_useMemo2[1],yearSelectorValue=(0,react.useMemo)(function(){return getYearSelectorValue(valueFrom,showCurrentYearSelector)},[showCurrentYearSelector,valueFrom]),showArrow=function(direction){return!hideDisabledArrows||!("prev"===direction?prevArrowDisabled:nextArrowDisabled)&&valueFrom};return(0,jsx_runtime.jsxs)("div",{className:classnames_default()(index_module.component,className),"aria-live":"polite","data-test-id":dataTestId,children:[showArrow("prev")&&(0,jsx_runtime.jsx)(modern.IconButton,{size:"xs",className:index_module.arrow,icon:ChevronBackMIcon.ChevronBackMIcon,onClick:function(event){if(valueFrom&&valueTo){var newValues=shiftValues(valueFrom,valueTo,periodType,"prev");onPrevArrowClick(event,{value:newValues.valueFrom,valueFrom:newValues.valueFrom,valueTo:newValues.valueTo,periodType:periodType})}},disabled:prevArrowDisabled||!valueFrom,"aria-label":"Предыдущий период",dataTestId:(0,shared_modern.getDataTestId)(dataTestId,"btn-previous-day")}),valueFrom&&valueTo?"month"===periodType&&void 0!==_ref$isMonthAndYearSe&&_ref$isMonthAndYearSe?(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(desktop.ButtonDesktop,{className:index_module.period,view:"text",size:"l",onClick:onMonthClick,children:(0,utils.oz)(valueFrom)}),yearSelectorValue&&(0,jsx_runtime.jsx)(desktop.ButtonDesktop,{className:classnames_default()(index_module.yearSelectorButton,index_module.period),view:"text",size:"l",onClick:onYearClick,children:yearSelectorValue})]}):onPeriodClick?(0,jsx_runtime.jsx)("a",{role:"button",tabIndex:0,onClick:onPeriodClick,className:classnames_default()(index_module.period,index_module.clicablePeriod),children:periodFormatter(valueFrom,valueTo,periodType,showCurrentYearSelector)}):(0,jsx_runtime.jsx)("span",{className:index_module.period,children:periodFormatter(valueFrom,valueTo,periodType,showCurrentYearSelector)}):(0,jsx_runtime.jsx)("span",{className:classnames_default()(index_module.period,index_module.empty),children:void 0===_ref$emptyValueText?"Укажите период":_ref$emptyValueText}),showArrow("next")&&(0,jsx_runtime.jsx)(modern.IconButton,{size:"xs",className:index_module.arrow,icon:ChevronBackMIcon.ChevronBackMIcon,onClick:function(event){if(valueFrom&&valueTo){var newValues=shiftValues(valueFrom,valueTo,periodType,"next");onNextArrowClick(event,{value:newValues.valueFrom,valueFrom:newValues.valueFrom,valueTo:newValues.valueTo,periodType:periodType})}},disabled:nextArrowDisabled||!valueFrom,"aria-label":"Следующий период",dataTestId:(0,shared_modern.getDataTestId)(dataTestId,"btn-next-day")})]})};try{PeriodSlider.displayName="PeriodSlider",PeriodSlider.__docgenInfo={description:"",displayName:"PeriodSlider",props:{value:{defaultValue:null,description:"Активная дата или период",name:"value",required:!1,type:{name:"Date | [Date, Date]"}},periodType:{defaultValue:{value:"month"},description:"Тип периода",name:"periodType",required:!1,type:{name:"enum",value:[{value:'"range"'},{value:'"month"'},{value:'"week"'},{value:'"day"'},{value:'"quarter"'},{value:'"year"'}]}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},prevArrowDisabled:{defaultValue:{value:"false"},description:"Отключает кнопку назад",name:"prevArrowDisabled",required:!1,type:{name:"boolean"}},nextArrowDisabled:{defaultValue:{value:"false"},description:"Отключает кнопку вперед",name:"nextArrowDisabled",required:!1,type:{name:"boolean"}},hideDisabledArrows:{defaultValue:{value:"false"},description:"Скрывает заблокированные кнопки",name:"hideDisabledArrows",required:!1,type:{name:"boolean"}},isMonthAndYearSelectable:{defaultValue:{value:"false"},description:"Возможность выбора месяца и года, если periodType 'month'",name:"isMonthAndYearSelectable",required:!1,type:{name:"boolean"}},showCurrentYearSelector:{defaultValue:{value:"false"},description:"Отображать ли текущий год, если isMonthAndYearSelectable true",name:"showCurrentYearSelector",required:!1,type:{name:"boolean"}},periodFormatter:{defaultValue:{value:"(\n    valueFrom: Date,\n    valueTo: Date,\n    periodType: PeriodType,\n    showCurrentYear?: boolean,\n) => {\n    if (periodType === 'day') {\n        if (isToday(valueFrom)) return 'Сегодня';\n        if (isYesterday(valueFrom)) return 'Вчера';\n\n        return formatDate(valueFrom);\n    }\n\n    if (periodType === 'month') {\n        const monthAndYear = `${monthName(valueFrom)} ${getYear(valueFrom)}`;\n\n        if (showCurrentYear) {\n            return monthAndYear;\n        }\n        const year = getYear(valueFrom);\n\n        return year === getYear(new Date()) ? monthName(valueFrom) : monthAndYear;\n    }\n\n    if (periodType === 'quarter') {\n        return `${getQuarter(valueFrom)} квартал ${getYear(valueFrom)}`;\n    }\n\n    if (periodType === 'year') {\n        return `${getYear(valueFrom)} год`;\n    }\n\n    return `${formatDate(valueFrom)} - ${formatDate(valueTo)}`;\n}"},description:"Функция для форматирование выбранного периода",name:"periodFormatter",required:!1,type:{name:"((valueFrom: Date, valueTo: Date, periodType: PeriodType) => string)"}},onPrevArrowClick:{defaultValue:{value:"() => null"},description:"Обработчик нажатия кнопки переключения на назад",name:"onPrevArrowClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>, payload: { value: Date; valueFrom: Date; valueTo: Date; periodType: PeriodType; }) => void)"}},onNextArrowClick:{defaultValue:{value:"() => null"},description:"Обработчик нажатия кнопки переключения на вперед",name:"onNextArrowClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>, payload: { value: Date; valueFrom: Date; valueTo: Date; periodType: PeriodType; }) => void)"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на селектор месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на селектор года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onPeriodClick:{defaultValue:null,description:"Обработчик нажатия на период",name:"onPeriodClick",required:!1,type:{name:"((event: MouseEvent<HTMLAnchorElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:{value:"period-slider"},description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},emptyValueText:{defaultValue:{value:"Укажите период"},description:"Отображаемый текст, когда слайдеру не переданы значения c датами value={...}",name:"emptyValueText",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/period-slider/Component.tsx#PeriodSlider"]={docgenInfo:PeriodSlider.__docgenInfo,name:"PeriodSlider",path:"packages/calendar/src/components/period-slider/Component.tsx#PeriodSlider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/desktop/Component.desktop.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{l:function(){return CalendarDesktop}});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),endOfDay=__webpack_require__("./node_modules/date-fns/esm/endOfDay/index.js"),startOfDay=__webpack_require__("./node_modules/date-fns/esm/startOfDay/index.js"),startOfMonth=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),modern=__webpack_require__("./dist/shared/modern/index.js"),hook=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/useLayoutEffect_SAFE_FOR_SSR/hook.js"),useDidUpdateEffect_hook=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/useDidUpdateEffect/hook.js"),Component=__webpack_require__("./packages/calendar/src/components/days-table/Component.tsx"),index_module={header:"header_NrMdQ",withShadow:"withShadow_d7QW7"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Header=function(_ref){var _ref$view=_ref.view,withShadow=_ref.withShadow,children=_ref.children,className=_ref.className;return(0,jsx_runtime.jsx)("div",{className:classnames_default()(index_module.header,className,(0,defineProperty.Z)((0,defineProperty.Z)({},index_module.monthOnly,"month-only"===(void 0===_ref$view?"full":_ref$view)),index_module.withShadow,withShadow)),"aria-live":"polite",children:children})};try{Header.displayName="Header",Header.__docgenInfo={description:"",displayName:"Header",props:{view:{defaultValue:{value:"full"},description:"Вид шапки — месяц и год или только месяц",name:"view",required:!1,type:{name:"enum",value:[{value:'"month-only"'},{value:'"full"'}]}},withShadow:{defaultValue:null,description:"Отображать тень? (нужна при прокрутке)",name:"withShadow",required:!1,type:{name:"boolean"}},children:{defaultValue:null,description:"Дочерние элементы.",name:"children",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/header/Component.tsx#Header"]={docgenInfo:Header.__docgenInfo,name:"Header",path:"packages/calendar/src/components/header/Component.tsx#Header"})}catch(__react_docgen_typescript_loader_error){}var ChevronDownCompactSIcon=__webpack_require__("./node_modules/@alfalab/icons-glyph/ChevronDownCompactSIcon.js"),utils=__webpack_require__("./packages/calendar/src/utils.ts"),objectWithoutProperties=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),desktop=__webpack_require__("./dist/button/modern/desktop/index.js"),select_button_index_module={button:"button_O9Vap",filled:"filled_fCwuJ",current:"current_y5ioI",selected:"selected_ssICg"},_excluded=["className","children","view"],SelectButton=(0,react.forwardRef)(function(_ref,ref){var className=_ref.className,children=_ref.children,_ref$view=_ref.view,restProps=(0,objectWithoutProperties.Z)(_ref,_excluded);return(0,jsx_runtime.jsx)(desktop.ButtonDesktop,(0,objectSpread2.Z)((0,objectSpread2.Z)({},restProps),{},{ref:ref,view:"text",size:"xs",className:classnames_default()("button_O9Vap",select_button_index_module[void 0===_ref$view?"default":_ref$view],className),children:children}))});try{SelectButton.displayName="SelectButton",SelectButton.__docgenInfo={description:"",displayName:"SelectButton",props:{view:{defaultValue:{value:"default"},description:"Вид кнопки",name:"view",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"selected"'},{value:'"filled"'},{value:'"current"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/select-button/Component.tsx#SelectButton"]={docgenInfo:SelectButton.__docgenInfo,name:"SelectButton",path:"packages/calendar/src/components/select-button/Component.tsx#SelectButton"})}catch(__react_docgen_typescript_loader_error){}var month_year_header_index_module={component:"component_EC2vL",button:"button_dIA8x",month:"month_rlIJB",year:"year_bH27G",buttonContent:"buttonContent_H9ohd",upDownIcon:"upDownIcon_jFfhK"},mobile_module={button:"button_HeOtr"},MonthYearHeader=function(_ref){var value=_ref.value,className=_ref.className,onMonthClick=_ref.onMonthClick,onYearClick=_ref.onYearClick,dataTestId=_ref.dataTestId,mobile=_ref.mobile,month=value?(0,utils.oz)(value):void 0,year=value?value.getFullYear().toString():void 0;return(0,jsx_runtime.jsxs)("div",{className:classnames_default()(month_year_header_index_module.component,className,(0,defineProperty.Z)({},mobile_module.component,mobile)),"aria-live":"polite","data-test-id":dataTestId,children:[(0,jsx_runtime.jsx)(SelectButton,{view:"filled",className:classnames_default()(month_year_header_index_module.button,month_year_header_index_module.month,(0,defineProperty.Z)({},mobile_module.button,mobile)),onClick:onMonthClick,children:(0,jsx_runtime.jsxs)("span",{className:month_year_header_index_module.buttonContent,children:[month,(0,jsx_runtime.jsx)(ChevronDownCompactSIcon.ChevronDownCompactSIcon,{className:month_year_header_index_module.upDownIcon})]})}),(0,jsx_runtime.jsx)(SelectButton,{view:"filled",className:classnames_default()(month_year_header_index_module.button,month_year_header_index_module.year,(0,defineProperty.Z)({},mobile_module.button,mobile)),onClick:onYearClick,children:(0,jsx_runtime.jsxs)("span",{className:month_year_header_index_module.buttonContent,children:[year,(0,jsx_runtime.jsx)(ChevronDownCompactSIcon.ChevronDownCompactSIcon,{className:month_year_header_index_module.upDownIcon})]})})]})};try{MonthYearHeader.displayName="MonthYearHeader",MonthYearHeader.__docgenInfo={description:"",displayName:"MonthYearHeader",props:{value:{defaultValue:null,description:"Активная дата",name:"value",required:!1,type:{name:"Date"}},className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на кнопку года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},mobile:{defaultValue:null,description:"Мобильная версия компонента",name:"mobile",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/month-year-header/Component.tsx#MonthYearHeader"]={docgenInfo:MonthYearHeader.__docgenInfo,name:"MonthYearHeader",path:"packages/calendar/src/components/month-year-header/Component.tsx#MonthYearHeader"})}catch(__react_docgen_typescript_loader_error){}var isSameMonth=__webpack_require__("./node_modules/date-fns/esm/isSameMonth/index.js"),isThisMonth=__webpack_require__("./node_modules/date-fns/esm/isThisMonth/index.js"),MonthsTable=function(_ref){var selectedMonth=_ref.selectedMonth,_ref$months=_ref.months,getMonthProps=_ref.getMonthProps,responsive=_ref.responsive,view=(0,react.useCallback)(function(month){return selectedMonth&&(0,isSameMonth.Z)(selectedMonth,month.date)?"selected":(0,isThisMonth.Z)(month.date)?"current":"default"},[selectedMonth]);return(0,jsx_runtime.jsx)("div",{className:classnames_default()("monthsTable_e4rtu",(0,defineProperty.Z)({},"responsive_fICxH",responsive)),children:(void 0===_ref$months?[]:_ref$months).map(function(month){return(0,react.createElement)(SelectButton,(0,objectSpread2.Z)((0,objectSpread2.Z)({},getMonthProps(month)),{},{key:month.date.getTime(),className:"button_XNCgm",view:view(month)}),(0,utils.oz)(month.date))})})};try{MonthsTable.displayName="MonthsTable",MonthsTable.__docgenInfo={description:"",displayName:"MonthsTable",props:{months:{defaultValue:{value:"[]"},description:"Массив месяцев",name:"months",required:!1,type:{name:"Month[]"}},selectedMonth:{defaultValue:null,description:"Выбранный месяц",name:"selectedMonth",required:!1,type:{name:"Date"}},getMonthProps:{defaultValue:null,description:"Доп пропсы для переданного месяца",name:"getMonthProps",required:!0,type:{name:"(day: Month) => Record<string, unknown>"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/months-table/Component.tsx#MonthsTable"]={docgenInfo:MonthsTable.__docgenInfo,name:"MonthsTable",path:"packages/calendar/src/components/months-table/Component.tsx#MonthsTable"})}catch(__react_docgen_typescript_loader_error){}var period_slider_Component=__webpack_require__("./packages/calendar/src/components/period-slider/Component.tsx"),isSameYear=__webpack_require__("./node_modules/date-fns/esm/isSameYear/index.js"),isThisYear=__webpack_require__("./node_modules/date-fns/esm/isThisYear/index.js"),YearsTable=function(_ref){var selectedYear=_ref.selectedYear,_ref$years=_ref.years,getYearProps=_ref.getYearProps,responsive=_ref.responsive;return(0,jsx_runtime.jsx)("div",{className:classnames_default()("yearsTable_e3b2a",(0,defineProperty.Z)({},"responsive_FSOrB",responsive)),children:(0,jsx_runtime.jsx)("div",{className:"inner_gf8YK",children:(void 0===_ref$years?[]:_ref$years).map(function(year){return(0,react.createElement)(SelectButton,(0,objectSpread2.Z)((0,objectSpread2.Z)({},getYearProps(year)),{},{key:year.getFullYear(),view:selectedYear&&(0,isSameYear.Z)(selectedYear,year)?"selected":(0,isThisYear.Z)(year)?"current":"default",className:"button_XxUt6"}),year.getFullYear())})})})};try{YearsTable.displayName="YearsTable",YearsTable.__docgenInfo={description:"",displayName:"YearsTable",props:{years:{defaultValue:{value:"[]"},description:"Массив лет",name:"years",required:!1,type:{name:"Date[]"}},selectedYear:{defaultValue:null,description:"Выбранный год",name:"selectedYear",required:!1,type:{name:"Date"}},getYearProps:{defaultValue:null,description:"Доп. пропсы для переданного года",name:"getYearProps",required:!0,type:{name:"(year: Date) => Record<string, unknown>"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/components/years-table/Component.tsx#YearsTable"]={docgenInfo:YearsTable.__docgenInfo,name:"YearsTable",path:"packages/calendar/src/components/years-table/Component.tsx#YearsTable"})}catch(__react_docgen_typescript_loader_error){}var useCalendar=__webpack_require__("./packages/calendar/src/useCalendar.ts"),useRange=__webpack_require__("./packages/calendar/src/useRange.ts"),desktop_module={component:"component_XcIaN",responsive:"responsive_Ftp8b",period:"period_dZ9TD",monthYear:"monthYear_fVJwp",container:"container_l4xKZ",customScrollbar:"customScrollbar_Gn4rN",nativeScrollbar:"nativeScrollbar_eAFhb",sixWeeks:"sixWeeks_Htphm"},useCustomWebkitScrollbar=modern.hooks.useCustomWebkitScrollbar,CalendarDesktop=(0,react.forwardRef)(function(_ref,ref){var className=_ref.className,headerClassName=_ref.headerClassName,contentClassName=_ref.contentClassName,_ref$defaultView=_ref.defaultView,_ref$selectorView=_ref.selectorView,selectorView=void 0===_ref$selectorView?"full":_ref$selectorView,_ref$mode=_ref.mode,rangeBehavior=_ref.rangeBehavior,value=_ref.value,monthTimestamp=_ref.month,minDateTimestamp=_ref.minDate,maxDateTimestamp=_ref.maxDate,_ref$defaultMonth=_ref.defaultMonth,defaultMonthTimestamp=void 0===_ref$defaultMonth?+new Date:_ref$defaultMonth,selectedFrom=_ref.selectedFrom,selectedTo=_ref.selectedTo,rangeComplete=_ref.rangeComplete,offDays=_ref.offDays,events=_ref.events,holidays=_ref.holidays,onChange=_ref.onChange,onMonthChange=_ref.onMonthChange,onMonthClick=_ref.onMonthClick,onYearClick=_ref.onYearClick,onPeriodClick=_ref.onPeriodClick,dataTestId=_ref.dataTestId,_ref$hasHeader=_ref.hasHeader,responsive=_ref.responsive,dayAddons=_ref.dayAddons,_ref$shape=_ref.shape,_ref$showCurrentYearS=_ref.showCurrentYearSelector,_ref$hideDisabledArro=_ref.hideDisabledArrows,mobile=_ref.mobile,_useState=(0,react.useState)(void 0===_ref$defaultView?"days":_ref$defaultView),_useState2=(0,slicedToArray.Z)(_useState,2),view=_useState2[0],setView=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),scrolled=_useState4[0],setScrolled=_useState4[1],scrollableNodeRef=(0,react.useRef)(null),firstUpdate=(0,react.useRef)(!0),range=(0,useRange.C)({mode:void 0===_ref$mode?"single":_ref$mode,value:value,selectedFrom:selectedFrom,selectedTo:selectedTo,rangeBehavior:rangeBehavior,onChange:onChange}),selected=(0,react.useMemo)(function(){return range.value?new Date(range.value):void 0},[range.value]),defaultMonth=(0,react.useMemo)(function(){return(0,startOfMonth.Z)(selected||(0,utils.zi)(defaultMonthTimestamp,minDateTimestamp,maxDateTimestamp))},[]),month=(0,react.useMemo)(function(){return monthTimestamp?new Date(monthTimestamp):void 0},[monthTimestamp]),minDate=(0,react.useMemo)(function(){return minDateTimestamp?(0,startOfDay.Z)(minDateTimestamp):void 0},[minDateTimestamp]),maxDate=(0,react.useMemo)(function(){return maxDateTimestamp?(0,endOfDay.Z)(maxDateTimestamp):void 0},[maxDateTimestamp]),_useCalendar=(0,useCalendar.G)({month:month,defaultMonth:defaultMonth,view:view,minDate:minDate,maxDate:maxDate,selected:selected,offDays:offDays,events:events,holidays:holidays,dayAddons:dayAddons,onChange:range.onChange,onMonthChange:onMonthChange}),activeMonth=_useCalendar.activeMonth,weeks=_useCalendar.weeks,months=_useCalendar.months,years=_useCalendar.years,canSetPrevMonth=_useCalendar.canSetPrevMonth,canSetNextMonth=_useCalendar.canSetNextMonth,setMonthByDate=_useCalendar.setMonthByDate,setPrevMonth=_useCalendar.setPrevMonth,setNextMonth=_useCalendar.setNextMonth,highlighted=_useCalendar.highlighted,getDayProps=_useCalendar.getDayProps,getMonthProps=_useCalendar.getMonthProps,getYearProps=_useCalendar.getYearProps,getRootProps=_useCalendar.getRootProps,toggleView=function(newView){scrollableNodeRef.current&&(scrollableNodeRef.current.scrollTop=0),setView(view===newView?"days":newView)};(0,hook.C)(function(){if("years"===view){var listNode=scrollableNodeRef.current,selectedYearNode=null==listNode?void 0:listNode.querySelector('button[tabIndex="0"]');if(listNode&&selectedYearNode){var topIndent=listNode.clientHeight/2-selectedYearNode.clientHeight/2;listNode.scrollTop=selectedYearNode.offsetTop-topIndent,setScrolled(listNode.scrollTop>0)}}},[view]),(0,hook.C)(function(){firstUpdate.current?firstUpdate.current=!1:toggleView("days")},[activeMonth]),(0,useDidUpdateEffect_hook.D)(function(){setScrolled(!1)},[view]),(0,useDidUpdateEffect_hook.D)(function(){var newMonth=range.value&&(0,startOfMonth.Z)(range.value);newMonth&&newMonth.getTime()!==activeMonth.getTime()&&setMonthByDate(newMonth)},[range.value]);var shouldUseCustomScrollbar=useCustomWebkitScrollbar();return(0,jsx_runtime.jsxs)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},getRootProps({ref:ref})),{},{className:classnames_default()("cc-calendar",desktop_module.component,className,(0,defineProperty.Z)((0,defineProperty.Z)({},desktop_module.sixWeeks,6===weeks.length),desktop_module.responsive,responsive)),"data-test-id":dataTestId,children:[(void 0===_ref$hasHeader||_ref$hasHeader)&&(0,jsx_runtime.jsx)(Header,{view:selectorView,withShadow:scrolled,className:headerClassName,children:"month-only"===selectorView?(0,jsx_runtime.jsx)(period_slider_Component.h,{className:desktop_module.period,value:activeMonth,periodType:"month",prevArrowDisabled:!canSetPrevMonth,nextArrowDisabled:!canSetNextMonth,hideDisabledArrows:void 0===_ref$hideDisabledArro||_ref$hideDisabledArro,showCurrentYearSelector:void 0!==_ref$showCurrentYearS&&_ref$showCurrentYearS,onPrevArrowClick:function(){setPrevMonth()},onNextArrowClick:function(){return setNextMonth()},onPeriodClick:onPeriodClick,dataTestId:(0,modern.getDataTestId)(dataTestId,"slider")}):(0,jsx_runtime.jsx)(MonthYearHeader,{className:desktop_module.monthYear,value:activeMonth,mobile:mobile,onMonthClick:function(event){toggleView("months"),onMonthClick&&onMonthClick(event)},onYearClick:function(event){toggleView("years"),onYearClick&&onYearClick(event)}})}),(0,jsx_runtime.jsxs)("div",{ref:scrollableNodeRef,className:classnames_default()(desktop_module.container,(0,defineProperty.Z)((0,defineProperty.Z)({},desktop_module.customScrollbar,"years"===view&&shouldUseCustomScrollbar),desktop_module.nativeScrollbar,"years"===view&&!shouldUseCustomScrollbar),desktop_module[view],contentClassName),onScroll:function(event){return setScrolled(event.currentTarget.scrollTop>0)},children:["days"===view&&(0,jsx_runtime.jsx)(Component.n,{weeks:weeks,activeMonth:activeMonth,selectedFrom:range.selectedFrom,selectedTo:range.selectedTo,getDayProps:getDayProps,highlighted:highlighted,rangeComplete:rangeComplete,responsive:responsive,shape:void 0===_ref$shape?"rounded":_ref$shape,withTransition:"month-only"===selectorView}),"months"===view&&(0,jsx_runtime.jsx)(MonthsTable,{selectedMonth:activeMonth,months:months,getMonthProps:getMonthProps,responsive:responsive}),"years"===view&&(0,jsx_runtime.jsx)(YearsTable,{selectedYear:activeMonth,years:years,getYearProps:getYearProps,responsive:responsive})]})]}))});try{CalendarDesktop.displayName="CalendarDesktop",CalendarDesktop.__docgenInfo={description:"",displayName:"CalendarDesktop",props:{className:{defaultValue:null,description:"Дополнительный класс",name:"className",required:!1,type:{name:"string"}},headerClassName:{defaultValue:null,description:"Дополнительный класс шапки десктопного календаря",name:"headerClassName",required:!1,type:{name:"string"}},contentClassName:{defaultValue:null,description:"Дополнительный класс контента десктопного календаря",name:"contentClassName",required:!1,type:{name:"string"}},defaultView:{defaultValue:{value:"days"},description:"Вид по умолчанию (выбор дней, месяцев, лет)",name:"defaultView",required:!1,type:{name:"enum",value:[{value:'"years"'},{value:'"months"'},{value:'"days"'}]}},selectorView:{defaultValue:{value:"full"},description:"Вид шапки — месяц и год или только месяц",name:"selectorView",required:!1,type:{name:"enum",value:[{value:'"month-only"'},{value:'"full"'}]}},value:{defaultValue:null,description:"Выбранная дата (timestamp)",name:"value",required:!1,type:{name:"number | { dateFrom?: number; dateTo?: number; } | undefined"}},mode:{defaultValue:{value:"single"},description:"Режим выбора дат",name:"mode",required:!1,type:{name:"enum",value:[{value:'"range"'},{value:'"single"'}]}},rangeBehavior:{defaultValue:{value:"clarification"},description:"Тип выбора границ в календаре",name:"rangeBehavior",required:!1,type:{name:"enum",value:[{value:'"reset"'},{value:'"clarification"'}]}},month:{defaultValue:null,description:"Открытый месяц (timestamp)",name:"month",required:!1,type:{name:"number"}},defaultMonth:{defaultValue:null,description:"Месяц, открытый по умолчанию (timestamp)",name:"defaultMonth",required:!1,type:{name:"number"}},minDate:{defaultValue:null,description:"Минимальная дата, доступная для выбора (timestamp)",name:"minDate",required:!1,type:{name:"number"}},maxDate:{defaultValue:null,description:"Максимальная дата, доступная для выбора (timestamp)",name:"maxDate",required:!1,type:{name:"number"}},selectedFrom:{defaultValue:null,description:"Начало выделенного периода (timestamp)\n@deprecated используйте value вместе с mode='range'",name:"selectedFrom",required:!1,type:{name:"number"}},selectedTo:{defaultValue:null,description:"Конец выделенного периода (timestamp)\n@deprecated используйте value вместе с mode='range'",name:"selectedTo",required:!1,type:{name:"number"}},rangeComplete:{defaultValue:null,description:"Индикатор, что выбран полный период",name:"rangeComplete",required:!1,type:{name:"boolean"}},events:{defaultValue:null,description:"Список событий",name:"events",required:!1,type:{name:"(number | Date)[]"}},offDays:{defaultValue:null,description:"Список отключенных для выбора дней.",name:"offDays",required:!1,type:{name:"(number | Date)[]"}},holidays:{defaultValue:null,description:"Список выходных",name:"holidays",required:!1,type:{name:"(number | Date)[]"}},onMonthChange:{defaultValue:null,description:"Обработчик изменения месяца (или года)",name:"onMonthChange",required:!1,type:{name:"((month: number) => void)"}},onChange:{defaultValue:null,description:"Обработчик выбора даты",name:"onChange",required:!1,type:{name:"((date?: number, dateTo?: number) => void) | undefined"}},onMonthClick:{defaultValue:null,description:"Обработчик нажатия на кнопку месяца",name:"onMonthClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onYearClick:{defaultValue:null,description:"Обработчик нажатия на кнопку года",name:"onYearClick",required:!1,type:{name:"((event: MouseEvent<HTMLButtonElement, MouseEvent>) => void)"}},onPeriodClick:{defaultValue:null,description:"Обработчик нажатия на период",name:"onPeriodClick",required:!1,type:{name:"((event: MouseEvent<HTMLAnchorElement, MouseEvent>) => void)"}},dataTestId:{defaultValue:null,description:"Идентификатор для систем автоматизированного тестирования",name:"dataTestId",required:!1,type:{name:"string"}},hasHeader:{defaultValue:{value:"true"},description:"Нужно ли рендерить шапку календаря",name:"hasHeader",required:!1,type:{name:"boolean"}},responsive:{defaultValue:null,description:"Должен ли календарь подстраиваться под ширину родителя.",name:"responsive",required:!1,type:{name:"boolean"}},dayAddons:{defaultValue:null,description:"Дополнительный контент под числом",name:"dayAddons",required:!1,type:{name:"DayAddons[]"}},shape:{defaultValue:{value:"rounded"},description:"Форма ячейки дня",name:"shape",required:!1,type:{name:"enum",value:[{value:'"rounded"'},{value:'"rectangular"'}]}},showCurrentYearSelector:{defaultValue:{value:"false"},description:"Отображать ли текущий год, если selectorView 'month-only'",name:"showCurrentYearSelector",required:!1,type:{name:"boolean"}},hideDisabledArrows:{defaultValue:{value:"true"},description:"Скрывает заблокированные кнопки в периоде, если selectorView 'month-only'",name:"hideDisabledArrows",required:!1,type:{name:"boolean"}},mobile:{defaultValue:null,description:"CalendarDesktop используется в мобильной и десктопной версии\nПропс позволяет определить платформу",name:"mobile",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/calendar/src/desktop/Component.desktop.tsx#CalendarDesktop"]={docgenInfo:CalendarDesktop.__docgenInfo,name:"CalendarDesktop",path:"packages/calendar/src/desktop/Component.desktop.tsx#CalendarDesktop"})}catch(__react_docgen_typescript_loader_error){}},"./packages/calendar/src/useCalendar.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{G:function(){return useCalendar}});var _home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_merge_refs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react-merge-refs/dist/react-merge-refs.esm.js"),date_fns_addMonths__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/date-fns/esm/addMonths/index.js"),date_fns_addYears__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/date-fns/esm/addYears/index.js"),date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/date-fns/esm/isSameMonth/index.js"),date_fns_isSameYear__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/date-fns/esm/isSameYear/index.js"),date_fns_setYear__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/date-fns/esm/setYear/index.js"),date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),date_fns_subYears__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/date-fns/esm/subYears/index.js"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/calendar/src/utils.ts");function useCalendar(_ref){var defaultMonth=_ref.defaultMonth,month=_ref.month,minDate=_ref.minDate,_ref$view=_ref.view,view=void 0===_ref$view?"days":_ref$view,maxDate=_ref.maxDate,selected=_ref.selected,events=_ref.events,offDays=_ref.offDays,holidays=_ref.holidays,dayAddons=_ref.dayAddons,onMonthChange=_ref.onMonthChange,onChange=_ref.onChange,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultMonth),_useState2=(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState,2),monthState=_useState2[0],setMonthState=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),_useState4=(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__.Z)(_useState3,2),highlighted=_useState4[0],setHighlighted=_useState4[1],uncontrolled=void 0===month,activeMonth=uncontrolled?monthState:month,dateRefs=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),rootRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),minMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return minDate&&(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_2__.Z)(minDate)},[minDate]),maxMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return maxDate&&(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_2__.Z)(maxDate)},[maxDate]),canSetPrevMonth=!minMonth||activeMonth>minMonth,canSetNextMonth=!maxMonth||activeMonth<maxMonth,eventsMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.LT)(events||[])},[events]),offDaysMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.LT)(offDays||[])},[offDays]),holidaysMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.LT)(holidays||[])},[holidays]),dayAddonsMap=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.j1)(dayAddons||[])},[dayAddons]),weeks=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.zK)(activeMonth,{minDate:minDate,maxDate:maxDate,selected:selected,eventsMap:eventsMap,offDaysMap:offDaysMap,holidaysMap:holidaysMap,dayAddonsMap:dayAddonsMap})},[maxDate,minDate,selected,dayAddonsMap,activeMonth,eventsMap,offDaysMap,holidaysMap]),months=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.NB)(activeMonth,{minMonth:minMonth,maxMonth:maxMonth})},[minMonth,maxMonth,activeMonth]),years=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.Vl)(minDate||(0,date_fns_subYears__WEBPACK_IMPORTED_MODULE_4__.Z)(new Date,100),maxDate||(0,date_fns_addYears__WEBPACK_IMPORTED_MODULE_5__.Z)(new Date,1))},[minDate,maxDate]),setMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(newMonth){uncontrolled&&setMonthState(newMonth),onMonthChange&&onMonthChange(newMonth.getTime())},[onMonthChange,uncontrolled]),setMonthByStep=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(step){setMonth((0,_utils__WEBPACK_IMPORTED_MODULE_3__.zi)((0,date_fns_addMonths__WEBPACK_IMPORTED_MODULE_6__.Z)(activeMonth,step),minMonth,maxMonth))},[setMonth,activeMonth,minMonth,maxMonth]),setMonthByDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(newMonth){setMonth((0,_utils__WEBPACK_IMPORTED_MODULE_3__.zi)(newMonth,minMonth,maxMonth))},[maxMonth,minMonth,setMonth]),setNextMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setMonthByStep(1)},[setMonthByStep]),setPrevMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setMonthByStep(-1)},[setMonthByStep]),getFocusedDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){return dateRefs.current.find(function(node){return document.activeElement===node})},[]),getFocusableDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){return dateRefs.current.find(function(node){return node&&0===node.tabIndex})},[]),focusDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(node){node&&((0,_utils__WEBPACK_IMPORTED_MODULE_3__.Kz)(node),node.focus())},[]),focusFirstAvailableDate=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){return focusDate(getFocusableDate())},[focusDate,getFocusableDate]),focusDay=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(shift){var focusedNode=getFocusedDate();if(focusedNode&&focusedNode.dataset.date){var focusedDate=new Date(+focusedNode.dataset.date),newDate=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.kW)(shift,focusedDate,minDate,maxDate,offDaysMap),monthChanged=!1;newDate<focusedDate&&newDate.getMonth()!==focusedDate.getMonth()&&(setPrevMonth(),monthChanged=!0),newDate>focusedDate&&newDate.getMonth()!==focusedDate.getMonth()&&(setNextMonth(),monthChanged=!0);var effect=function(){return focusDate(dateRefs.current[newDate.getDate()-1])};monthChanged?setTimeout(effect,0):effect()}else focusFirstAvailableDate()},[focusDate,focusFirstAvailableDate,getFocusedDate,maxDate,minDate,offDaysMap,setNextMonth,setPrevMonth]),focusMonth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(offset){var focusedNode=getFocusedDate();if(focusedNode&&focusedNode.dataset.date){var newFocusedMonth=new Date(+focusedNode.dataset.date).getMonth()+offset;newFocusedMonth>=0&&newFocusedMonth<_utils__WEBPACK_IMPORTED_MODULE_3__.NR&&focusDate(dateRefs.current[newFocusedMonth])}else focusFirstAvailableDate()},[focusDate,focusFirstAvailableDate,getFocusedDate]),focusYear=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(offset){var focusedNode=getFocusedDate();if(focusedNode&&focusedNode.dataset.date){var newFocusedYear=new Date(+focusedNode.dataset.date).getFullYear()+offset,currentYear=new Date().getFullYear();newFocusedYear<=currentYear&&newFocusedYear>currentYear-years.length&&focusDate(dateRefs.current[newFocusedYear])}else focusFirstAvailableDate()},[focusDate,focusFirstAvailableDate,getFocusedDate,years.length]),handleMonthClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(event){var date=event.currentTarget.dataset.date;date&&setMonthByDate(new Date(+date)),rootRef.current&&rootRef.current.contains(document.activeElement)&&rootRef.current.focus()},[setMonthByDate]),handleYearClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(event){var date=event.currentTarget.dataset.date;date&&setMonthByDate((0,date_fns_setYear__WEBPACK_IMPORTED_MODULE_7__.Z)(activeMonth,new Date(+date).getFullYear())),rootRef.current&&rootRef.current.contains(document.activeElement)&&rootRef.current.focus()},[activeMonth,setMonthByDate]),handleDateRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(node,index){dateRefs.current[index]=node},[]),handleDayMouseEnter=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(event){var date=event.currentTarget.dataset.date;setHighlighted(date?+date:void 0)},[]),handleDayMouseLeave=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(){setHighlighted(void 0)},[]),handleDayClick=function(event){var date=event.currentTarget.dataset.date;date&&onChange&&onChange(+date),handleDayMouseLeave()},controlsByView={days:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return{ArrowLeft:function ArrowLeft(){return focusDay("prev")},ArrowRight:function ArrowRight(){return focusDay("next")},ArrowUp:function ArrowUp(){return focusDay("prevWeek")},ArrowDown:function ArrowDown(){return focusDay("nextWeek")},End:function End(){return focusDay("endOfWeek")},Home:function Home(){return focusDay("startOfWeek")},PageUp:function PageUp(){return focusDay("prevMonth")},PageDown:function PageDown(){return focusDay("nextMonth")}}},[focusDay]),months:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return{ArrowLeft:function ArrowLeft(){return focusMonth(-1)},ArrowRight:function ArrowRight(){return focusMonth(1)},ArrowUp:function ArrowUp(){return focusMonth(-3)},ArrowDown:function ArrowDown(){return focusMonth(3)}}},[focusMonth]),years:(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){return{ArrowLeft:function ArrowLeft(){return focusYear(1)},ArrowRight:function ArrowRight(){return focusYear(-1)},ArrowUp:function ArrowUp(){return focusYear(3)},ArrowDown:function ArrowDown(){return focusYear(-3)}}},[focusYear])},handleKeyDown=function(event){var controls=controlsByView[view];event.key in controls&&(controls[event.key](),event.preventDefault())},focusableDayIsSet=!1;return{activeMonth:activeMonth,weeks:weeks,months:months,years:years,canSetPrevMonth:canSetPrevMonth,canSetNextMonth:canSetNextMonth,highlighted:highlighted,setPrevMonth:setPrevMonth,setNextMonth:setNextMonth,setMonthByDate:setMonthByDate,getDayProps:function(day){var daySelected=selected&&(0,date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_8__.Z)(selected,day.date),canFocus=daySelected;return selected&&(0,date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_9__.Z)(selected,activeMonth)||focusableDayIsSet||day.disabled||(focusableDayIsSet=!0,canFocus=!0),{"data-date":day.date.getTime(),"aria-selected":daySelected,ref:function ref(node){handleDateRef(node,day.date.getDate()-1)},tabIndex:canFocus?0:-1,onMouseEnter:handleDayMouseEnter,onMouseLeave:handleDayMouseLeave,onClick:handleDayClick}},getMonthProps:function(currMonth){var monthselected=(0,date_fns_isSameMonth__WEBPACK_IMPORTED_MODULE_9__.Z)(activeMonth,currMonth.date);return{"data-date":currMonth.date.getTime(),"aria-selected":monthselected,ref:function ref(node){handleDateRef(node,currMonth.date.getMonth())},tabIndex:monthselected?0:-1,disabled:currMonth.disabled,onClick:handleMonthClick}},getYearProps:function(year){var yearSelected=(0,date_fns_isSameYear__WEBPACK_IMPORTED_MODULE_10__.Z)(activeMonth,year);return{"data-date":year.getTime(),"aria-selected":yearSelected,ref:function ref(node){handleDateRef(node,year.getFullYear())},tabIndex:yearSelected?0:-1,onClick:handleYearClick}},getRootProps:function(_ref2){var _ref2$ref=_ref2.ref;return{onKeyDown:handleKeyDown,ref:(0,react_merge_refs__WEBPACK_IMPORTED_MODULE_11__.Z)([void 0===_ref2$ref?null:_ref2$ref,rootRef]),tabIndex:-1}}}}},"./packages/calendar/src/useRange.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C:function(){return useRange}});var toConsumableArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react=__webpack_require__("./node_modules/react/index.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),differenceInDays=__webpack_require__("./node_modules/date-fns/esm/differenceInDays/index.js"),hook=__webpack_require__("./node_modules/@alfalab/hooks/dist/esm/useDidUpdateEffect/hook.js");function usePeriod(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},onPeriodChange=_ref.onPeriodChange,initialSelectedFrom=_ref.initialSelectedFrom,initialSelectedTo=_ref.initialSelectedTo,_useState=(0,react.useState)(initialSelectedFrom),_useState2=(0,slicedToArray.Z)(_useState,2),selectedFrom=_useState2[0],setSelectedFrom=_useState2[1],_useState3=(0,react.useState)(initialSelectedTo),_useState4=(0,slicedToArray.Z)(_useState3,2),selectedTo=_useState4[0],setSelectedTo=_useState4[1],resetPeriod=(0,react.useCallback)(function(){setSelectedFrom(void 0),setSelectedTo(void 0)},[]),setStart=(0,react.useCallback)(function(date){setSelectedFrom(date)},[]),setEnd=(0,react.useCallback)(function(date){setSelectedTo(date)},[]),updatePeriod=(0,react.useCallback)(function(date){if(void 0===date||date===selectedTo&&date===selectedFrom){resetPeriod();return}if(date===selectedTo){setSelectedTo(void 0);return}if(date===selectedFrom){selectedTo?(setSelectedFrom(selectedTo),setSelectedTo(void 0)):setSelectedTo(date);return}if(!selectedFrom){selectedTo?(setSelectedFrom(Math.min(date,selectedTo)),setSelectedTo(Math.max(date,selectedTo))):setSelectedFrom(date);return}if(!selectedTo){setSelectedFrom(Math.min(date,selectedFrom)),setSelectedTo(Math.max(date,selectedFrom));return}if(selectedTo===selectedFrom){date>selectedTo?setSelectedTo(date):setSelectedFrom(date);return}Math.abs((0,differenceInDays.Z)(date,selectedTo))>Math.abs((0,differenceInDays.Z)(date,selectedFrom))?setSelectedFrom(date):setSelectedTo(date)},[resetPeriod,selectedFrom,selectedTo]);return(0,hook.D)(function(){onPeriodChange&&onPeriodChange(selectedFrom,selectedTo)},[selectedFrom,selectedTo]),{selectedFrom:selectedFrom,selectedTo:selectedTo,setStart:setStart,setEnd:setEnd,resetPeriod:resetPeriod,updatePeriod:updatePeriod}}function usePeriodWithReset(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},onPeriodChange=_ref2.onPeriodChange,initialSelectedFrom=_ref2.initialSelectedFrom,initialSelectedTo=_ref2.initialSelectedTo,_useState5=(0,react.useState)(initialSelectedFrom),_useState6=(0,slicedToArray.Z)(_useState5,2),selectedFrom=_useState6[0],setSelectedFrom=_useState6[1],_useState7=(0,react.useState)(initialSelectedTo),_useState8=(0,slicedToArray.Z)(_useState7,2),selectedTo=_useState8[0],setSelectedTo=_useState8[1],resetPeriod=(0,react.useCallback)(function(){setSelectedFrom(void 0),setSelectedTo(void 0)},[]),setStart=(0,react.useCallback)(function(date){setSelectedFrom(date)},[]),setEnd=(0,react.useCallback)(function(date){setSelectedTo(date)},[]),updatePeriod=(0,react.useCallback)(function(date){if(void 0===date){resetPeriod();return}if(!selectedFrom&&selectedTo){setSelectedFrom(Math.min(date,selectedTo)),setSelectedTo(Math.max(date,selectedTo));return}if(!selectedFrom){setSelectedFrom(date);return}if(!selectedTo){setSelectedFrom(Math.min(date,selectedFrom)),setSelectedTo(Math.max(date,selectedFrom));return}setSelectedTo(void 0),setSelectedFrom(date)},[resetPeriod,selectedFrom,selectedTo]);return(0,hook.D)(function(){onPeriodChange&&onPeriodChange(selectedFrom,selectedTo)},[selectedFrom,selectedTo]),{selectedFrom:selectedFrom,selectedTo:selectedTo,setStart:setStart,setEnd:setEnd,resetPeriod:resetPeriod,updatePeriod:updatePeriod}}var utils=__webpack_require__("./packages/calendar/src/utils.ts");function useRange(_ref){var _ref$mode=_ref.mode,mode=void 0===_ref$mode?"single":_ref$mode,value=_ref.value,selectedFrom=_ref.selectedFrom,selectedTo=_ref.selectedTo,rangeBehavior=_ref.rangeBehavior,onChange=_ref.onChange,valueFrom=(0,utils.YG)(value)?value.dateFrom:value,valueTo=(0,utils.YG)(value)?value.dateTo:value,period=("clarification"===rangeBehavior?usePeriod:usePeriodWithReset)({initialSelectedFrom:valueFrom,initialSelectedTo:valueTo});(0,react.useEffect)(function(){"single"!==mode&&(valueFrom!==period.selectedFrom&&period.setStart(valueFrom),valueTo!==period.selectedTo&&period.setEnd(valueTo))},[mode,valueFrom,valueTo]),(0,react.useEffect)(function(){"single"!==mode&&(valueFrom!==period.selectedFrom||valueTo!==period.selectedTo)&&(null==onChange||onChange(period.selectedFrom,period.selectedTo))},[mode,period.selectedFrom,period.selectedTo]);var minValue=function(){if("single"===mode)return valueFrom;var values=[period.selectedFrom,period.selectedTo,valueFrom,valueTo].filter(Boolean);if(values.length)return Math.min.apply(Math,(0,toConsumableArray.Z)(values))}();return"single"===mode?{selectedFrom:selectedFrom,selectedTo:selectedTo,onChange:onChange,onReset:onChange?function(){return onChange(void 0)}:void 0,value:valueFrom}:{selectedFrom:period.selectedFrom,selectedTo:period.selectedTo,onChange:period.updatePeriod,onReset:period.resetPeriod,value:minValue}}},"./packages/calendar/src/utils.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Kz:function(){return simulateTab},LT:function(){return dateArrayToHashTable},NB:function(){return generateMonths},NR:function(){return MONTHS_IN_YEAR},PM:function(){return getMonthStartTimestamp},Vl:function(){return generateYears},YG:function(){return isRangeValue},c8:function(){return WEEKDAYS},cp:function(){return getMonthEndTimestamp},j1:function(){return addonArrayToHashTable},kW:function(){return modifyDateByShift},oz:function(){return monthName},p6:function(){return formatDate},pl:function(){return getSelectionRange},zK:function(){return generateWeeks},zi:function(){return limitDate},zx:function(){return russianWeekDay}});var date_fns_addDays__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/date-fns/esm/addDays/index.js"),date_fns_addMonths__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/date-fns/esm/addMonths/index.js"),date_fns_eachDayOfInterval__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/date-fns/esm/eachDayOfInterval/index.js"),date_fns_eachMonthOfInterval__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/date-fns/esm/eachMonthOfInterval/index.js"),date_fns_eachYearOfInterval__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/date-fns/esm/eachYearOfInterval/index.js"),date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/date-fns/esm/endOfDay/index.js"),date_fns_endOfWeek__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/date-fns/esm/endOfWeek/index.js"),date_fns_endOfYear__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/date-fns/esm/endOfYear/index.js"),date_fns_format__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),date_fns_isAfter__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/date-fns/esm/isAfter/index.js"),date_fns_isBefore__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/date-fns/esm/isBefore/index.js"),date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/date-fns/esm/isSameDay/index.js"),date_fns_isThisMonth__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/date-fns/esm/isThisMonth/index.js"),date_fns_lastDayOfMonth__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/esm/lastDayOfMonth/index.js"),date_fns_max__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/date-fns/esm/max/index.js"),date_fns_min__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/date-fns/esm/min/index.js"),date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/date-fns/esm/startOfDay/index.js"),date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/esm/startOfMonth/index.js"),date_fns_startOfWeek__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/date-fns/esm/startOfWeek/index.js"),date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/date-fns/esm/startOfYear/index.js"),date_fns_subDays__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/date-fns/esm/subDays/index.js"),date_fns_subMonths__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/date-fns/esm/subMonths/index.js");__webpack_require__("./dist/shared/modern/index.js");var MONTHS_IN_YEAR=12,WEEKDAYS=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],MONTHS=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];function russianWeekDay(date){var foreignWeekDayIndex=date.getDay();return 0===foreignWeekDayIndex?6:foreignWeekDayIndex-1}function generateWeeks(month,options){var newWeek=function(){return Array(7).fill(null)},start=(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_1__.Z)(month),end=(0,date_fns_lastDayOfMonth__WEBPACK_IMPORTED_MODULE_2__.Z)(start),week=newWeek();return(0,date_fns_eachDayOfInterval__WEBPACK_IMPORTED_MODULE_3__.Z)({start:start,end:end}).reduce(function(weeks,day){var weekDay=russianWeekDay(day);return week[weekDay]=buildDay(day,options),(6===weekDay||(0,date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_4__.Z)(day,end))&&(weeks.push(week),week=newWeek()),weeks},[])}function generateMonths(year,options){return(0,date_fns_eachMonthOfInterval__WEBPACK_IMPORTED_MODULE_5__.Z)({start:(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_6__.Z)(year),end:(0,date_fns_endOfYear__WEBPACK_IMPORTED_MODULE_7__.Z)(year)}).map(function(month){return buildMonth(month,options)})}function generateYears(minYear,maxYear){return(0,date_fns_eachYearOfInterval__WEBPACK_IMPORTED_MODULE_8__.Z)({start:(0,date_fns_min__WEBPACK_IMPORTED_MODULE_9__.Z)([(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_6__.Z)(maxYear),(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_6__.Z)(minYear)]),end:(0,date_fns_max__WEBPACK_IMPORTED_MODULE_10__.Z)([(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_6__.Z)(maxYear),(0,date_fns_startOfYear__WEBPACK_IMPORTED_MODULE_6__.Z)(minYear)])}).reverse()}function buildDay(day,options){var minDate=options.minDate,maxDate=options.maxDate,selected=options.selected,_options$eventsMap=options.eventsMap,_options$offDaysMap=options.offDaysMap,_options$holidaysMap=options.holidaysMap,_options$dayAddonsMap=options.dayAddonsMap,off=(void 0===_options$offDaysMap?{}:_options$offDaysMap)[day.getTime()],disabled=minDate&&(0,date_fns_isBefore__WEBPACK_IMPORTED_MODULE_11__.Z)(day,minDate)||maxDate&&(0,date_fns_isAfter__WEBPACK_IMPORTED_MODULE_12__.Z)(day,maxDate);return{date:day,disabled:disabled||off,event:(void 0===_options$eventsMap?{}:_options$eventsMap)[day.getTime()],holiday:(void 0===_options$holidaysMap?{}:_options$holidaysMap)[day.getTime()],selected:selected&&(0,date_fns_isSameDay__WEBPACK_IMPORTED_MODULE_4__.Z)(day,selected),dayAddon:(void 0===_options$dayAddonsMap?{}:_options$dayAddonsMap)[day.getTime()]}}function buildMonth(month,options){var minMonth=options.minMonth,maxMonth=options.maxMonth;return{date:month,disabled:minMonth&&(0,date_fns_isBefore__WEBPACK_IMPORTED_MODULE_11__.Z)(month,minMonth)||maxMonth&&(0,date_fns_isAfter__WEBPACK_IMPORTED_MODULE_12__.Z)(month,maxMonth)}}function limitDate(date,minDate,maxDate){var limitedDate=date;return minDate&&(limitedDate=(0,date_fns_max__WEBPACK_IMPORTED_MODULE_10__.Z)([(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_13__.Z)(minDate),limitedDate])),maxDate&&(limitedDate=(0,date_fns_min__WEBPACK_IMPORTED_MODULE_9__.Z)([(0,date_fns_endOfDay__WEBPACK_IMPORTED_MODULE_14__.Z)(maxDate),limitedDate])),new Date(limitedDate)}function monthName(month){return MONTHS[month.getMonth()]}function dateArrayToHashTable(arr){return arr.reduce(function(acc,v){return acc[(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_13__.Z)(v).getTime()]=!0,acc},{})}function addonArrayToHashTable(arr){return arr.reduce(function(acc,v){return acc[(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_13__.Z)(v.date).getTime()]=v.addon,acc},{})}function getSelectionRange(from,to,highlighted){if(!from&&!to)return null;var end=to||highlighted,start=from||highlighted;return start&&end&&start!==end?{start:(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_13__.Z)((0,date_fns_min__WEBPACK_IMPORTED_MODULE_9__.Z)([start,end])),end:(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_13__.Z)((0,date_fns_max__WEBPACK_IMPORTED_MODULE_10__.Z)([start,end]))}:null}function modifyDateByShift(shift,date,minDate,maxDate){for(var offDaysMap=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},newDate=({prev:function prev(){return(0,date_fns_subDays__WEBPACK_IMPORTED_MODULE_15__.Z)(date,1)},prevWeek:function prevWeek(){return(0,date_fns_subDays__WEBPACK_IMPORTED_MODULE_15__.Z)(date,7)},prevMonth:function prevMonth(){return(0,date_fns_subMonths__WEBPACK_IMPORTED_MODULE_16__.Z)(date,1)},next:function next(){return(0,date_fns_addDays__WEBPACK_IMPORTED_MODULE_17__.Z)(date,1)},nextWeek:function nextWeek(){return(0,date_fns_addDays__WEBPACK_IMPORTED_MODULE_17__.Z)(date,7)},nextMonth:function nextMonth(){return(0,date_fns_addMonths__WEBPACK_IMPORTED_MODULE_18__.Z)(date,1)},startOfWeek:function startOfWeek(){return(0,date_fns_startOfWeek__WEBPACK_IMPORTED_MODULE_19__.Z)(date,{weekStartsOn:1})},endOfWeek:function endOfWeek(){return(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_13__.Z)((0,date_fns_endOfWeek__WEBPACK_IMPORTED_MODULE_20__.Z)(date,{weekStartsOn:1}))}})[shift]();offDaysMap[newDate.getTime()];){var amount=newDate<date?-1:1;"endOfWeek"===shift&&(amount=-1),"startOfWeek"===shift&&(amount=1),newDate=(0,date_fns_addDays__WEBPACK_IMPORTED_MODULE_17__.Z)(newDate,amount)}return limitDate(newDate,minDate,maxDate)}function simulateTab(node){if(window.KeyboardEvent){var event=new window.KeyboardEvent("keydown",{bubbles:!0,key:"Tab"});node.dispatchEvent(event)}}var formatDate=function(date){var dateFormat=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd.MM.yyyy";return(0,date_fns_format__WEBPACK_IMPORTED_MODULE_21__.Z)(date,dateFormat)};function isRangeValue(value){return!!value&&"object"==typeof value}var getMonthStartTimestamp=function(date){return(0,date_fns_startOfMonth__WEBPACK_IMPORTED_MODULE_1__.Z)(date).getTime()},getMonthEndTimestamp=function(date){return(0,date_fns_isThisMonth__WEBPACK_IMPORTED_MODULE_22__.Z)(date)?(0,date_fns_startOfDay__WEBPACK_IMPORTED_MODULE_13__.Z)(new Date).getTime():(0,date_fns_lastDayOfMonth__WEBPACK_IMPORTED_MODULE_2__.Z)(date).getTime()}}}]);