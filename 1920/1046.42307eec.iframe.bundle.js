"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1046],{"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _classCallCheck}});function _classCallCheck(a,n){if(!(a instanceof n))throw TypeError("Cannot call a class as a function")}},"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _createClass}});var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__.Z)(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}},"./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return _toConsumableArray}});var arrayLikeToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function _arrayWithoutHoles(r){if(Array.isArray(r))return(0,arrayLikeToArray.Z)(r)}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}var unsupportedIterableToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _nonIterableSpread(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||(0,unsupportedIterableToArray.Z)(r)||_nonIterableSpread()}},"./packages/amount-input/node_modules/@maskito/core/index.esm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}__webpack_require__.d(__webpack_exports__,{gI:function(){return MASKITO_DEFAULT_ELEMENT_PREDICATE},A_:function(){return MASKITO_DEFAULT_OPTIONS},C8:function(){return Maskito},CV:function(){return maskitoTransform},fD:function(){return maskitoUpdateElement}});var prevValue,prevCaretIndex,prevEvent,prevRejectedSpace,esm_typeof=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js");function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(t,e){if(e&&("object"==(0,esm_typeof.Z)(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}var toConsumableArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),classCallCheck=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js");function getContentEditableSelection(element){var _ref=element.ownerDocument.getSelection()||{},_ref$anchorOffset=_ref.anchorOffset,anchorOffset=void 0===_ref$anchorOffset?0:_ref$anchorOffset,_ref$focusOffset=_ref.focusOffset,focusOffset=void 0===_ref$focusOffset?0:_ref$focusOffset;return[Math.min(anchorOffset,focusOffset),Math.max(anchorOffset,focusOffset)]}function setContentEditableSelection(element,_ref2){var _a,_b,_c,_d,_ref3=(0,slicedToArray.Z)(_ref2,2),from=_ref3[0],to=_ref3[1],document=element.ownerDocument,range=document.createRange();range.setStart(element.firstChild||element,Math.min(from,null!==(_b=null===(_a=element.textContent)||void 0===_a?void 0:_a.length)&&void 0!==_b?_b:0)),range.setEnd(element.lastChild||element,Math.min(to,null!==(_d=null===(_c=element.textContent)||void 0===_c?void 0:_c.length)&&void 0!==_d?_d:0));var selection=document.getSelection();selection&&(selection.removeAllRanges(),selection.addRange(range))}var ContentEditableAdapter=function(){function ContentEditableAdapter(element){(0,classCallCheck.Z)(this,ContentEditableAdapter),this.element=element,this.maxLength=1/0}return(0,createClass.Z)(ContentEditableAdapter,[{key:"value",get:function get(){return this.element.innerText.replace(/\n\n$/,"\n")},set:function set(value1){this.element.innerHTML=value1.replace(/\n$/,"\n\n")}},{key:"selectionStart",get:function get(){return getContentEditableSelection(this.element)[0]}},{key:"selectionEnd",get:function get(){return getContentEditableSelection(this.element)[1]}},{key:"setSelectionRange",value:function setSelectionRange(from,to){setContentEditableSelection(this.element,[null!=from?from:0,null!=to?to:0])}},{key:"select",value:function select(){this.setSelectionRange(0,this.value.length)}}])}();function maskitoAdaptContentEditable(element){var adapter=new ContentEditableAdapter(element);return new Proxy(element,{get:function get(target,prop){if(prop in adapter)return adapter[prop];var nativeProperty=target[prop];return"function"==typeof nativeProperty?nativeProperty.bind(target):nativeProperty},set:function set(target,prop,val,receiver){return Reflect.set(prop in adapter?adapter:target,prop,val,receiver)}})}var MASKITO_DEFAULT_ELEMENT_PREDICATE=function(e){return e.isContentEditable?maskitoAdaptContentEditable(e):e.querySelector("input,textarea")||e},MASKITO_DEFAULT_OPTIONS={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},MaskHistory=function(){function MaskHistory(){(0,classCallCheck.Z)(this,MaskHistory),this.now=null,this.past=[],this.future=[]}return(0,createClass.Z)(MaskHistory,[{key:"undo",value:function undo(){var state=this.past.pop();state&&this.now&&(this.future.push(this.now),this.updateElement(state,"historyUndo"))}},{key:"redo",value:function redo(){var state=this.future.pop();state&&this.now&&(this.past.push(this.now),this.updateElement(state,"historyRedo"))}},{key:"updateHistory",value:function updateHistory(state){if(!this.now){this.now=state;return}var isValueChanged=this.now.value!==state.value,isSelectionChanged=this.now.selection.some(function(item,index){return item!==state.selection[index]});(isValueChanged||isSelectionChanged)&&(isValueChanged&&(this.past.push(this.now),this.future=[]),this.now=state)}},{key:"updateElement",value:function updateElement(state,inputType){this.now=state,this.updateElementState(state,{inputType:inputType,data:null})}}])}();function areElementValuesEqual(sampleState){for(var _len=arguments.length,states=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)states[_key-1]=arguments[_key];return states.every(function(_ref4){return _ref4.value===sampleState.value})}function areElementStatesEqual(sampleState){for(var _len2=arguments.length,states=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)states[_key2-1]=arguments[_key2];return states.every(function(_ref5){var value1=_ref5.value,selection=_ref5.selection;return value1===sampleState.value&&selection[0]===sampleState.selection[0]&&selection[1]===sampleState.selection[1]})}function applyOverwriteMode(_ref6,newCharacters,mode){var value1=_ref6.value,selection=_ref6.selection,_selection=(0,slicedToArray.Z)(selection,2),from=_selection[0],to=_selection[1],computedMode="function"==typeof mode?mode({value:value1,selection:selection}):mode;return{value:value1,selection:"replace"===computedMode?[from,Math.max(from+newCharacters.length,to)]:[from,to]}}function isFixedCharacter(char){return"string"==typeof char}function getLeadingFixedCharacters(mask,validatedValuePart,newCharacter,initialElementState){for(var leadingFixedCharacters="",i=validatedValuePart.length;i<mask.length;i++){var charConstraint=mask[i]||"",isInitiallyExisted=(null==initialElementState?void 0:initialElementState.value[i])===charConstraint;if(!isFixedCharacter(charConstraint)||charConstraint===newCharacter&&!isInitiallyExisted)break;leadingFixedCharacters+=charConstraint}return leadingFixedCharacters}function validateValueWithMask(value1,maskExpression){return Array.isArray(maskExpression)?value1.length===maskExpression.length&&Array.from(value1).every(function(char,i){var charConstraint=maskExpression[i]||"";return isFixedCharacter(charConstraint)?char===charConstraint:char.match(charConstraint)}):maskExpression.test(value1)}function guessValidValueByPattern(elementState,mask,initialElementState){var maskedFrom=null,maskedTo=null,maskedValue=Array.from(elementState.value).reduce(function(validatedCharacters,char,charIndex){var leadingCharacters=getLeadingFixedCharacters(mask,validatedCharacters,char,initialElementState),newValidatedChars=validatedCharacters+leadingCharacters,charConstraint=mask[newValidatedChars.length]||"";return(null===maskedFrom&&charIndex>=elementState.selection[0]&&(maskedFrom=newValidatedChars.length),null===maskedTo&&charIndex>=elementState.selection[1]&&(maskedTo=newValidatedChars.length),isFixedCharacter(charConstraint))?newValidatedChars+charConstraint:char.match(charConstraint)?newValidatedChars+char:leadingCharacters.startsWith(char)?newValidatedChars:validatedCharacters},""),trailingFixedCharacters=getLeadingFixedCharacters(mask,maskedValue,"",initialElementState);return{value:validateValueWithMask(maskedValue+trailingFixedCharacters,mask)?maskedValue+trailingFixedCharacters:maskedValue,selection:[null!=maskedFrom?maskedFrom:maskedValue.length,null!=maskedTo?maskedTo:maskedValue.length]}}function guessValidValueByRegExp(_ref7,maskRegExp){var value1=_ref7.value,selection=_ref7.selection,_selection2=(0,slicedToArray.Z)(selection,2),from=_selection2[0],to=_selection2[1],newFrom=from,newTo=to,validatedValue=Array.from(value1).reduce(function(validatedValuePart,char,i){var newPossibleValue=validatedValuePart+char;return from===i&&(newFrom=validatedValuePart.length),to===i&&(newTo=validatedValuePart.length),newPossibleValue.match(maskRegExp)?newPossibleValue:validatedValuePart},"");return{value:validatedValue,selection:[Math.min(newFrom,validatedValue.length),Math.min(newTo,validatedValue.length)]}}function calibrateValueByMask(elementState,mask){var initialElementState=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(validateValueWithMask(elementState.value,mask))return elementState;var _ref8=Array.isArray(mask)?guessValidValueByPattern(elementState,mask,initialElementState):guessValidValueByRegExp(elementState,mask),value1=_ref8.value;return{selection:_ref8.selection,value:Array.isArray(mask)?value1.slice(0,mask.length):value1}}function removeFixedMaskCharacters(initialElementState,mask){if(!Array.isArray(mask))return initialElementState;var _initialElementState$=(0,slicedToArray.Z)(initialElementState.selection,2),from=_initialElementState$[0],to=_initialElementState$[1],selection=[],unmaskedValue=Array.from(initialElementState.value).reduce(function(rawValue,char,i){var charConstraint=mask[i]||"";return i===from&&selection.push(rawValue.length),i===to&&selection.push(rawValue.length),isFixedCharacter(charConstraint)&&charConstraint===char?rawValue:rawValue+char},"");return selection.length<2&&selection.push.apply(selection,(0,toConsumableArray.Z)(Array(2-selection.length).fill(unmaskedValue.length))),{value:unmaskedValue,selection:[selection[0],selection[1]]}}var MaskModel=function(){function MaskModel(initialElementState,maskOptions){(0,classCallCheck.Z)(this,MaskModel),this.maskOptions=maskOptions,this.unmaskInitialState={value:"",selection:[0,0]},this.value="",this.selection=[0,0];var expression=this.getMaskExpression(initialElementState),_calibrateValueByMask=calibrateValueByMask(initialElementState,expression),value1=_calibrateValueByMask.value,selection=_calibrateValueByMask.selection;this.unmaskInitialState=removeFixedMaskCharacters({value:value1,selection:selection},expression),this.value=value1,this.selection=selection}return(0,createClass.Z)(MaskModel,[{key:"addCharacters",value:function addCharacters(newCharacters){var value1=this.value,selection=this.selection,maskOptions=this.maskOptions,initialElementState={value:value1,selection:selection},_applyOverwriteMode=applyOverwriteMode(initialElementState,newCharacters,maskOptions.overwriteMode),_applyOverwriteMode$s=(0,slicedToArray.Z)(_applyOverwriteMode.selection,2),from=_applyOverwriteMode$s[0],to=_applyOverwriteMode$s[1],maskExpression=this.getMaskExpression({value:value1.slice(0,from)+newCharacters+value1.slice(to),selection:[from+newCharacters.length,from+newCharacters.length]}),_applyOverwriteMode$s2=(0,slicedToArray.Z)(applyOverwriteMode(this.unmaskInitialState,newCharacters,maskOptions.overwriteMode).selection,2),unmaskedFrom=_applyOverwriteMode$s2[0],unmaskedTo=_applyOverwriteMode$s2[1],newUnmaskedLeadingValuePart=this.unmaskInitialState.value.slice(0,unmaskedFrom)+newCharacters,newCaretIndex=newUnmaskedLeadingValuePart.length,maskedElementState=calibrateValueByMask({value:newUnmaskedLeadingValuePart+this.unmaskInitialState.value.slice(unmaskedTo),selection:[newCaretIndex,newCaretIndex]},maskExpression,initialElementState),prevLeadingPart=value1.slice(0,from),newLeadingPartState=calibrateValueByMask({value:newUnmaskedLeadingValuePart,selection:[newCaretIndex,newCaretIndex]},maskExpression,initialElementState);if(newLeadingPartState.value===prevLeadingPart||newLeadingPartState.value.length<prevLeadingPart.length&&removeFixedMaskCharacters(newLeadingPartState,maskExpression).value===this.unmaskInitialState.value.slice(0,unmaskedFrom)||areElementStatesEqual(this,maskedElementState))throw Error("Invalid mask value");this.value=maskedElementState.value,this.selection=maskedElementState.selection}},{key:"deleteCharacters",value:function deleteCharacters(){var _this$selection=(0,slicedToArray.Z)(this.selection,2),from=_this$selection[0],to=_this$selection[1];if(from!==to&&to){var value1=this.value,maskExpression=this.getMaskExpression({value:value1.slice(0,from)+value1.slice(to),selection:[from,from]}),_this$unmaskInitialSt=(0,slicedToArray.Z)(this.unmaskInitialState.selection,2),unmaskedFrom=_this$unmaskInitialSt[0],unmaskedTo=_this$unmaskInitialSt[1],maskedElementState=calibrateValueByMask({value:this.unmaskInitialState.value.slice(0,unmaskedFrom)+this.unmaskInitialState.value.slice(unmaskedTo),selection:[unmaskedFrom,unmaskedFrom]},maskExpression,{value:value1});this.value=maskedElementState.value,this.selection=maskedElementState.selection}}},{key:"getMaskExpression",value:function getMaskExpression(elementState){var mask=this.maskOptions.mask;return"function"==typeof mask?mask(elementState):mask}}])}(),EventListener=function(){function EventListener(element){(0,classCallCheck.Z)(this,EventListener),this.element=element,this.listeners=[]}return(0,createClass.Z)(EventListener,[{key:"listen",value:function listen(eventType,fn,options){var _this=this;this.element.addEventListener(eventType,fn,options),this.listeners.push(function(){return _this.element.removeEventListener(eventType,fn,options)})}},{key:"destroy",value:function destroy(){this.listeners.forEach(function(stopListen){return stopListen()})}}])}(),HotkeyModifier={CTRL:1,ALT:2,SHIFT:4,META:8},HotkeyCode={Y:89,Z:90};function isHotkey(event,modifiers,hotkeyCode){return!!(modifiers&HotkeyModifier.CTRL)===event.ctrlKey&&!!(modifiers&HotkeyModifier.ALT)===event.altKey&&!!(modifiers&HotkeyModifier.SHIFT)===event.shiftKey&&!!(modifiers&HotkeyModifier.META)===event.metaKey&&event.keyCode===hotkeyCode}function isRedo(event){return isHotkey(event,HotkeyModifier.CTRL,HotkeyCode.Y)||isHotkey(event,HotkeyModifier.CTRL|HotkeyModifier.SHIFT,HotkeyCode.Z)||isHotkey(event,HotkeyModifier.META|HotkeyModifier.SHIFT,HotkeyCode.Z)}function isUndo(event){return isHotkey(event,HotkeyModifier.CTRL,HotkeyCode.Z)||isHotkey(event,HotkeyModifier.META,HotkeyCode.Z)}function maskitoUpdateElement(element,valueOrElementState){var _a,initialValue=element.value;if("string"==typeof valueOrElementState)element.value=valueOrElementState;else{var _valueOrElementState$=(0,slicedToArray.Z)(valueOrElementState.selection,2),from=_valueOrElementState$[0],to=_valueOrElementState$[1];element.value=valueOrElementState.value,element.matches(":focus")&&(null===(_a=element.setSelectionRange)||void 0===_a||_a.call(element,from,to))}element.value!==initialValue&&element.dispatchEvent(new Event("input",{bubbles:!0}))}function getLineSelection(_ref9,isForward){var value1=_ref9.value,selection=_ref9.selection,_selection3=(0,slicedToArray.Z)(selection,2),from=_selection3[0],to=_selection3[1];if(from!==to)return[from,to];var nearestBreak=isForward?value1.slice(from).indexOf("\n")+1||value1.length:value1.slice(0,to).lastIndexOf("\n")+1;return[isForward?from:nearestBreak,isForward?nearestBreak:to]}function getNotEmptySelection(_ref0,isForward){var value1=_ref0.value,selection=_ref0.selection,_selection4=(0,slicedToArray.Z)(selection,2),from=_selection4[0],to=_selection4[1];return from!==to?[from,to]:(isForward?[from,to+1]:[from-1,to]).map(function(x){return Math.min(Math.max(x,0),value1.length)})}var TRAILING_SPACES_REG=/\s+$/g,LEADING_SPACES_REG=/^\s+/g,SPACE_REG=/\s/;function getWordSelection(_ref1,isForward){var value1=_ref1.value,selection=_ref1.selection,_selection5=(0,slicedToArray.Z)(selection,2),from=_selection5[0],to=_selection5[1];if(from!==to)return[from,to];if(isForward){var valueAfterSelectionStart=value1.slice(from),_ref10=valueAfterSelectionStart.match(LEADING_SPACES_REG)||[""],leadingSpaces=(0,slicedToArray.Z)(_ref10,1)[0],nearestWordEndIndex=valueAfterSelectionStart.trimStart().search(SPACE_REG);return[from,-1!==nearestWordEndIndex?from+leadingSpaces.length+nearestWordEndIndex:value1.length]}var valueBeforeSelectionEnd=value1.slice(0,to),_ref12=valueBeforeSelectionEnd.match(TRAILING_SPACES_REG)||[""],trailingSpaces=(0,slicedToArray.Z)(_ref12,1)[0],selectedWordLength=valueBeforeSelectionEnd.trimEnd().split("").reverse().findIndex(function(char){return SPACE_REG.exec(char)});return[-1!==selectedWordLength?to-trailingSpaces.length-selectedWordLength:0,to]}function maskitoPipe(){var processors=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(initialData){for(var _len3=arguments.length,readonlyArgs=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)readonlyArgs[_key3-1]=arguments[_key3];return processors.reduce(function(data,fn){return Object.assign(Object.assign({},data),fn.apply(void 0,[data].concat(readonlyArgs)))},initialData)}}function maskitoTransform(valueOrState,maskitoOptions){var options=Object.assign(Object.assign({},MASKITO_DEFAULT_OPTIONS),maskitoOptions),preprocessor=maskitoPipe(options.preprocessors),postprocessor=maskitoPipe(options.postprocessors),initialElementState="string"==typeof valueOrState?{value:valueOrState,selection:[0,0]}:valueOrState,_postprocessor=postprocessor(new MaskModel(preprocessor({elementState:initialElementState,data:""},"validation").elementState,options),initialElementState),value1=_postprocessor.value,selection=_postprocessor.selection;return"string"==typeof valueOrState?value1:{value:value1,selection:selection}}var BUILT_IN_PLUGINS=[(prevValue="",prevCaretIndex=0,prevEvent=null,prevRejectedSpace=!1,function(element){var eventListener=new EventListener(element);return eventListener.listen("beforeinput",function(event){var _a,_b,value1=element.value,selectionStart=element.selectionStart,selectionEnd=element.selectionEnd,rejectedSpace=(null==prevEvent?void 0:prevEvent.inputType)==="insertText"&&(null==prevEvent?void 0:prevEvent.data)===" "&&!value1.slice(0,Number(selectionEnd)).endsWith(" ");"insertText"===event.inputType&&event.data===".".concat(" ")&&((null==prevEvent?void 0:prevEvent.inputType)==="deleteContentBackward"&&prevRejectedSpace?(element.value=prevValue,null===(_a=element.setSelectionRange)||void 0===_a||_a.call(element,prevCaretIndex,prevCaretIndex)):rejectedSpace&&(null===(_b=element.setSelectionRange)||void 0===_b||_b.call(element,selectionStart,selectionStart))),prevRejectedSpace=rejectedSpace,prevEvent=event,prevValue=value1,prevCaretIndex=Number((rejectedSpace?prevCaretIndex:selectionEnd)===value1.length?selectionEnd:selectionStart)}),function(){return eventListener.destroy()}}),function(element){var beforeinputEvent,eventListener=new EventListener(element),isVirtualAndroidKeyboard=!1,value1=element.value;return eventListener.listen("keydown",function(_ref14){isVirtualAndroidKeyboard="Unidentified"===_ref14.key}),eventListener.listen("beforeinput",function(event){beforeinputEvent=event,value1=element.value}),eventListener.listen("input",function(event){isVirtualAndroidKeyboard&&beforeinputEvent.defaultPrevented&&"deleteContentBackward"===beforeinputEvent.inputType&&"deleteContentBackward"===event.inputType&&(element.value=value1)},{capture:!0}),function(){return eventListener.destroy()}}],Maskito=function(_MaskHistory){function Maskito(element,maskitoOptions){var _this2;return(0,classCallCheck.Z)(this,Maskito),(_this2=_callSuper(this,Maskito)).element=element,_this2.maskitoOptions=maskitoOptions,_this2.isTextArea="TEXTAREA"===_this2.element.nodeName,_this2.eventListener=new EventListener(_this2.element),_this2.options=Object.assign(Object.assign({},MASKITO_DEFAULT_OPTIONS),_this2.maskitoOptions),_this2.upcomingElementState=null,_this2.preprocessor=maskitoPipe(_this2.options.preprocessors),_this2.postprocessor=maskitoPipe(_this2.options.postprocessors),_this2.teardowns=_this2.options.plugins.concat(BUILT_IN_PLUGINS).map(function(plugin){return plugin(_this2.element,_this2.options)}),_this2.updateHistory(_this2.elementState),_this2.eventListener.listen("keydown",function(event){return isRedo(event)?(event.preventDefault(),_this2.redo()):isUndo(event)?(event.preventDefault(),_this2.undo()):void 0}),_this2.eventListener.listen("beforeinput",function(event){var _a,_b,_c,isForward=event.inputType.includes("Forward");switch(_this2.updateHistory(_this2.elementState),event.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return _this2.handleDelete({event:event,isForward:isForward,selection:getNotEmptySelection(_this2.elementState,isForward)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return _this2.handleDelete({event:event,isForward:isForward,selection:getLineSelection(_this2.elementState,isForward),force:!0});case"deleteWordBackward":case"deleteWordForward":return _this2.handleDelete({event:event,isForward:isForward,selection:getWordSelection(_this2.elementState,isForward)});case"historyRedo":return event.preventDefault(),_this2.redo();case"historyUndo":return event.preventDefault(),_this2.undo();case"insertCompositionText":case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return _this2.handleEnter(event);default:return _this2.handleInsert(event,null!==(_c=null!==(_a=event.data)&&void 0!==_a?_a:null===(_b=event.dataTransfer)||void 0===_b?void 0:_b.getData("text/plain"))&&void 0!==_c?_c:"")}}),_this2.eventListener.listen("input",function(){_this2.upcomingElementState&&!areElementStatesEqual(_this2.upcomingElementState,_this2.elementState)&&_this2.updateElementState(_this2.upcomingElementState),_this2.upcomingElementState=null},{capture:!0}),_this2.eventListener.listen("input",function(_ref15){"insertCompositionText"!==_ref15.inputType&&(_this2.ensureValueFitsMask(),_this2.updateHistory(_this2.elementState))}),_this2.eventListener.listen("compositionend",function(){_this2.ensureValueFitsMask(),_this2.updateHistory(_this2.elementState)}),_this2}return _inherits(Maskito,_MaskHistory),(0,createClass.Z)(Maskito,[{key:"destroy",value:function destroy(){this.eventListener.destroy(),this.teardowns.forEach(function(teardown){return null==teardown?void 0:teardown()})}},{key:"updateElementState",value:function updateElementState(_ref16,eventInit){var value1=_ref16.value,selection=_ref16.selection,initialValue=this.elementState.value;this.updateValue(value1),this.updateSelectionRange(selection),eventInit&&initialValue!==value1&&this.dispatchInputEvent(eventInit)}},{key:"elementState",get:function get(){var _this$element=this.element,value1=_this$element.value,selectionStart=_this$element.selectionStart,selectionEnd=_this$element.selectionEnd;return{value:value1,selection:[null!=selectionStart?selectionStart:0,null!=selectionEnd?selectionEnd:0]}}},{key:"maxLength",get:function get(){var maxLength=this.element.maxLength;return -1===maxLength?1/0:maxLength}},{key:"updateSelectionRange",value:function updateSelectionRange(_ref17){var _a,_ref18=(0,slicedToArray.Z)(_ref17,2),from=_ref18[0],to=_ref18[1],element=this.element;element.matches(":focus")&&(element.selectionStart!==from||element.selectionEnd!==to)&&(null===(_a=element.setSelectionRange)||void 0===_a||_a.call(element,from,to))}},{key:"updateValue",value:function updateValue(value1){(this.element.value!==value1||this.element.isContentEditable)&&(this.element.value=value1)}},{key:"ensureValueFitsMask",value:function ensureValueFitsMask(){this.updateElementState(maskitoTransform(this.elementState,this.options),{inputType:"insertText",data:null})}},{key:"dispatchInputEvent",value:function dispatchInputEvent(){var eventInit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inputType:"insertText",data:null};globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},eventInit),{bubbles:!0,cancelable:!1})))}},{key:"handleDelete",value:function handleDelete(_ref19){var event=_ref19.event,selection=_ref19.selection,isForward=_ref19.isForward,initialState={value:this.elementState.value,selection:selection},elementState=this.preprocessor({elementState:initialState,data:""},isForward?"deleteForward":"deleteBackward").elementState,maskModel=new MaskModel(elementState,this.options);maskModel.deleteCharacters();var newElementState=this.postprocessor(maskModel,initialState);if(areElementValuesEqual(initialState,elementState,maskModel,newElementState)){var _elementState$selecti=(0,slicedToArray.Z)(elementState.selection,2),from=_elementState$selecti[0],to=_elementState$selecti[1];return event.preventDefault(),this.updateSelectionRange(isForward?[to,to]:[from,from])}this.upcomingElementState=newElementState}},{key:"handleInsert",value:function handleInsert(event,data){var options=this.options,maxLength=this.maxLength,initialElementState=this.elementState,_initialElementState$2=(0,slicedToArray.Z)(initialElementState.selection,2),from=_initialElementState$2[0],to=_initialElementState$2[1],_this$preprocessor2=this.preprocessor({data:data,elementState:initialElementState},"insert"),elementState=_this$preprocessor2.elementState,_this$preprocessor2$d=_this$preprocessor2.data,maskModel=new MaskModel(elementState,options);try{maskModel.addCharacters(void 0===_this$preprocessor2$d?data:_this$preprocessor2$d)}catch(_a){return event.preventDefault()}this.upcomingElementState=this.clampState(this.postprocessor(maskModel,initialElementState)),initialElementState.value.length>=maxLength&&from===to&&("replace"!==options.overwriteMode||areElementStatesEqual(this.upcomingElementState,initialElementState)?this.upcomingElementState=null:this.dispatchInputEvent({inputType:"insertText",data:data}))}},{key:"handleEnter",value:function handleEnter(event){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(event,"\n")}},{key:"clampState",value:function clampState(_ref20){var value1=_ref20.value,selection=_ref20.selection,_selection6=(0,slicedToArray.Z)(selection,2),from=_selection6[0],to=_selection6[1],max=this.maxLength;return{value:value1.slice(0,max),selection:[Math.min(from,max),Math.min(to,max)]}}}])}(MaskHistory)},"./packages/amount-input/node_modules/@maskito/kit/index.esm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{L9:function(){return maskitoEventHandler},f8:function(){return maskitoNumberOptionsGenerator},vZ:function(){return maskitoParseNumber},Fn:function(){return maskitoStringifyNumber}});var _templateObject,_templateObject2,_templateObject3,toConsumableArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),index_esm=__webpack_require__("./packages/amount-input/node_modules/@maskito/core/index.esm.js");function clamp(value1,min,max){var clampedValue=Math.min(Number(max),Math.max(Number(min),Number(value1)));return value1 instanceof Date?new Date(clampedValue):clampedValue}var DEFAULT_DECIMAL_PSEUDO_SEPARATORS=[".",",","б","ю"];function identity(x){return x}function noop(){}RegExp("[".concat("\xa0","APM]+$"),"g"),RegExp("".concat("\xa0","[AP]M$"),"g");var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=new RegExp(reRegExpChar.source);function escapeRegExp(str){return str&&reHasRegExpChar.test(str)?str.replaceAll(reRegExpChar,String.raw(_templateObject||(_templateObject=_taggedTemplateLiteral(["$&"],["\\$&"])))):str}function findCommonBeginningSubstr(a,b){for(var res="",i=0;i<a.length&&a[i]===b[i];i++)res+=a[i];return res}function toHalfWidthNumber(fullWidthNumber){return fullWidthNumber.replaceAll(/[０-９]/g,function(s){return String.fromCharCode(s.charCodeAt(0)-65248)})}function createFullWidthToHalfWidthPreprocessor(){return function(_ref18){var elementState=_ref18.elementState,data=_ref18.data,value1=elementState.value;return{elementState:{selection:elementState.selection,value:toHalfWidthNumber(value1)},data:toHalfWidthNumber(data)}}}function maskitoPostfixPostprocessorGenerator(postfix){var completedPostfixRE=new RegExp("".concat(escapeRegExp(postfix),"$")),incompletePostfixRE=new RegExp(postfix&&"(".concat(postfix.split("").map(escapeRegExp).reduce(function(acc,_,i,arr){return"".concat(acc,"|").concat(arr.slice(0,i+1).join(""))}),")$"));return postfix?function({value:value1,selection:selection},initialElementState){if(!value1&&!initialElementState.value.endsWith(postfix))return{value:value1,selection:selection};if(!value1.match(incompletePostfixRE)&&!initialElementState.value.endsWith(postfix))return{selection:selection,value:value1+postfix};var initialValueBeforePostfix=initialElementState.value.replace(completedPostfixRE,""),postfixWasModified=initialElementState.selection[1]>initialValueBeforePostfix.length,alreadyExistedValueBeforePostfix=findCommonBeginningSubstr(initialValueBeforePostfix,value1);return{selection:selection,value:Array.from(postfix).reverse().reduce(function(newValue,char,index){var i=newValue.length-1-index,isInitiallyMirroredChar=alreadyExistedValueBeforePostfix[i]===char&&postfixWasModified;return newValue[i]!==char||isInitiallyMirroredChar?newValue.slice(0,i+1)+char+newValue.slice(i+1):newValue},value1)}}:identity}function maskitoPrefixPostprocessorGenerator(prefix){return prefix?function({value:value1,selection:selection},initialElementState){if(value1.startsWith(prefix)||!value1&&!initialElementState.value.startsWith(prefix))return{value:value1,selection:selection};var _selection7=(0,slicedToArray.Z)(selection,2),from=_selection7[0],to=_selection7[1],prefixedValue=Array.from(prefix).reduce(function(modifiedValue,char,i){return modifiedValue[i]===char?modifiedValue:modifiedValue.slice(0,i)+char+modifiedValue.slice(i)},value1),addedCharsCount=prefixedValue.length-value1.length;return{selection:[from+addedCharsCount,to+addedCharsCount],value:prefixedValue}}:identity}function maskitoEventHandler(name,handler,eventListenerOptions){return function(element,maskitoOptions){var listener=function(){return handler(element,maskitoOptions)};return element.addEventListener(name,listener,eventListenerOptions),function(){return element.removeEventListener(name,listener,eventListenerOptions)}}}function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t}function extractAffixes(value1,_ref79){var _a,_b,_c,_d,_e,_f,prefix=_ref79.prefix,postfix=_ref79.postfix,decimalSeparator=_ref79.decimalSeparator,decimalPseudoSeparators=_ref79.decimalPseudoSeparators,minusSign=_ref79.minusSign,minusPseudoSigns=_ref79.minusPseudoSigns,decimalSeparators=[].concat((0,toConsumableArray.Z)(decimalPseudoSeparators),[decimalSeparator]).map(function(x){return"\\".concat(x)}).join(""),minuses=[].concat((0,toConsumableArray.Z)(minusPseudoSigns),[minusSign]).map(function(x){return"\\".concat(x)}).join(""),prefixRegExp=prefix&&new RegExp("^([".concat(minuses,"])?(").concat(prefix.split("").map(escapeRegExp).join("?"),"?)")),postfixRegExp=postfix&&new RegExp("".concat(postfix.split("").map(escapeRegExp).join("?"),"?$")),_ref80=null!==(_a=value1.match(prefixRegExp))&&void 0!==_a?_a:[],_ref81$=(0,slicedToArray.Z)(_ref80,3)[2],extractedPrefix=void 0===_ref81$?"":_ref81$,_ref82=null!==(_b=value1.match(postfixRegExp))&&void 0!==_b?_b:[],_ref83$=(0,slicedToArray.Z)(_ref82,1)[0],extractedPostfix=void 0===_ref83$?"":_ref83$,cleanValue=value1.replace(prefixRegExp,prefix&&"$1").replace(postfixRegExp,""),leadingDecimalSeparatorRE=new RegExp(decimalSeparator&&"^[".concat(decimalSeparators,"]")),trailingDecimalSeparatorRE=new RegExp(decimalSeparator&&"[".concat(decimalSeparators,"]$"));return{extractedPrefix:extractedPrefix.replace(trailingDecimalSeparatorRE,""),extractedPostfix:extractedPostfix.replace(leadingDecimalSeparatorRE,""),cleanValue:(null!==(_d=null===(_c=trailingDecimalSeparatorRE.exec(extractedPrefix))||void 0===_c?void 0:_c[0])&&void 0!==_d?_d:"")+cleanValue+(null!==(_f=null===(_e=leadingDecimalSeparatorRE.exec(extractedPostfix))||void 0===_e?void 0:_e[0])&&void 0!==_f?_f:"")}}function generateMaskExpression(_ref84){var decimalPseudoSeparators=_ref84.decimalPseudoSeparators,decimalSeparator=_ref84.decimalSeparator,maximumFractionDigits=_ref84.maximumFractionDigits,min=_ref84.min,minusSign=_ref84.minusSign,minusPseudoSigns=_ref84.minusPseudoSigns,postfix=_ref84.postfix,prefix=_ref84.prefix,thousandSeparator=_ref84.thousandSeparator,computedPrefix=min<0&&[minusSign].concat((0,toConsumableArray.Z)(minusPseudoSigns)).includes(prefix)?"":computeAllOptionalCharsRegExp(prefix),digit=String.raw(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["d"],["\\d"]))),optionalMinus=min<0?"[".concat(minusSign).concat(minusPseudoSigns.map(function(x){return"\\".concat(x)}).join(""),"]?"):"",integerPart=thousandSeparator?"[".concat(digit).concat(escapeRegExp(thousandSeparator).replaceAll(/\s/g,String.raw(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["s"],["\\s"])))),"]*"):"[".concat(digit,"]*"),precisionPart=Number.isFinite(maximumFractionDigits)?maximumFractionDigits:"",decimalPart=maximumFractionDigits>0?"([".concat(escapeRegExp(decimalSeparator)).concat(decimalPseudoSeparators.map(escapeRegExp).join(""),"]").concat(digit,"{0,").concat(precisionPart,"})?"):"",computedPostfix=computeAllOptionalCharsRegExp(postfix),beginning="(".concat(optionalMinus+computedPrefix,"|").concat(computedPrefix+optionalMinus,")");return new RegExp("^".concat(beginning).concat(integerPart).concat(decimalPart).concat(computedPostfix,"$"))}function computeAllOptionalCharsRegExp(str){return str?"".concat(str.split("").map(function(char){return"".concat(escapeRegExp(char),"?")}).join("")):""}function toNumberParts(value1,_ref85){var _a,_b,decimalSeparator=_ref85.decimalSeparator,decimalPseudoSeparators=_ref85.decimalPseudoSeparators,minusSign=_ref85.minusSign,minusPseudoSigns=_ref85.minusPseudoSigns,_extractAffixes=extractAffixes(value1,{prefix:_ref85.prefix,postfix:_ref85.postfix,decimalSeparator:decimalSeparator,decimalPseudoSeparators:decimalPseudoSeparators,minusSign:minusSign,minusPseudoSigns:minusPseudoSigns}),extractedPrefix=_extractAffixes.extractedPrefix,cleanValue=_extractAffixes.cleanValue,extractedPostfix=_extractAffixes.extractedPostfix,_ref86=decimalSeparator?cleanValue.split(decimalSeparator):[cleanValue],_ref87=(0,slicedToArray.Z)(_ref86,2),_ref87$=_ref87[0],_ref87$2=_ref87[1],minuses=[minusSign].concat((0,toConsumableArray.Z)(minusPseudoSigns)).map(function(x){return"\\".concat(x)}).join(""),_ref88=new RegExp("^([".concat(minuses,"])?(.*)")).exec(void 0===_ref87$?"":_ref87$)||[],_ref89=(0,slicedToArray.Z)(_ref88,3),_ref89$=_ref89[1],_ref89$2=_ref89[2];return{prefix:extractedPrefix,minus:void 0===_ref89$?"":_ref89$,integerPart:void 0===_ref89$2?"":_ref89$2,decimalPart:void 0===_ref87$2?"":_ref87$2,decimalSeparator:decimalSeparator&&null!==(_b=null===(_a=RegExp("[".concat([decimalSeparator].concat((0,toConsumableArray.Z)(decimalPseudoSeparators)).map(escapeRegExp).join(""),"]"),"i").exec(cleanValue))||void 0===_a?void 0:_a[0])&&void 0!==_b?_b:"",postfix:extractedPostfix}}function fromNumberParts(_ref90,params){var _ref90$minus=_ref90.minus,minus=void 0===_ref90$minus?"":_ref90$minus,_ref90$integerPart=_ref90.integerPart,_ref90$decimalPart=_ref90.decimalPart,decimalPart=void 0===_ref90$decimalPart?"":_ref90$decimalPart,_ref90$prefix=_ref90.prefix,prefix=void 0===_ref90$prefix?"":_ref90$prefix,_ref90$postfix=_ref90.postfix,_ref90$decimalSeparat=_ref90.decimalSeparator,separator=decimalPart?params.decimalSeparator:void 0===_ref90$decimalSeparat?"":_ref90$decimalSeparat,beginning="minusFirst"===params.negativePattern?minus+prefix:prefix+minus;return"".concat(beginning).concat(void 0===_ref90$integerPart?"":_ref90$integerPart).concat(separator).concat(decimalPart).concat(void 0===_ref90$postfix?"":_ref90$postfix)}function maskitoParseNumber(maskedNumber){var decimalSeparatorOrParams=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref91="string"==typeof decimalSeparatorOrParams?{decimalSeparator:decimalSeparatorOrParams}:decimalSeparatorOrParams,_ref91$decimalSeparat=_ref91.decimalSeparator,decimalSeparator=void 0===_ref91$decimalSeparat?".":_ref91$decimalSeparat,_ref91$minusSign=_ref91.minusSign,_ref91$minusPseudoSig=_ref91.minusPseudoSigns,hasNegativeSign=!!new RegExp("^\\D*[".concat(escapeRegExp(void 0===_ref91$minusSign?"":_ref91$minusSign),"\\").concat((void 0===_ref91$minusPseudoSig?DEFAULT_PSEUDO_MINUSES:_ref91$minusPseudoSig).join("\\"),"]")).exec(maskedNumber),escapedDecimalSeparator=escapeRegExp(decimalSeparator),unmaskedNumber=maskedNumber.replaceAll(RegExp("".concat(escapedDecimalSeparator,"(?!\\d)"),"g"),"").replaceAll(RegExp("[^\\d".concat(escapedDecimalSeparator,"]"),"g"),"").replace(decimalSeparator,decimalSeparator&&".");return unmaskedNumber?Number("".concat(hasNegativeSign?"-":"").concat(unmaskedNumber)):NaN}function stringifyNumberWithoutExp(value1){var _a,valueAsString=String(value1),_valueAsString$split=valueAsString.split("e-"),_valueAsString$split2=(0,slicedToArray.Z)(_valueAsString$split,2),_valueAsString$split3=_valueAsString$split2[0],expPart=_valueAsString$split2[1],valueWithoutExp=valueAsString;if(expPart){var _numberPart$split=(void 0===_valueAsString$split3?"":_valueAsString$split3).split("."),fractionalPart=(0,slicedToArray.Z)(_numberPart$split,2)[1],decimalDigits=Number(expPart)+(null!==(_a=null==fractionalPart?void 0:fractionalPart.length)&&void 0!==_a?_a:0);valueWithoutExp=value1.toFixed(decimalDigits)}return valueWithoutExp}function maskitoStringifyNumber(number,params){if(Number.isNaN(number)||null===number)return"";var _params$min=params.min,min=void 0===_params$min?Number.MIN_SAFE_INTEGER:_params$min,_params$max=params.max,max=void 0===_params$max?Number.MAX_SAFE_INTEGER:_params$max,_params$decimalSepara=params.decimalSeparator,value1=stringifyNumberWithoutExp(clamp(number,min,max)).replace(".",void 0===_params$decimalSepara?".":_params$decimalSepara);return(0,index_esm.CV)(value1,maskitoNumberOptionsGenerator(params))}function validateDecimalPseudoSeparators(_ref92){var decimalSeparator=_ref92.decimalSeparator,thousandSeparator=_ref92.thousandSeparator,_ref92$decimalPseudoS=_ref92.decimalPseudoSeparators;return(void 0===_ref92$decimalPseudoS?DEFAULT_DECIMAL_PSEUDO_SEPARATORS:_ref92$decimalPseudoS).filter(function(char){return char!==thousandSeparator&&char!==decimalSeparator})}function createAffixesFilterPreprocessor(params){return function(_ref93){var elementState=_ref93.elementState,data=_ref93.data,value1=elementState.value,_a=toNumberParts(data,params),prefix=_a.prefix,postfix=_a.postfix;return{elementState:elementState,data:fromNumberParts(Object.assign(Object.assign({},__rest(_a,["prefix","postfix"])),{prefix:value1.startsWith(prefix)?"":prefix,postfix:value1.endsWith(postfix)?"":postfix}),params)}}}function createDecimalZeroPaddingPostprocessor(params){var minimumFractionDigits=params.minimumFractionDigits;return minimumFractionDigits?function(_ref94){var value1=_ref94.value,selection=_ref94.selection;if(Number.isNaN(maskitoParseNumber(value1,params)))return{value:value1,selection:selection};var _a=toNumberParts(value1,params),decimalPart=_a.decimalPart;return{value:fromNumberParts(Object.assign(Object.assign({},__rest(_a,["decimalPart"])),{decimalPart:decimalPart.padEnd(minimumFractionDigits,"0")}),params),selection:selection}}:identity}function emptyPostprocessor(params){return function(_ref95){var value1=_ref95.value,selection=_ref95.selection,caretIndex=(0,slicedToArray.Z)(selection,1)[0],_toNumberParts=toNumberParts(value1,params),prefix=_toNumberParts.prefix,minus=_toNumberParts.minus,integerPart=_toNumberParts.integerPart,decimalSeparator=_toNumberParts.decimalSeparator,decimalPart=_toNumberParts.decimalPart,postfix=_toNumberParts.postfix;return(integerPart||Number(decimalPart)||caretIndex!==(minus+prefix).length)&&(integerPart||decimalPart||!decimalSeparator)?{value:value1,selection:selection}:{selection:selection,value:fromNumberParts({prefix:prefix,minus:minus,postfix:postfix},params)}}}function createInitializationOnlyPreprocessor(params){var isInitializationPhase=!0,cleanNumberMask=generateMaskExpression(Object.assign(Object.assign({},params),{prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:Number.MIN_SAFE_INTEGER}));return function(_ref96){var elementState=_ref96.elementState,data=_ref96.data;if(!isInitializationPhase)return{elementState:elementState,data:data};isInitializationPhase=!1;var value1=elementState.value,selection=elementState.selection,_selection12=(0,slicedToArray.Z)(selection,2),from=_selection12[0],to=_selection12[1],_a=toNumberParts(value1,params),prefix=_a.prefix,postfix=_a.postfix,onlyNumber=fromNumberParts(__rest(_a,["prefix","postfix"]),params),cleanState=(0,index_esm.CV)({selection:[Math.max(from-prefix.length,0),Math.max(to-prefix.length,0)],value:onlyNumber},{mask:cleanNumberMask}),deleted=onlyNumber.slice(0,Math.max(to-prefix.length,0)).length-cleanState.value.slice(0,cleanState.selection[1]).length;return{elementState:{selection:[from-deleted,to-deleted],value:fromNumberParts(Object.assign(Object.assign({},toNumberParts(cleanState.value,params)),{prefix:prefix,postfix:postfix}),params)},data:data}}}function createLeadingMinusDeletionPreprocessor(params){return function(_ref97,inputType){var elementState=_ref97.elementState,value1=elementState.value,selection=elementState.selection,_selection13=(0,slicedToArray.Z)(selection,2),from=_selection13[0],to=_selection13[1],prefix=params.prefix,minusSign=params.minusSign,beginning="prefixFirst"===params.negativePattern?prefix:minusSign+prefix,newValue=fromNumberParts(Object.assign(Object.assign({},toNumberParts(value1,params)),{minus:""}),params),diff=value1.length-newValue.length;return{elementState:inputType.includes("delete")&&value1.includes(minusSign)&&from<beginning.length?{value:newValue,selection:[Math.max(from-diff,beginning.length-1),Math.max(to-diff,beginning.length-1)]}:elementState}}}function createLeadingZeroesValidationPostprocessor(params){var thousandSeparator=params.thousandSeparator,trimLeadingZeroes=function(value1){var escapedThousandSeparator=escapeRegExp(thousandSeparator);return value1.replace(new RegExp("^(\\D+)?[0".concat(escapedThousandSeparator,"]+(?=0)")),"$1").replace(new RegExp("^(\\D+)?[0".concat(escapedThousandSeparator,"]+(?=[1-9])")),"$1")},countTrimmedZeroesBefore=function(value1,index){var valueBefore=value1.slice(0,index),followedByZero=value1.slice(index).startsWith("0");return valueBefore.length-trimLeadingZeroes(valueBefore).length+(followedByZero?1:0)};return function(_ref98){var value1=_ref98.value,selection=_ref98.selection,_selection14=(0,slicedToArray.Z)(selection,2),from=_selection14[0],to=_selection14[1],_a=toNumberParts(value1,params),integerPart=_a.integerPart,numberParts=__rest(_a,["integerPart"]),zeroTrimmedIntegerPart=trimLeadingZeroes(integerPart);if(integerPart===zeroTrimmedIntegerPart)return{value:value1,selection:selection};var newFrom=from-countTrimmedZeroesBefore(value1,from),newTo=to-countTrimmedZeroesBefore(value1,to);return{value:fromNumberParts(Object.assign(Object.assign({},numberParts),{integerPart:zeroTrimmedIntegerPart}),params),selection:[Math.max(newFrom,0),Math.max(newTo,0)]}}}function createMinMaxPostprocessor(_ref99){var min=_ref99.min,max=_ref99.max,decimalSeparator=_ref99.decimalSeparator,minusSign=_ref99.minusSign;return function(_ref100){var value1=_ref100.value,selection=_ref100.selection,parsedNumber=maskitoParseNumber(value1,{decimalSeparator:decimalSeparator,minusSign:minusSign}),limitedValue=parsedNumber>0?Math.min(parsedNumber,max):Math.max(parsedNumber,min);if(parsedNumber&&limitedValue!==parsedNumber){var newValue="".concat(limitedValue).replace(".",decimalSeparator).replace("-",minusSign);return{value:newValue,selection:[newValue.length,newValue.length]}}return{value:value1,selection:selection}}}function createNonRemovableCharsDeletionPreprocessor(_ref101){var decimalSeparator=_ref101.decimalSeparator,thousandSeparator=_ref101.thousandSeparator,minimumFractionDigits=_ref101.minimumFractionDigits;return function(_ref102,actionType){var elementState=_ref102.elementState,data=_ref102.data,value1=elementState.value,selection=elementState.selection,_selection15=(0,slicedToArray.Z)(selection,2),from=_selection15[0],to=_selection15[1],selectedCharacters=value1.slice(from,to),nonRemovableSeparators=minimumFractionDigits?[decimalSeparator,thousandSeparator]:[thousandSeparator],areNonRemovableZeroesSelected=!!minimumFractionDigits&&from>value1.indexOf(decimalSeparator)&&!!selectedCharacters.match(/^0+$/gi);return("deleteBackward"===actionType||"deleteForward"===actionType)&&(nonRemovableSeparators.includes(selectedCharacters)||areNonRemovableZeroesSelected)?{elementState:{value:value1,selection:"deleteForward"===actionType?[to,to]:[from,from]},data:data}:{elementState:elementState,data:data}}}function createNotEmptyIntegerPartPreprocessor(params){var maximumFractionDigits=params.maximumFractionDigits,decimalSeparator=params.decimalSeparator,startWithDecimalSepRegExp=new RegExp("^\\D*".concat(escapeRegExp(decimalSeparator)));return function(_ref103){var elementState=_ref103.elementState,data=_ref103.data,value1=elementState.value,selection=elementState.selection,_a=toNumberParts(value1,params),prefix=_a.prefix,onlyNumber=fromNumberParts((_a.postfix,__rest(_a,["prefix","postfix"])),params),_selection16=(0,slicedToArray.Z)(selection,2),from=_selection16[0],to=_selection16[1],cleanFrom=clamp(from-prefix.length,0,onlyNumber.length),cleanTo=clamp(to-prefix.length,0,onlyNumber.length);return maximumFractionDigits<=0||onlyNumber.slice(0,cleanFrom).includes(decimalSeparator)||onlyNumber.slice(cleanTo).includes(decimalSeparator)||!data.match(startWithDecimalSepRegExp)?{elementState:elementState,data:data}:{elementState:elementState,data:/\d+/.exec(onlyNumber.slice(0,cleanFrom))?data:"0".concat(data)}}}function createNumberPrefixPostprocessor(_ref104){var prefix=_ref104.prefix,minusSign=_ref104.minusSign,negativePattern=_ref104.negativePattern;return function(_ref105,initialElementState){var value1=_ref105.value,selection=_ref105.selection;return maskitoPrefixPostprocessorGenerator(value1.includes(minusSign)&&"minusFirst"===negativePattern?minusSign+prefix:prefix)({value:value1,selection:selection},initialElementState)}}function createPseudoCharactersPreprocessor(_a){var validCharacter=_a.validCharacter,pseudoCharacters=_a.pseudoCharacters,params=__rest(_a,["validCharacter","pseudoCharacters"]),pseudoCharactersRegExp=RegExp("[".concat(pseudoCharacters.join(""),"]"),"gi");return function(_ref106){var elementState=_ref106.elementState,data=_ref106.data,value1=elementState.value,selection=elementState.selection,_a=toNumberParts(value1,params),prefix=_a.prefix,postfix=_a.postfix,onlyNumber=fromNumberParts(__rest(_a,["prefix","postfix"]),params).replace(pseudoCharactersRegExp,validCharacter);return{elementState:{selection:selection,value:fromNumberParts(Object.assign(Object.assign({},toNumberParts(onlyNumber,params)),{prefix:prefix,postfix:postfix}),params)},data:data.replace(pseudoCharactersRegExp,validCharacter)}}}function createRepeatedDecimalSeparatorPreprocessor(params){var decimalSeparator=params.decimalSeparator;return decimalSeparator?function(_ref107){var elementState=_ref107.elementState,data=_ref107.data,value1=elementState.value,selection=elementState.selection,_selection17=(0,slicedToArray.Z)(selection,2),from=_selection17[0],to=_selection17[1];return{elementState:elementState,data:!toNumberParts(value1,params).decimalSeparator||value1.slice(from,to+1).includes(decimalSeparator)?data:data.replaceAll(RegExp(escapeRegExp(decimalSeparator),"gi"),"")}}:identity}function createThousandSeparatorPostprocessor(params){var thousandSeparator=params.thousandSeparator;if(!thousandSeparator)return identity;var isAllSpaces=function(){for(var _len=arguments.length,chars=Array(_len),_key=0;_key<_len;_key++)chars[_key]=arguments[_key];return chars.every(function(x){return/\s/.test(x)})};return function(_ref108){var value1=_ref108.value,selection=_ref108.selection,_selection18=(0,slicedToArray.Z)(selection,2),initialFrom=_selection18[0],initialTo=_selection18[1],_selection19=(0,slicedToArray.Z)(selection,2),from=_selection19[0],to=_selection19[1],_toNumberParts2=toNumberParts(value1,params),prefix=_toNumberParts2.prefix,minus=_toNumberParts2.minus,integerPart=_toNumberParts2.integerPart,decimalSeparator=_toNumberParts2.decimalSeparator,decimalPart=_toNumberParts2.decimalPart,postfix=_toNumberParts2.postfix,deletedChars=fromNumberParts({minus:minus,integerPart:integerPart,decimalSeparator:decimalSeparator,decimalPart:decimalPart},params).length-(minus+integerPart+(decimalSeparator?decimalSeparator+decimalPart:"")).length;return deletedChars>0&&initialFrom&&initialFrom<=deletedChars&&(from-=deletedChars),deletedChars>0&&initialTo&&initialTo<=deletedChars&&(to-=deletedChars),{value:fromNumberParts({prefix:prefix,minus:minus,integerPart:Array.from(integerPart).reduceRight(function(formattedValuePart,char,i){var isPositionForSeparator=!(!i&&char===thousandSeparator)&&!!formattedValuePart.length&&(formattedValuePart.length+1)%4==0,isSeparator=char===thousandSeparator||isAllSpaces(char,thousandSeparator);return isPositionForSeparator&&isSeparator?thousandSeparator+formattedValuePart:!isPositionForSeparator&&isSeparator?(from&&i<=initialFrom&&from--,to&&i<=initialTo&&to--,formattedValuePart):isPositionForSeparator?(i<initialFrom&&from++,i<initialTo&&to++,char+thousandSeparator+formattedValuePart):char+formattedValuePart},""),decimalSeparator:decimalSeparator,decimalPart:decimalPart,postfix:postfix},params),selection:[from,to]}}}function createZeroPrecisionPreprocessor(params){var maximumFractionDigits=params.maximumFractionDigits,decimalSeparator=params.decimalSeparator;if(maximumFractionDigits>0||!decimalSeparator)return identity;var decimalPartRegExp=RegExp("".concat(escapeRegExp(decimalSeparator),".*$"),"g");return function(_ref109){var elementState=_ref109.elementState,data=_ref109.data,value1=elementState.value,selection=elementState.selection,_a=toNumberParts(value1,params),prefix=_a.prefix,postfix=_a.postfix,numberParts=__rest(_a,["prefix","postfix"]),_selection20=(0,slicedToArray.Z)(selection,2),from=_selection20[0],to=_selection20[1],onlyNumber=fromNumberParts(numberParts,params).replace(decimalPartRegExp,""),newValue=fromNumberParts(Object.assign(Object.assign({},toNumberParts(onlyNumber,params)),{prefix:prefix,postfix:postfix}),params);return{elementState:{selection:[Math.min(from,newValue.length),Math.min(to,newValue.length)],value:newValue},data:data.replace(decimalPartRegExp,"")}}}new RegExp("[".concat([":","."].map(escapeRegExp).join(""),"]$")),Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),"function"==typeof SuppressedError&&SuppressedError;var DUMMY_SELECTION=[0,0];function createLeadingZeroesValidationPlugin(params){var dropRepeatedLeadingZeroes=createLeadingZeroesValidationPostprocessor(params);return maskitoEventHandler("blur",function(element){var newValue=dropRepeatedLeadingZeroes({value:element.value,selection:DUMMY_SELECTION},{value:"",selection:DUMMY_SELECTION}).value;(0,index_esm.fD)(element,newValue)},{capture:!0})}function createMinMaxPlugin(_ref110){var min=_ref110.min,max=_ref110.max,decimalSeparator=_ref110.decimalSeparator,minusSign=_ref110.minusSign;return maskitoEventHandler("blur",function(element,options){var parsedNumber=maskitoParseNumber(element.value,{decimalSeparator:decimalSeparator,minusSign:minusSign}),clampedNumber=clamp(parsedNumber,min,max);Number.isNaN(parsedNumber)||parsedNumber===clampedNumber||(0,index_esm.fD)(element,(0,index_esm.CV)(stringifyNumberWithoutExp(clampedNumber),options))},{capture:!0})}function createNotEmptyIntegerPlugin(params){var decimalSeparator=params.decimalSeparator;return decimalSeparator?maskitoEventHandler("blur",function(element){var _a=toNumberParts(element.value,params),prefix=_a.prefix,postfix=_a.postfix,onlyNumber=fromNumberParts(__rest(_a,["prefix","postfix"]),params).replace(new RegExp("^(\\D+)?".concat(escapeRegExp(decimalSeparator))),"$10".concat(decimalSeparator)),newValue=fromNumberParts(Object.assign(Object.assign({},toNumberParts(onlyNumber,params)),{prefix:prefix,postfix:postfix}),params);(0,index_esm.fD)(element,newValue)},{capture:!0}):noop}var DEFAULT_PSEUDO_MINUSES=["-","–","—","ー","−"];function maskitoNumberOptionsGenerator(){var _ref111=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref111$max=_ref111.max,max=void 0===_ref111$max?Number.MAX_SAFE_INTEGER:_ref111$max,_ref111$min=_ref111.min,min=void 0===_ref111$min?Number.MIN_SAFE_INTEGER:_ref111$min,_ref111$precision=_ref111.precision,precision=void 0===_ref111$precision?0:_ref111$precision,_ref111$thousandSepar=_ref111.thousandSeparator,thousandSeparator=void 0===_ref111$thousandSepar?"\xa0":_ref111$thousandSepar,_ref111$decimalSepara=_ref111.decimalSeparator,decimalSeparator=void 0===_ref111$decimalSepara?".":_ref111$decimalSepara,unsafeDecimalPseudoSeparators=_ref111.decimalPseudoSeparators,_ref111$decimalZeroPa=_ref111.decimalZeroPadding,decimalZeroPadding=void 0!==_ref111$decimalZeroPa&&_ref111$decimalZeroPa,_ref111$prefix=_ref111.prefix,prefix=void 0===_ref111$prefix?"":_ref111$prefix,_ref111$postfix=_ref111.postfix,postfix=void 0===_ref111$postfix?"":_ref111$postfix,_ref111$minusSign=_ref111.minusSign,minusSign=void 0===_ref111$minusSign?"−":_ref111$minusSign,_ref111$minusPseudoSi=_ref111.minusPseudoSigns,minusPseudoSigns=void 0===_ref111$minusPseudoSi?DEFAULT_PSEUDO_MINUSES.filter(function(char){return char!==thousandSeparator&&char!==decimalSeparator&&char!==minusSign}):_ref111$minusPseudoSi,_ref111$maximumFracti=_ref111.maximumFractionDigits,maximumFractionDigits=void 0===_ref111$maximumFracti?precision:_ref111$maximumFracti,_ref111$minimumFracti=_ref111.minimumFractionDigits,minimumFractionDigits=void 0===_ref111$minimumFracti?decimalZeroPadding?maximumFractionDigits:0:_ref111$minimumFracti,_ref111$negativePatte=_ref111.negativePattern,decimalPseudoSeparators=validateDecimalPseudoSeparators({decimalSeparator:decimalSeparator,thousandSeparator:thousandSeparator,decimalPseudoSeparators:unsafeDecimalPseudoSeparators}),params={max:max,min:min,precision:precision,thousandSeparator:thousandSeparator,postfix:postfix,minusSign:minusSign,minusPseudoSigns:minusPseudoSigns,maximumFractionDigits:maximumFractionDigits,decimalPseudoSeparators:decimalPseudoSeparators,negativePattern:void 0===_ref111$negativePatte?"prefixFirst":_ref111$negativePatte,decimalZeroPadding:decimalZeroPadding,decimalSeparator:maximumFractionDigits<=0&&decimalSeparator===thousandSeparator?"":decimalSeparator,prefix:prefix.endsWith(decimalSeparator)&&maximumFractionDigits>0?"".concat(prefix).concat("​"):prefix,minimumFractionDigits:Math.min(minimumFractionDigits,maximumFractionDigits)};return Object.assign(Object.assign({},index_esm.A_),{mask:generateMaskExpression(params),preprocessors:[createFullWidthToHalfWidthPreprocessor(),createInitializationOnlyPreprocessor(params),createAffixesFilterPreprocessor(params),createPseudoCharactersPreprocessor(Object.assign(Object.assign({},params),{validCharacter:minusSign,pseudoCharacters:minusPseudoSigns})),createPseudoCharactersPreprocessor(Object.assign(Object.assign({},params),{validCharacter:decimalSeparator,pseudoCharacters:decimalPseudoSeparators})),createNotEmptyIntegerPartPreprocessor(params),createNonRemovableCharsDeletionPreprocessor(params),createZeroPrecisionPreprocessor(params),createRepeatedDecimalSeparatorPreprocessor(params),createLeadingMinusDeletionPreprocessor(params)],postprocessors:[createMinMaxPostprocessor(params),createNumberPrefixPostprocessor(params),maskitoPostfixPostprocessorGenerator(postfix),createThousandSeparatorPostprocessor(params),createDecimalZeroPaddingPostprocessor(params),emptyPostprocessor(params)],plugins:[createLeadingZeroesValidationPlugin(params),createNotEmptyIntegerPlugin(params),createMinMaxPlugin(params)],overwriteMode:minimumFractionDigits>0?function(_ref112){var value1=_ref112.value;return(0,slicedToArray.Z)(_ref112.selection,1)[0]<=value1.indexOf(decimalSeparator)?"shift":"replace"}:"shift"})}},"./packages/amount-input/node_modules/@maskito/react/index.esm.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{I:function(){return useMaskito}});var _home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_maskito_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/amount-input/node_modules/@maskito/core/index.esm.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function adaptReactControlledElement(element){var _a,valueSetter=null===(_a=Object.getOwnPropertyDescriptor(getPrototype(element),"value"))||void 0===_a?void 0:_a.set;if(!valueSetter)return element;var adapter={set value(value){valueSetter.call(element,value)}};return new Proxy(element,{get:function get(target,prop){var nativeProperty=target[prop];return"function"==typeof nativeProperty?nativeProperty.bind(target):nativeProperty},set:function set(target,prop,val,receiver){return Reflect.set(prop in adapter?adapter:target,prop,val,receiver)}})}function getPrototype(element){var _a,_b;switch(element.nodeName){case"INPUT":return null===(_a=globalThis.HTMLInputElement)||void 0===_a?void 0:_a.prototype;case"TEXTAREA":return null===(_b=globalThis.HTMLTextAreaElement)||void 0===_b?void 0:_b.prototype;default:return null}}var useIsomorphicLayoutEffect="undefined"!=typeof window?react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_1__.useEffect;function isThenable(x){return x&&"object"==typeof x&&"then"in x}var useMaskito=function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$options=_ref.options,options=void 0===_ref$options?null:_ref$options,_ref$elementPredicate=_ref.elementPredicate,elementPredicate=void 0===_ref$elementPredicate?_maskito_core__WEBPACK_IMPORTED_MODULE_0__.gI:_ref$elementPredicate,_useState=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),_useState2=(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_useState,2),hostElement=_useState2[0],setHostElement=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),_useState4=(0,_home_runner_work_core_components_core_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_useState3,2),element=_useState4[0],setElement=_useState4[1],onRefChange=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(node){setHostElement(node)},[]),latestPredicateRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(elementPredicate),latestOptionsRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(options);return latestPredicateRef.current=elementPredicate,latestOptionsRef.current=options,useIsomorphicLayoutEffect(function(){if(hostElement){var elementOrPromise=elementPredicate(hostElement);isThenable(elementOrPromise)?elementOrPromise.then(function(el){latestPredicateRef.current===elementPredicate&&latestOptionsRef.current===options&&setElement(el)}):setElement(elementOrPromise)}},[hostElement,elementPredicate,latestPredicateRef,options,latestOptionsRef]),useIsomorphicLayoutEffect(function(){if(element&&options){var maskedElement=new _maskito_core__WEBPACK_IMPORTED_MODULE_0__.C8(adaptReactControlledElement(element),options);return function(){maskedElement.destroy(),setElement(null)}}},[options,element]),onRefChange}}}]);