import { ArgTypes } from '@storybook/addon-docs';
import { Mq } from '../index';

## Подключение

```jsx
import { Mq, useMatchMedia } from '@alfalab/core-components/mq';
```

Компонент, имплементирующий поддержку медиа запросов в шаблонах с помощью `window.matchMedia`.
Рендерит внутренние Components/разметку исходя из соответствия условиям запроса.

Можно использовать как нативные запросы, так и кастомные из `mq.json`, например `--mobile`.

Пока браузеры не поддерживают CSS4 Media Queries, поддержка тач-событий определяется через пропс `touch`.

Важно понимать, что широкое использование этого подхода не рекомендовано, поскольку:

1. `matchMedia()` накладнее для браузера, чем матчинг элемента в CSS;
2. Этот способ работает только на клиенте, и, при использовании SSR, может усилить различие серверной и финальной разметки, и добавить сложности к тестированию.

Помимо компонента, в пакете доступен хук `useMatchMedia`:

```jsx live
render(() => {
    const query = '(min-width: 600px)';
    const [matches] = useMatchMedia(query);

    return `Matches ${query}: ${matches}`;
});
```

## Свойства

<ArgTypes of={Mq} />
