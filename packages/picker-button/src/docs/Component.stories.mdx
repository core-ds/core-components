import { Meta, Story, Markdown } from '@storybook/addon-docs';
import { text, boolean, select } from '@storybook/addon-knobs';
import { StarMIcon } from '@alfalab/icons-glyph/StarMIcon';
import { ComponentHeader, Tabs } from 'storybook/blocks';
import { PickerButton } from '@alfalab/core-components-picker-button';
import { PickerButtonMobile } from '@alfalab/core-components-picker-button/mobile';
import { PickerButtonDesktop } from '@alfalab/core-components-picker-button/desktop';

import Description from './description.mdx';
import Development from './development.mdx';
import Changelog from '../../CHANGELOG.md?raw';

export const options = [
    { key: 'Заказать карту' },
    { key: 'Выписка по счёту' },
    { key: 'Выпустить карту' },
    { key: 'Скопировать реквизиты' },
];

<Meta title='Components/PickerButton' component={PickerButton} id='PickerButton' />

{/* Canvas */}

<Story name='PickerButton'>
    <PickerButton
        options={options}
        label={text('label', 'Действие')}
        size={select('size', [32 , 40 , 48 , 56 , 64 , 72], 56)}
        view={select(
            'view',
            ['link', 'filled', 'primary', 'secondary', 'outlined', 'ghost', 'accent'],
            'secondary',
        )}
        variant={select('variant', ['default', 'compact'])}
        disabled={boolean('disabled', false)}
        loading={boolean('loading', false)}
        leftAddons={boolean('Иконка слева', false) ? <StarMIcon /> : null}
        showArrow={boolean('Показывать стрелку', true)}
    />
</Story>

<Story name='PickerButtonMobile'>
    <PickerButtonMobile
        options={options}
        label={text('label', 'Действие')}
        size={select('size', [32 , 40 , 48 , 56 , 64 , 72], 56)}
        view={select(
            'view',
            ['link', 'filled', 'primary', 'secondary', 'outlined', 'ghost', 'accent'],
            'secondary',
        )}
        variant={select('variant', ['default', 'compact'])}
        disabled={boolean('disabled', false)}
        loading={boolean('loading', false)}
        leftAddons={boolean('Иконка слева', false) ? <StarMIcon /> : null}
        showArrow={boolean('Показывать стрелку', true)}
    />
</Story>

<Story name='PickerButtonDesktop'>
    <PickerButtonDesktop
        options={options}
        label={text('label', 'Действие')}
        size={select('size', [32 , 40 , 48 , 56 , 64 , 72], 56)}
        view={select(
            'view',
            ['link', 'filled', 'primary', 'secondary', 'outlined', 'ghost', 'accent'],
            'secondary',
        )}
        variant={select('variant', ['default', 'compact'])}
        disabled={boolean('disabled', false)}
        loading={boolean('loading', false)}
        leftAddons={boolean('Иконка слева', false) ? <StarMIcon /> : null}
        showArrow={boolean('Показывать стрелку', true)}
    />
</Story>

{/* Docs */}

<ComponentHeader
    name='PickerButton'
    children='Кнопка используется для скрытия редких или одинаковых по контексту действий.'
/>

<Tabs
    description={<Description />}
    development={<Development />}
    changelog={<Markdown>{Changelog}</Markdown>}
/>
