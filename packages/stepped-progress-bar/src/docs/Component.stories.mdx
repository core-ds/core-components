import { Meta, Story, ArgsTable, Markdown } from '@storybook/addon-docs';
import { text, number, select } from '@storybook/addon-knobs';
import { ComponentHeader, Tabs } from 'storybook/blocks';
import { SteppedProgressBar } from '@alfalab/core-components-stepped-progress-bar';

import { SteppedProgressBar as SteppedProgressBarTS } from '../Component';
import Description from './description.mdx';
import Changelog from '../../CHANGELOG.md?raw';

<Meta
    title='Components/SteppedProgressBar'
    component={SteppedProgressBar}
    id='SteppedProgressBar'
/>

{/* Canvas */}

<Story name='SteppedProgressBar'>
    {React.createElement(() => {
        const colors = select('colors', ['default', 'inverted'], 'default');
        return (
            <div
                style={{
                    backgroundColor:
                        colors === 'inverted'
                            ? 'var(--color-light-bg-primary-inverted)'
                            : 'transparent',
                    padding: '20px',
                    position: 'absolute',
                    inset: '0px',
                }}
            >
                <SteppedProgressBar
                    colors={colors}
                    step={number('step', 1)}
                    maxStep={number('maxStep', 3)}
                    description={text('description', 'Выбор карты')}
                    view={select('view', [
                        'positive',
                        'negative',
                        'attention',
                        'link',
                        'tertiary',
                        'secondary',
                        'primary',
                        'accent',
                    ])}
                />
            </div>
        );
    })}
</Story>

{/* Docs */}

<ComponentHeader name='SteppedProgressBar' />

```jsx
import { SteppedProgressBar } from '@alfalab/core-components/stepped-progress-bar';
```

<Tabs
    props={<ArgsTable of={SteppedProgressBarTS} />}
    description={<Description />}
    changelog={<Markdown>{Changelog}</Markdown>}
/>
