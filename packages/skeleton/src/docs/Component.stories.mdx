import { Meta, Story, ArgsTable, Markdown } from '@storybook/addon-docs';
import { text, boolean } from '@storybook/addon-knobs';
import { ComponentHeader, Tabs, CssVars } from 'storybook/blocks';
import { Skeleton } from '@alfalab/core-components-skeleton';

import { Skeleton as SkeletonTS } from '../Component';
import packageJson from '../../package.json';
import Description from './description.mdx';
import Changelog from '../../CHANGELOG.md?raw';
import styles from '!!raw-loader!../index.module.css';

<Meta title='Components/Skeleton' component={Skeleton} id='Skeleton' />

{/* Canvas */}

<Story name='Skeleton'>
    <div
        style={{
            width: 150,
            height: 150,
        }}
    >
        <Skeleton
            visible={boolean('visible', true)}
            className={text('className', '')}
            dataTestId={text('dataTestId', '')}
            animate={boolean('animate', true)}
        >
            <img
                width={150}
                height={150}
                alt='Фижер'
                src='https://rawgit.com/alfa-laboratory/arui-feather/master/logo.svg'
            />
        </Skeleton>
    </div>
</Story>

{/* Docs */}

<ComponentHeader
    name='Skeleton'
    version={packageJson.version}
    package='@alfalab/core-components/skeleton'
/>

```jsx
import { Skeleton } from '@alfalab/core-components/skeleton';
```

<Tabs
    description={<Description />}
    changelog={<Markdown>{Changelog}</Markdown>}
    props={<ArgsTable of={SkeletonTS} />}
    cssVars={<CssVars css={styles} />}
/>
