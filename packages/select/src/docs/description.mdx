## Стандартный вид компонента

По умолчанию селект вызывает [Popover](/docs/popover--popover) с вариантами выбора.
На мобильных устройствах варианты выбора отображаются в [BottomSheet](/docs/bottomsheet--bottom-sheet).

```jsx live mobileHeight={640}
const OPTIONS = [
    { key: '1', content: 'Neptunium' },
    { key: '2', content: 'Plutonium' },
    { key: '3', content: 'Americium' },
    { key: '4', content: 'Curium' },
    { key: '5', content: 'Berkelium' },
    { key: '6', content: 'Californium' },
    { key: '7', content: 'Einsteinium' },
    { key: '8', content: 'Fermium' },
];

render(() => {
    const [selected, setSelected] = React.useState([]);
    const isAllSelected = OPTIONS.length === selected.length;

    const handleChange = ({ selectedMultiple }) => {
        setSelected(selectedMultiple.map((option) => option.key));
    };

    const handleSelectAll = () => {
        setSelected(isAllSelected ? [] : OPTIONS.map((v) => v.key));
    };

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <Select
                allowUnselect={true}
                size='m'
                options={OPTIONS}
                placeholder='Одиночный выбор'
                Option={BaseOption}
                block={true}
            />
            <div style={{ height: 'var(--gap-m)' }} />
            <Select
                selected={selected}
                allowUnselect={true}
                size='m'
                options={OPTIONS}
                placeholder='Множественный выбор'
                Option={BaseOption}
                multiple={true}
                block={true}
                onChange={handleChange}
                optionsListProps={{
                    header: (
                        <div style={{ padding: 'var(--gap-s)' }}>
                            <Checkbox
                                block={true}
                                size='m'
                                onChange={handleSelectAll}
                                checked={isAllSelected}
                                label='Выбрать все'
                            />
                        </div>
                    ),
                }}
            />
        </div>
    );
});
//MOBILE
const OPTIONS = [
    { key: '1', content: 'Neptunium' },
    { key: '2', content: 'Plutonium' },
    { key: '3', content: 'Americium' },
    { key: '4', content: 'Curium' },
    { key: '5', content: 'Berkelium' },
    { key: '6', content: 'Californium' },
    { key: '7', content: 'Einsteinium' },
    { key: '8', content: 'Fermium' },
];

render(() => {
    const [selected, setSelected] = React.useState();
    const [selectedMultiple, setSelectedMultiple] = React.useState([]);

    const handleChange = ({ selected }) => {
        setSelected(selected);
    };

    const handleChangeMultiple = ({ selectedMultiple }) => {
        setSelectedMultiple(selectedMultiple.map((option) => option.key));
    };

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <SelectMobile
                allowUnselect={true}
                options={OPTIONS}
                placeholder='Одиночный выбор'
                Option={BaseOption}
                block={true}
                selected={selected}
                onChange={handleChange}
            />
            <div style={{ height: 'var(--gap-m)' }} />
            <SelectMobile
                multiple
                allowUnselect={true}
                options={OPTIONS}
                placeholder='Множественный выбор'
                Option={BaseOption}
                block={true}
                options={OPTIONS}
                selected={selectedMultiple}
                onChange={handleChangeMultiple}
            />
        </div>
    );
});
```

## Условие выбора

Селекты поддерживают несколько способов принятия изменений:

1. После выбора первого элемента поповер автоматически закрывается.
2. После выбора элемента необходимо закрыть дропдаун кликнув «снаружи».
3. После нажатия на кнопку подтверждения в дропдауне.

```jsx live mobileHeight={640}
const OPTIONS = [
    { key: '1', content: 'Neptunium' },
    { key: '2', content: 'Plutonium' },
    { key: '3', content: 'Americium' },
    { key: '4', content: 'Curium' },
    { key: '5', content: 'Berkelium' },
    { key: '6', content: 'Californium' },
    { key: '7', content: 'Einsteinium' },
    { key: '8', content: 'Fermium' },
];

render(() => {
    const [selected, setSelected] = React.useState([]);

    const handleChange = ({ selectedMultiple }) => {
        setSelected(selectedMultiple.map((option) => option.key));
    };

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <Select
                allowUnselect={true}
                size='m'
                options={OPTIONS}
                placeholder='Без подтверждения'
                Option={BaseOption}
                block={true}
            />
            <div style={{ height: 'var(--gap-m)' }} />
            <Select
                allowUnselect={true}
                placeholder='Выбор с подтверждением'
                block={true}
                optionsListWidth='field'
                Option={BaseOption}
                size='m'
                {...useSelectWithApply({
                    options: OPTIONS,
                    selected,
                    onChange: handleChange,
                })}
            />
        </div>
    );
});
//MOBILE
const OPTIONS = [
    { key: '1', content: 'Neptunium' },
    { key: '2', content: 'Plutonium' },
    { key: '3', content: 'Americium' },
    { key: '4', content: 'Curium' },
    { key: '5', content: 'Berkelium' },
    { key: '6', content: 'Californium' },
    { key: '7', content: 'Einsteinium' },
    { key: '8', content: 'Fermium' },
];

render(() => {
    const [selected, setSelected] = React.useState();
    const [selectedMultiple, setSelectedMultiple] = React.useState([]);

    const handleChange = ({ selected }) => {
        setSelected(selected);
    };

    const handleChangeMultiple = ({ selectedMultiple }) => {
        setSelectedMultiple(selectedMultiple.map((option) => option.key));
    };

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <SelectMobile
                allowUnselect={true}
                options={OPTIONS}
                placeholder='Без подтверждения'
                Option={BaseOption}
                block={true}
                selected={selected}
                onChange={handleChange}
            />
            <div style={{ height: 'var(--gap-m)' }} />
            <SelectMobile
                multiple
                allowUnselect={true}
                options={OPTIONS}
                placeholder='С подтверждением'
                Option={BaseOption}
                block={true}
                options={OPTIONS}
                selected={selectedMultiple}
                onChange={handleChangeMultiple}
            />
        </div>
    );
});
```

## Группировка

Пункты списка можно группировать.

```jsx live
render(() => {
    const groups = new Array(5).fill().reduce((acc, _, groupIndex) => {
        return acc.concat({
            label: `Группа №${groupIndex + 1}`,
            options: new Array(5).fill().map((_, index) => ({
                key: index.toString(),
                content: `Пункт ${groupIndex + 1}.${index + 1}`,
            })),
        });
    }, []);

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <Select
                allowUnselect={true}
                size='m'
                options={groups}
                placeholder='Сгруппированный список'
                Option={BaseOption}
                block={true}
            />
        </div>
    );
});
//MOBILE
render(() => {
    const [selected, setSelected] = React.useState();

    const handleChange = ({ selected }) => {
        setSelected(selected);
    };

    const groups = new Array(5).fill().reduce((acc, _, groupIndex) => {
        return acc.concat({
            label: `Группа №${groupIndex + 1}`,
            options: new Array(5).fill().map((_, index) => ({
                key: index.toString(),
                content: `Пункт ${groupIndex + 1}.${index + 1}`,
            })),
        });
    }, []);

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <SelectMobile
                allowUnselect={true}
                options={groups}
                placeholder='Сгруппированный список'
                Option={BaseOption}
                selected={selected}
                onChange={handleChange}
                block={true}
            />
        </div>
    );
});
```

## Длинные списки и ленивая загрузка

Для рендера большого количества данных используйте `OptionsList={VirtualOptionsList}`. На время подгрузки можно использовать скелетон.

```jsx live mobileHeight={640}
render(() => {
    const optionsForVirtualList = React.useMemo(
        () =>
            new Array(1000).fill().map((_, index) => {
                const variableSizeText = `Вы восхитительны! `.repeat(
                    Math.round(Math.random() * 10),
                );

                return {
                    key: index.toString(),
                    content: `${index}. ${variableSizeText}`,
                };
            }),
        [],
    );

    const selectWithVirtualList = (
        <Select
            size='m'
            block={true}
            placeholder='Список из тысячи пунктов'
            options={optionsForVirtualList}
            OptionsList={VirtualOptionsList}
            circularNavigation={true}
            allowUnselect={true}
            visibleOptions={3}
            optionsListWidth='field'
            Option={BaseOption}
        />
    );

    const [loading, setLoading] = React.useState(true);

    const loadingProps = useSelectWithLoading({
        visibleOptions: 6,
        loading,
        Option: (props) => (
            <BaseOption
                {...props}
                option={{
                    ...props.option,
                    content: <div style={{ padding: 'var(--gap-s)' }}>{props.option.content}</div>,
                }}
            />
        ),
    });

    const handleOpen = () => {
        setLoading(true);
        setTimeout(() => setLoading(false), 2000);
    };

    const optionsForListWithSkeleton = React.useMemo(
        () => [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
            { key: '3', content: 'Americium' },
            { key: '4', content: 'Curium' },
            { key: '5', content: 'Berkelium' },
            { key: '6', content: 'Californium' },
            { key: '7', content: 'Einsteinium' },
        ],
        [],
    );

    const selectWithSkeleton = (
        <Select
            allowUnselect={true}
            placeholder='Список со скелетной загрузкой'
            block={true}
            size='m'
            options={optionsForListWithSkeleton}
            onOpen={handleOpen}
            Option={BaseOption}
            {...loadingProps}
        />
    );

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            {selectWithVirtualList}
            <div style={{ height: 'var(--gap-m)' }} />
            {selectWithSkeleton}
        </div>
    );
});
//MOBILE
render(() => {
    const [selected, setSelected] = React.useState();
    const [selectedSkeleton, setSelectedSkeleton] = React.useState();

    const handleChange = ({ selected }) => {
        setSelected(selected);
    };

    const handleChangeSkeleton = ({ selected }) => {
        setSelectedSkeleton(selected);
    };

    const optionsForVirtualList = React.useMemo(
        () =>
            new Array(1000).fill().map((_, index) => {
                const variableSizeText = `Вы восхитительны! `.repeat(
                    Math.round(Math.random() * 10),
                );

                return {
                    key: index.toString(),
                    content: `${index}. ${variableSizeText}`,
                };
            }),
        [],
    );

    const optionsForListWithSkeleton = React.useMemo(
        () => [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
            { key: '3', content: 'Americium' },
            { key: '4', content: 'Curium' },
            { key: '5', content: 'Berkelium' },
            { key: '6', content: 'Californium' },
            { key: '7', content: 'Einsteinium' },
        ],
        [],
    );

    const selectWithVirtualList = (
        <SelectMobile
            size='m'
            block={true}
            placeholder='Список из тысячи пунктов'
            options={optionsForVirtualList}
            OptionsList={VirtualOptionsList}
            circularNavigation={true}
            allowUnselect={true}
            Option={BaseOption}
            selected={selected}
            onChange={handleChange}
        />
    );

    const [loading, setLoading] = React.useState(true);

    const loadingProps = useSelectWithLoading({
        visibleOptions: 6,
        loading,
        Option: (props) => (
            <BaseOption
                {...props}
                option={{
                    ...props.option,
                    content: (
                        <div style={{ padding: 'var(--gap-m) var(--gap-s)' }}>
                            {props.option.content}
                        </div>
                    ),
                }}
            />
        ),
    });

    const handleOpen = () => {
        setLoading(true);
        setTimeout(() => setLoading(false), 2000);
    };

    const selectWithSkeleton = (
        <SelectMobile
            allowUnselect={true}
            placeholder='Список со скелетной загрузкой'
            block={true}
            size='m'
            options={optionsForListWithSkeleton}
            onOpen={handleOpen}
            Option={BaseOption}
            selected={selectedSkeleton}
            onChange={handleChangeSkeleton}
            {...loadingProps}
        />
    );

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            {selectWithVirtualList}
            <div style={{ height: 'var(--gap-m)' }} />
            {selectWithSkeleton}
        </div>
    );
});
```

## Кастомизация

Допускается кастомизировать поле селекта и выпадающий список.
Есть возможность заменить или кастомизировать компоненты `Field`, `Option`, `OptionsList`, `Optgroup`, `Arrow`,
а вместо текста у вариантов выбора (поле `content`) использовать произвольный html контент.
Также стандартный компонент `Field` позволяет управлять рендером выбранных пунктов с помощью свойства `valueRenderer`.

```jsx live mobileHeight={640}
render(() => {
    const options = React.useMemo(
        () => [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
            { key: '3', content: 'Americium' },
            { key: '4', content: 'Curium' },
            { key: '5', content: 'Berkelium' },
            { key: '6', content: 'Californium' },
            { key: '7', content: 'Einsteinium' },
            { key: '8', content: 'Fermium' },
        ],
        [],
    );

    const [selected, setSelected] = React.useState([]);

    const handleChange = ({ selectedMultiple }) => {
        setSelected(selectedMultiple.map((option) => option.key));
    };

    const handleAllToggle = () => {
        if (selected.length === options.length) {
            setSelected([]);
        } else {
            setSelected(options.map((e) => e.key));
        }
    };

    const renderHeader = () => {
        return (
            <div style={{ padding: 'var(--gap-s)' }}>
                <Checkbox
                    checked={selected.length === options.length}
                    size='m'
                    label='Выбрать все'
                    onChange={handleAllToggle}
                />
            </div>
        );
    };

    const presetProps = useSelectWithApply({
        options,
        selected,
        onChange: handleChange,
    });

    const selectWithHeader = (
        <Select
            allowUnselect={true}
            placeholder='Выберите элементы'
            block={true}
            optionsListWidth='field'
            Option={BaseOption}
            size='m'
            {...presetProps}
            optionsListProps={{ ...presetProps.optionsListProps, header: renderHeader() }}
        />
    );

    const renderOption = ({ text, amount, icon, iconSize = 48, padding }) => {
        return (
            <GenericWrapper alignItems='center' padding={padding}>
                <GenericWrapper>
                    <SuperEllipse size={iconSize}>{icon}</SuperEllipse>
                </GenericWrapper>
                <Gap size='m' direction='horizontal' />
                <GenericWrapper>
                    <GenericWrapper column>
                        <Typography.Text color='secondary' view='primary-small'>
                            {text}
                        </Typography.Text>
                        <Gap size='3xs' />
                        <Typography.Text>
                            <Amount
                                value={amount}
                                minority={100}
                                currency='RUR'
                                view='withZeroMinorPart'
                                transparentMinor={true}
                            />
                        </Typography.Text>
                    </GenericWrapper>
                </GenericWrapper>
            </GenericWrapper>
        );
    };

    const renderSelected = ({ selected }) => {
        return selected
            ? renderOption({
                  ...selected.value,
                  padding: undefined,
                  iconSize: 40,
              })
            : undefined;
    };

    const data = [
        {
            key: 'Account1',
            value: {
                text: 'Зарплатный счёт',
                amount: 3405161,
                icon: <StarMIcon />,
                padding: { top: 's', bottom: 's', left: 'm' },
            },
        },
        {
            key: 'Account2',
            value: {
                text: 'Накопительный счёт',
                amount: 6000024,
                icon: <SafeBoxMIcon />,
                padding: { top: 's', bottom: 's', left: 'm' },
            },
        },
    ];

    const pureCellOptions = data.map((item) => ({
        ...item,
        content: renderOption(item.value),
    }));

    const selectWithPureCell = (
        <Select
            allowUnselect={true}
            placeholder='Выберите счёт'
            options={pureCellOptions}
            Option={BaseOption}
            size='m'
            valueRenderer={renderSelected}
            block={true}
        />
    );

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            {selectWithHeader}
            <div style={{ height: 'var(--gap-m)' }} />
            {selectWithPureCell}
        </div>
    );
});
//MOBILE
render(() => {
    const [selected, setSelected] = React.useState();

    const handleChange = ({ selected }) => {
        setSelected(selected);
    };

    const renderOption = ({ text, amount, icon, iconSize = 48, padding }) => {
        return (
            <GenericWrapper alignItems='center' padding={padding}>
                <GenericWrapper>
                    <SuperEllipse size={iconSize}>{icon}</SuperEllipse>
                </GenericWrapper>
                <Gap size='m' direction='horizontal' />
                <GenericWrapper>
                    <GenericWrapper column>
                        <Typography.Text color='secondary' view='primary-small'>
                            {text}
                        </Typography.Text>
                        <Gap size='3xs' />
                        <Typography.Text>
                            <Amount
                                value={amount}
                                minority={100}
                                currency='RUR'
                                view='withZeroMinorPart'
                                transparentMinor={true}
                            />
                        </Typography.Text>
                    </GenericWrapper>
                </GenericWrapper>
            </GenericWrapper>
        );
    };

    const renderSelected = ({ selected }) => {
        return selected
            ? renderOption({
                  ...selected.value,
                  padding: undefined,
                  iconSize: 40,
              })
            : undefined;
    };

    const data = [
        {
            key: 'Account1',
            value: {
                text: 'Зарплатный счёт',
                amount: 3405161,
                icon: <StarMIcon />,
                padding: { top: 's', bottom: 's', left: 'm' },
            },
        },
        {
            key: 'Account2',
            value: {
                text: 'Накопительный счёт',
                amount: 6000024,
                icon: <SafeBoxMIcon />,
                padding: { top: 's', bottom: 's', left: 'm' },
            },
        },
    ];

    const pureCellOptions = data.map((item) => ({
        ...item,
        content: renderOption(item.value),
    }));

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <SelectMobile
                allowUnselect={true}
                placeholder='Выберите счёт'
                options={pureCellOptions}
                Option={BaseOption}
                size='m'
                valueRenderer={renderSelected}
                block={true}
                selected={selected}
                onChange={handleChange}
            />
        </div>
    );
});
```

## Формат отображения списков на мобильных устройствах

В редких кейсах может потребоваться использовать селект с нативным выпадающим списком или
открывать его в [Modal](?path=/docs/modal--modal)
вместо [BottomSheet](?path=/docs/bottomsheet--bottom-sheet).

```jsx live mobileHeight={640}
const groups = [
    {
        label: 'Группа №1',
        options: [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
        ],
    },
    {
        label: 'Группа №2',
        options: [
            { key: '3', content: 'Berkelium' },
            { key: '4', content: 'Californium' },
        ],
    },
];

const options = [
    { key: '1', content: 'Neptunium' },
    { key: '2', content: 'Plutonium' },
    { key: '3', content: 'Americium' },
    { key: '4', content: 'Curium' },
    { key: '5', content: 'Berkelium' },
    { key: '6', content: 'Californium' },
    { key: '7', content: 'Einsteinium' },
    { key: '8', content: 'Fermium' },
];

render(() => {
    const [selectedNative, setSelectedNative] = React.useState();
    const [selectedModal, setSelectedModal] = React.useState();

    const handleChangeNative = ({ selected }) => {
        setSelectedNative(selected);
    };

    const handleChangeModal = ({ selected }) => {
        setSelectedModal(selected);
    };

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <Select
                allowUnselect={true}
                size='m'
                options={groups}
                placeholder='Нативный список'
                nativeSelect={true}
                block={true}
                selected={selectedNative}
                onChange={handleChangeNative}
            />
            <div style={{ height: 'var(--gap-m)' }} />
            <SelectModalMobile
                allowUnselect={true}
                options={options}
                placeholder='Список в модалке'
                block={true}
                Option={BaseOption}
                selected={selectedModal}
                onChange={handleChangeModal}
            />
        </div>
    );
});
```

### Использование в форме

Чтобы использовать селект внутри формы — следует указать атрибут `name`.

```jsx live mobileHeight={640}
render(() => {
    const options = React.useMemo(
        () => [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
            { key: '3', content: 'Americium' },
            { key: '4', content: 'Curium' },
            { key: '5', content: 'Berkelium' },
            { key: '6', content: 'Californium' },
            { key: '7', content: 'Einsteinium' },
            { key: '8', content: 'Fermium' },
        ],
        [],
    );

    const [serialized, setSerialized] = React.useState();
    const [selected, setSelected] = React.useState([]);

    const onSubmit = (event) => {
        event.preventDefault();

        const form = event.target;
        const formData = new FormData(form);

        setSerialized(new URLSearchParams(formData).toString());
    };

    const handleChange = ({ selectedMultiple }) => {
        setSelected(selectedMultiple.map((option) => option.key));
    };

    return (
        <form onSubmit={onSubmit}>
            <Space>
                <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
                    <Select
                        allowUnselect={true}
                        size='m'
                        block={true}
                        options={options}
                        placeholder='Выберите элемент'
                        name='select'
                        multiple={true}
                        onChange={handleChange}
                        selected={selected}
                    />
                </div>

                <Button size='xs' type='submit'>
                    Отправить
                </Button>

                <div>serialized: {serialized}</div>
            </Space>
        </form>
    );
});
//MOBILE
render(() => {
    const options = React.useMemo(
        () => [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
            { key: '3', content: 'Americium' },
            { key: '4', content: 'Curium' },
            { key: '5', content: 'Berkelium' },
            { key: '6', content: 'Californium' },
            { key: '7', content: 'Einsteinium' },
            { key: '8', content: 'Fermium' },
        ],
        [],
    );

    const [serialized, setSerialized] = React.useState();
    const [selected, setSelected] = React.useState([]);

    const onSubmit = (event) => {
        event.preventDefault();

        const form = event.target;
        const formData = new FormData(form);

        setSerialized(new URLSearchParams(formData).toString());
    };

    const handleChange = ({ selectedMultiple }) => {
        setSelected(selectedMultiple.map((option) => option.key));
    };

    return (
        <form onSubmit={onSubmit}>
            <Space>
                <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
                    <SelectMobile
                        allowUnselect={true}
                        size='m'
                        block={true}
                        options={options}
                        placeholder='Выберите элемент'
                        name='select'
                        multiple={true}
                        onChange={handleChange}
                        selected={selected}
                    />
                </div>

                <Button size='xs' type='submit'>
                    Отправить
                </Button>

                <div>serialized: {serialized}</div>
            </Space>
        </form>
    );
});
```

## Управление открытием и закрытием

По умолчанию список для селекта с единичным выбором закрывается сразу после выбора.
В мультиселекте список остается открытым. Изменить это поведение можно с помощью параметра `closeOnSelect`.

```jsx live mobileHeight={640}
render(() => {
    const options = [
        { key: '1', content: 'Neptunium' },
        { key: '2', content: 'Plutonium' },
        { key: '3', content: 'Americium' },
        { key: '4', content: 'Curium' },
        { key: '5', content: 'Berkelium' },
        { key: '6', content: 'Californium' },
        { key: '7', content: 'Einsteinium' },
        { key: '8', content: 'Fermium' },
    ];

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <Select
                allowUnselect={true}
                size='m'
                options={options}
                placeholder='Закроется после выбора'
                Option={BaseOption}
                block={true}
            />
            <div style={{ height: 'var(--gap-m)' }} />
            <Select
                allowUnselect={true}
                size='m'
                options={options}
                placeholder='Не закроется после выбора'
                Option={BaseOption}
                block={true}
                closeOnSelect={false}
            />
        </div>
    );
});
//MOBILE
render(() => {
    const [selectedFirst, setSelectedFirst] = React.useState();
    const [selectedSecond, setSelectedSecond] = React.useState();

    const handleChangeFirst = ({ selected }) => {
        setSelectedFirst(selected);
    };

    const handleChangeSecond = ({ selected }) => {
        setSelectedSecond(selected);
    };

    const options = React.useMemo(
        () => [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
            { key: '3', content: 'Americium' },
            { key: '4', content: 'Curium' },
            { key: '5', content: 'Berkelium' },
            { key: '6', content: 'Californium' },
            { key: '7', content: 'Einsteinium' },
            { key: '8', content: 'Fermium' },
        ],
        [],
    );

    return (
        <div style={{ width: 320 }}>
            <SelectMobile
                allowUnselect={true}
                size='m'
                options={options}
                placeholder='Закроется после выбора'
                Option={BaseOption}
                block={true}
                selected={selectedFirst}
                onChange={handleChangeFirst}
            />
            <div style={{ height: 'var(--gap-m)' }} />
            <SelectMobile
                allowUnselect={true}
                size='m'
                options={options}
                placeholder='Не закроется после выбора'
                Option={BaseOption}
                block={true}
                closeOnSelect={false}
                selected={selectedSecond}
                onChange={handleChangeSecond}
            />
        </div>
    );
});
```

## OptionShape вместо ключей для выбранных пунктов

Иногда может быть удобнее использовать в качестве выбранных значений не ключи, а сами объекты.
В этом случае просто передавайте их через свойство `selected`.

```jsx live mobileHeight={640}
render(() => {
    const options = React.useMemo(
        () => [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
            { key: '3', content: 'Americium' },
            { key: '4', content: 'Curium' },
            { key: '5', content: 'Berkelium' },
            { key: '6', content: 'Californium' },
            { key: '7', content: 'Einsteinium' },
            { key: '8', content: 'Fermium' },
        ],
        [],
    );

    const [selected, setSelected] = React.useState([options[2], options[3]]);

    const handleChange = ({ selectedMultiple }) => {
        setSelected(selectedMultiple);
    };

    return (
        <div style={{ width: document.body.clientWidth < 450 ? '100%' : 320 }}>
            <Select
                allowUnselect={true}
                block={true}
                size='m'
                options={options}
                placeholder='Выберите элемент'
                multiple={true}
                onChange={handleChange}
                selected={selected}
            />
        </div>
    );
});
```

## Другие селекты

На основе селекта построены такие компоненты как [PickerButton](?path=/docs/pickerbutton--picker-button) и
[InputAutocomplete](?path=/docs/inputautocomplete--input-autocomplete).

## Морфология поля ввода

Компонент является оберткой над [FormControl](?path=/docs/formcontrol--form-control), поэтому наследует все доступные для него настройки.

## Строение списка

Список состоит из трех частей: `Header`, `Body`, `Footer`. Каждая часть содержит слот в который можно передать кастомный контент.

```jsx live
render(() => {
    const options = React.useMemo(
        () => [
            { key: '1', content: 'Neptunium' },
            { key: '2', content: 'Plutonium' },
            { key: '3', content: 'Americium' },
            { key: '4', content: 'Curium' },
            { key: '5', content: 'Berkelium' },
        ],
        [],
    );

    return (
        <div
            style={{
                width: document.body.clientWidth < 450 ? '100%' : 320,
                paddingTop: 'var(--select-options-list-top-padding)',
                paddingBottom: 'var(--select-options-list-bottom-padding)',
                boxShadow: 'var(--select-options-list-box-shadow)',
                borderRadius: 'var(--select-options-list-border-radius)',
                background: 'var(--select-option-background)',
                overflow: 'hidden',
            }}
        >
            <OptionsList
                Option={BaseOption}
                getOptionProps={(option, index) => ({
                    index,
                    option,
                    innerProps: {
                        style: {
                            background: '#EBF2FF',
                            borderBottom:
                                index + 1 !== options.length ? '1px solid #D2DCEE' : 'none',
                        },
                    },
                })}
                options={options}
                header={
                    <div
                        style={{
                            height: 12,
                            background: 'linear-gradient(0deg, #FFE6E6, #FFE6E6), #FFFFFF',
                        }}
                    ></div>
                }
                footer={
                    <div
                        style={{
                            height: 12,
                            background: 'linear-gradient(0deg, #FFE6E6, #FFE6E6), #FFFFFF',
                        }}
                    ></div>
                }
            />
        </div>
    );
});
```

## Ширина списка

По умолчанию ширину выпадающего меню задает контент пунктов.
Если контент слишком длинный, с помощью свойства `optionsListWidth='field'` можно установить ширину списка равной ширине инициирующего контрола,
а лишний контент перенесётся или обрежется. При необходимости можно задать кастомную ширину списка.

## Высота списка

Максимальную высоту списка можно настраивать с помощью свойства `visibleOptions`. По умолчанию она равна 5,5 ячейкам (`visibleOptions=5`).

## Позиционирование списка

По умолчанию список располагается под вызвавшим его контролом.
При необходимости положение выпадающего списка можно изменить с помощью свойства `popoverPosition`.

## Строение ячейки

Для кастомных списков можно использовать ячейку [PureCell](?path=/docs/purecell--pure-cell) с расширением в виде контрола.
Благодаря гибкой настройке [PureCell](?path=/docs/purecell--pure-cell) можно получить необходимую конфигурацию элементов списка.
